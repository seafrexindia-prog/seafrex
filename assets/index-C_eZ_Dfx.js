(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ff={exports:{}},fi={},Vf={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),Xh=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),ex=Symbol.for("react.provider"),tx=Symbol.for("react.context"),nx=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ox=Symbol.for("react.memo"),rx=Symbol.for("react.lazy"),Mc=Symbol.iterator;function ix(e){return e===null||typeof e!="object"?null:(e=Mc&&e[Mc]||e["@@iterator"],typeof e=="function"?e:null)}var Gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bf=Object.assign,Of={};function Gs(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||Gf}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qf(){}qf.prototype=Gs.prototype;function Ca(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||Gf}var Ea=Ca.prototype=new qf;Ea.constructor=Ca;Bf(Ea,Gs.prototype);Ea.isPureReactComponent=!0;var Dc=Array.isArray,Hf=Object.prototype.hasOwnProperty,Ta={current:null},$f={key:!0,ref:!0,__self:!0,__source:!0};function zf(e,t,n){var o,r={},i=null,a=null;if(t!=null)for(o in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Hf.call(t,o)&&!$f.hasOwnProperty(o)&&(r[o]=t[o]);var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){for(var u=Array(d),f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}if(e&&e.defaultProps)for(o in d=e.defaultProps,d)r[o]===void 0&&(r[o]=d[o]);return{$$typeof:$o,type:e,key:i,ref:a,props:r,_owner:Ta.current}}function lx(e,t){return{$$typeof:$o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ia(e){return typeof e=="object"&&e!==null&&e.$$typeof===$o}function ax(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lc=/\/+/g;function Ui(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ax(""+e.key):t.toString(36)}function br(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $o:case Kh:a=!0}}if(a)return a=e,r=r(a),e=o===""?"."+Ui(a,0):o,Dc(r)?(n="",e!=null&&(n=e.replace(Lc,"$&/")+"/"),br(r,t,n,"",function(f){return f})):r!=null&&(Ia(r)&&(r=lx(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Lc,"$&/")+"/")+e)),t.push(r)),1;if(a=0,o=o===""?".":o+":",Dc(e))for(var d=0;d<e.length;d++){i=e[d];var u=o+Ui(i,d);a+=br(i,t,n,u,r)}else if(u=ix(e),typeof u=="function")for(e=u.call(e),d=0;!(i=e.next()).done;)i=i.value,u=o+Ui(i,d++),a+=br(i,t,n,u,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Qo(e,t,n){if(e==null)return e;var o=[],r=0;return br(e,o,"","",function(i){return t.call(n,i,r++)}),o}function cx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Sr={transition:null},dx={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Sr,ReactCurrentOwner:Ta};function Jf(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Qo,forEach:function(e,t,n){Qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qo(e,function(){t++}),t},toArray:function(e){return Qo(e,function(t){return t})||[]},only:function(e){if(!Ia(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Gs;Z.Fragment=Qh;Z.Profiler=Zh;Z.PureComponent=Ca;Z.StrictMode=Xh;Z.Suspense=sx;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;Z.act=Jf;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Bf({},e.props),r=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ta.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(u in t)Hf.call(t,u)&&!$f.hasOwnProperty(u)&&(o[u]=t[u]===void 0&&d!==void 0?d[u]:t[u])}var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){d=Array(u);for(var f=0;f<u;f++)d[f]=arguments[f+2];o.children=d}return{$$typeof:$o,type:e.type,key:r,ref:i,props:o,_owner:a}};Z.createContext=function(e){return e={$$typeof:tx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ex,_context:e},e.Consumer=e};Z.createElement=zf;Z.createFactory=function(e){var t=zf.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:nx,render:e}};Z.isValidElement=Ia;Z.lazy=function(e){return{$$typeof:rx,_payload:{_status:-1,_result:e},_init:cx}};Z.memo=function(e,t){return{$$typeof:ox,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Sr.transition;Sr.transition={};try{e()}finally{Sr.transition=t}};Z.unstable_act=Jf;Z.useCallback=function(e,t){return Qe.current.useCallback(e,t)};Z.useContext=function(e){return Qe.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Qe.current.useEffect(e,t)};Z.useId=function(){return Qe.current.useId()};Z.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Qe.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};Z.useRef=function(e){return Qe.current.useRef(e)};Z.useState=function(e){return Qe.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Qe.current.useTransition()};Z.version="18.3.1";Vf.exports=Z;var N=Vf.exports;const on=Yh(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=N,fx=Symbol.for("react.element"),px=Symbol.for("react.fragment"),mx=Object.prototype.hasOwnProperty,hx=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xx={key:!0,ref:!0,__self:!0,__source:!0};function Wf(e,t,n){var o,r={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(o in t)mx.call(t,o)&&!xx.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:fx,type:e,key:i,ref:a,props:r,_owner:hx.current}}fi.Fragment=px;fi.jsx=Wf;fi.jsxs=Wf;Ff.exports=fi;var s=Ff.exports,hl={},Yf={exports:{}},ut={},Kf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,H){var G=k.length;k.push(H);e:for(;0<G;){var K=G-1>>>1,W=k[K];if(0<r(W,H))k[K]=H,k[G]=W,G=K;else break e}}function n(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var H=k[0],G=k.pop();if(G!==H){k[0]=G;e:for(var K=0,W=k.length,he=W>>>1;K<he;){var ee=2*(K+1)-1,Be=k[ee],ne=ee+1,Me=k[ne];if(0>r(Be,G))ne<W&&0>r(Me,Be)?(k[K]=Me,k[ne]=G,K=ne):(k[K]=Be,k[ee]=G,K=ee);else if(ne<W&&0>r(Me,G))k[K]=Me,k[ne]=G,K=ne;else break e}}return H}function r(k,H){var G=k.sortIndex-H.sortIndex;return G!==0?G:k.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,d=a.now();e.unstable_now=function(){return a.now()-d}}var u=[],f=[],p=1,h=null,m=3,y=!1,w=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var H=n(f);H!==null;){if(H.callback===null)o(f);else if(H.startTime<=k)o(f),H.sortIndex=H.expirationTime,t(u,H);else break;H=n(f)}}function b(k){if(E=!1,x(k),!w)if(n(u)!==null)w=!0,S(C);else{var H=n(f);H!==null&&B(b,H.startTime-k)}}function C(k,H){w=!1,E&&(E=!1,v(T),T=-1),y=!0;var G=m;try{for(x(H),h=n(u);h!==null&&(!(h.expirationTime>H)||k&&!P());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var W=K(h.expirationTime<=H);H=e.unstable_now(),typeof W=="function"?h.callback=W:h===n(u)&&o(u),x(H)}else o(u);h=n(u)}if(h!==null)var he=!0;else{var ee=n(f);ee!==null&&B(b,ee.startTime-H),he=!1}return he}finally{h=null,m=G,y=!1}}var A=!1,I=null,T=-1,R=5,_=-1;function P(){return!(e.unstable_now()-_<R)}function L(){if(I!==null){var k=e.unstable_now();_=k;var H=!0;try{H=I(!0,k)}finally{H?O():(A=!1,I=null)}}else A=!1}var O;if(typeof g=="function")O=function(){g(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=L,O=function(){U.postMessage(null)}}else O=function(){j(L,0)};function S(k){I=k,A||(A=!0,O())}function B(k,H){T=j(function(){k(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,S(C))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(k){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var G=m;m=H;try{return k()}finally{m=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var G=m;m=k;try{return H()}finally{m=G}},e.unstable_scheduleCallback=function(k,H,G){var K=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,k){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=G+W,k={id:p++,callback:H,priorityLevel:k,startTime:G,expirationTime:W,sortIndex:-1},G>K?(k.sortIndex=G,t(f,k),n(u)===null&&k===n(f)&&(E?(v(T),T=-1):E=!0,B(b,G-K))):(k.sortIndex=W,t(u,k),w||y||(w=!0,S(C))),k},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(k){var H=m;return function(){var G=m;m=H;try{return k.apply(this,arguments)}finally{m=G}}}})(Qf);Kf.exports=Qf;var gx=Kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=N,dt=gx;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xf=new Set,To={};function es(e,t){As(e,t),As(e+"Capture",t)}function As(e,t){for(To[e]=t,e=0;e<t.length;e++)Xf.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=Object.prototype.hasOwnProperty,vx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uc={},Fc={};function Nx(e){return xl.call(Fc,e)?!0:xl.call(Uc,e)?!1:vx.test(e)?Fc[e]=!0:(Uc[e]=!0,!1)}function wx(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bx(e,t,n,o){if(t===null||typeof t>"u"||wx(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,o,r,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ja=/[\-:]([a-z])/g;function _a(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ja,_a);Ge[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ja,_a);Ge[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ja,_a);Ge[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ka(e,t,n,o){var r=Ge.hasOwnProperty(t)?Ge[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bx(t,n,r,o)&&(n=null),o||r===null?Nx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var rn=yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),cs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),Aa=Symbol.for("react.strict_mode"),gl=Symbol.for("react.profiler"),Zf=Symbol.for("react.provider"),ep=Symbol.for("react.context"),Pa=Symbol.for("react.forward_ref"),yl=Symbol.for("react.suspense"),vl=Symbol.for("react.suspense_list"),Ra=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),tp=Symbol.for("react.offscreen"),Vc=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=Vc&&e[Vc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Fi;function co(e){if(Fi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fi=t&&t[1]||""}return`
`+Fi+e}var Vi=!1;function Gi(e,t){if(!e||Vi)return"";Vi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var o=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){o=f}e.call(t.prototype)}else{try{throw Error()}catch(f){o=f}e()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),i=o.stack.split(`
`),a=r.length-1,d=i.length-1;1<=a&&0<=d&&r[a]!==i[d];)d--;for(;1<=a&&0<=d;a--,d--)if(r[a]!==i[d]){if(a!==1||d!==1)do if(a--,d--,0>d||r[a]!==i[d]){var u=`
`+r[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=d);break}}}finally{Vi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?co(e):""}function Sx(e){switch(e.tag){case 5:return co(e.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return e=Gi(e.type,!1),e;case 11:return e=Gi(e.type.render,!1),e;case 1:return e=Gi(e.type,!0),e;default:return""}}function Nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ds:return"Fragment";case cs:return"Portal";case gl:return"Profiler";case Aa:return"StrictMode";case yl:return"Suspense";case vl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ep:return(e.displayName||"Context")+".Consumer";case Zf:return(e._context.displayName||"Context")+".Provider";case Pa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ra:return t=e.displayName||null,t!==null?t:Nl(e.type)||"Memo";case un:t=e._payload,e=e._init;try{return Nl(e(t))}catch{}}return null}function Cx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(t);case 8:return t===Aa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function np(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ex(e){var t=np(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){o=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(a){o=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){e._valueTracker||(e._valueTracker=Ex(e))}function sp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=np(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wl(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gc(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function op(e,t){t=t.checked,t!=null&&ka(e,"checked",t,!1)}function bl(e,t){op(e,t);var n=jn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sl(e,t.type,jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sl(e,t,n){(t!=="number"||Lr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uo=Array.isArray;function bs(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Cl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(uo(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jn(n)}}function rp(e,t){var n=jn(t.value),o=jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ip(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function El(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ip(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var er,lp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=er.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Io(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tx=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(e){Tx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ho[t]=ho[e]})});function ap(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ho.hasOwnProperty(e)&&ho[e]?(""+t).trim():t+"px"}function cp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=ap(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var Ix=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tl(e,t){if(t){if(Ix[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Il(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=null;function Ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,Ss=null,Cs=null;function Hc(e){if(e=Wo(e)){if(typeof _l!="function")throw Error(q(280));var t=e.stateNode;t&&(t=gi(t),_l(e.stateNode,e.type,t))}}function dp(e){Ss?Cs?Cs.push(e):Cs=[e]:Ss=e}function up(){if(Ss){var e=Ss,t=Cs;if(Cs=Ss=null,Hc(e),t)for(e=0;e<t.length;e++)Hc(t[e])}}function fp(e,t){return e(t)}function pp(){}var Bi=!1;function mp(e,t,n){if(Bi)return e(t,n);Bi=!0;try{return fp(e,t,n)}finally{Bi=!1,(Ss!==null||Cs!==null)&&(pp(),up())}}function jo(e,t){var n=e.stateNode;if(n===null)return null;var o=gi(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var kl=!1;if(Zt)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){kl=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{kl=!1}function jx(e,t,n,o,r,i,a,d,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var xo=!1,Ur=null,Fr=!1,Al=null,_x={onError:function(e){xo=!0,Ur=e}};function kx(e,t,n,o,r,i,a,d,u){xo=!1,Ur=null,jx.apply(_x,arguments)}function Ax(e,t,n,o,r,i,a,d,u){if(kx.apply(this,arguments),xo){if(xo){var f=Ur;xo=!1,Ur=null}else throw Error(q(198));Fr||(Fr=!0,Al=f)}}function ts(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $c(e){if(ts(e)!==e)throw Error(q(188))}function Px(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return $c(r),e;if(i===o)return $c(r),t;i=i.sibling}throw Error(q(188))}if(n.return!==o.return)n=r,o=i;else{for(var a=!1,d=r.child;d;){if(d===n){a=!0,n=r,o=i;break}if(d===o){a=!0,o=r,n=i;break}d=d.sibling}if(!a){for(d=i.child;d;){if(d===n){a=!0,n=i,o=r;break}if(d===o){a=!0,o=i,n=r;break}d=d.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==o)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function xp(e){return e=Px(e),e!==null?gp(e):null}function gp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gp(e);if(t!==null)return t;e=e.sibling}return null}var yp=dt.unstable_scheduleCallback,zc=dt.unstable_cancelCallback,Rx=dt.unstable_shouldYield,Mx=dt.unstable_requestPaint,Te=dt.unstable_now,Dx=dt.unstable_getCurrentPriorityLevel,Da=dt.unstable_ImmediatePriority,vp=dt.unstable_UserBlockingPriority,Vr=dt.unstable_NormalPriority,Lx=dt.unstable_LowPriority,Np=dt.unstable_IdlePriority,pi=null,Bt=null;function Ux(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(pi,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Gx,Fx=Math.log,Vx=Math.LN2;function Gx(e){return e>>>=0,e===0?32:31-(Fx(e)/Vx|0)|0}var tr=64,nr=4194304;function fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gr(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var d=a&~r;d!==0?o=fo(d):(i&=a,i!==0&&(o=fo(i)))}else a=n&~r,a!==0?o=fo(a):i!==0&&(o=fo(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-_t(t),r=1<<n,o|=e[n],t&=~r;return o}function Bx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ox(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-_t(i),d=1<<a,u=r[a];u===-1?(!(d&n)||d&o)&&(r[a]=Bx(d,t)):u<=t&&(e.expiredLanes|=d),i&=~d}}function Pl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wp(){var e=tr;return tr<<=1,!(tr&4194240)&&(tr=64),e}function Oi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function qx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-_t(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function La(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-_t(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var ie=0;function bp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sp,Ua,Cp,Ep,Tp,Rl=!1,sr=[],yn=null,vn=null,Nn=null,_o=new Map,ko=new Map,pn=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jc(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(t.pointerId)}}function Xs(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Wo(t),t!==null&&Ua(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function $x(e,t,n,o,r){switch(t){case"focusin":return yn=Xs(yn,e,t,n,o,r),!0;case"dragenter":return vn=Xs(vn,e,t,n,o,r),!0;case"mouseover":return Nn=Xs(Nn,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return _o.set(i,Xs(_o.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,ko.set(i,Xs(ko.get(i)||null,e,t,n,o,r)),!0}return!1}function Ip(e){var t=qn(e.target);if(t!==null){var n=ts(t);if(n!==null){if(t=n.tag,t===13){if(t=hp(n),t!==null){e.blockedOn=t,Tp(e.priority,function(){Cp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);jl=o,n.target.dispatchEvent(o),jl=null}else return t=Wo(n),t!==null&&Ua(t),e.blockedOn=n,!1;t.shift()}return!0}function Wc(e,t,n){Cr(e)&&n.delete(t)}function zx(){Rl=!1,yn!==null&&Cr(yn)&&(yn=null),vn!==null&&Cr(vn)&&(vn=null),Nn!==null&&Cr(Nn)&&(Nn=null),_o.forEach(Wc),ko.forEach(Wc)}function Zs(e,t){e.blockedOn===t&&(e.blockedOn=null,Rl||(Rl=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,zx)))}function Ao(e){function t(r){return Zs(r,e)}if(0<sr.length){Zs(sr[0],e);for(var n=1;n<sr.length;n++){var o=sr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(yn!==null&&Zs(yn,e),vn!==null&&Zs(vn,e),Nn!==null&&Zs(Nn,e),_o.forEach(t),ko.forEach(t),n=0;n<pn.length;n++)o=pn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)Ip(n),n.blockedOn===null&&pn.shift()}var Es=rn.ReactCurrentBatchConfig,Br=!0;function Jx(e,t,n,o){var r=ie,i=Es.transition;Es.transition=null;try{ie=1,Fa(e,t,n,o)}finally{ie=r,Es.transition=i}}function Wx(e,t,n,o){var r=ie,i=Es.transition;Es.transition=null;try{ie=4,Fa(e,t,n,o)}finally{ie=r,Es.transition=i}}function Fa(e,t,n,o){if(Br){var r=Ml(e,t,n,o);if(r===null)Xi(e,t,o,Or,n),Jc(e,o);else if($x(r,e,t,n,o))o.stopPropagation();else if(Jc(e,o),t&4&&-1<Hx.indexOf(e)){for(;r!==null;){var i=Wo(r);if(i!==null&&Sp(i),i=Ml(e,t,n,o),i===null&&Xi(e,t,o,Or,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Xi(e,t,o,null,n)}}var Or=null;function Ml(e,t,n,o){if(Or=null,e=Ma(o),e=qn(e),e!==null)if(t=ts(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Or=e,null}function jp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dx()){case Da:return 1;case vp:return 4;case Vr:case Lx:return 16;case Np:return 536870912;default:return 16}default:return 16}}var hn=null,Va=null,Er=null;function _p(){if(Er)return Er;var e,t=Va,n=t.length,o,r="value"in hn?hn.value:hn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(o=1;o<=a&&t[n-o]===r[i-o];o++);return Er=r.slice(e,1<o?1-o:void 0)}function Tr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Yc(){return!1}function ft(e){function t(n,o,r,i,a){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?or:Yc,this.isPropagationStopped=Yc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=ft(Bs),Jo=ve({},Bs,{view:0,detail:0}),Yx=ft(Jo),qi,Hi,eo,mi=ve({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==eo&&(eo&&e.type==="mousemove"?(qi=e.screenX-eo.screenX,Hi=e.screenY-eo.screenY):Hi=qi=0,eo=e),qi)},movementY:function(e){return"movementY"in e?e.movementY:Hi}}),Kc=ft(mi),Kx=ve({},mi,{dataTransfer:0}),Qx=ft(Kx),Xx=ve({},Jo,{relatedTarget:0}),$i=ft(Xx),Zx=ve({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),e0=ft(Zx),t0=ve({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n0=ft(t0),s0=ve({},Bs,{data:0}),Qc=ft(s0),o0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i0[e])?!!t[e]:!1}function Ba(){return l0}var a0=ve({},Jo,{key:function(e){if(e.key){var t=o0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c0=ft(a0),d0=ve({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xc=ft(d0),u0=ve({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),f0=ft(u0),p0=ve({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),m0=ft(p0),h0=ve({},mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=ft(h0),g0=[9,13,27,32],Oa=Zt&&"CompositionEvent"in window,go=null;Zt&&"documentMode"in document&&(go=document.documentMode);var y0=Zt&&"TextEvent"in window&&!go,kp=Zt&&(!Oa||go&&8<go&&11>=go),Zc=" ",ed=!1;function Ap(e,t){switch(e){case"keyup":return g0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function v0(e,t){switch(e){case"compositionend":return Pp(t);case"keypress":return t.which!==32?null:(ed=!0,Zc);case"textInput":return e=t.data,e===Zc&&ed?null:e;default:return null}}function N0(e,t){if(us)return e==="compositionend"||!Oa&&Ap(e,t)?(e=_p(),Er=Va=hn=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kp&&t.locale!=="ko"?null:t.data;default:return null}}var w0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w0[e.type]:t==="textarea"}function Rp(e,t,n,o){dp(o),t=qr(t,"onChange"),0<t.length&&(n=new Ga("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var yo=null,Po=null;function b0(e){Hp(e,0)}function hi(e){var t=ms(e);if(sp(t))return e}function S0(e,t){if(e==="change")return t}var Mp=!1;if(Zt){var zi;if(Zt){var Ji="oninput"in document;if(!Ji){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),Ji=typeof nd.oninput=="function"}zi=Ji}else zi=!1;Mp=zi&&(!document.documentMode||9<document.documentMode)}function sd(){yo&&(yo.detachEvent("onpropertychange",Dp),Po=yo=null)}function Dp(e){if(e.propertyName==="value"&&hi(Po)){var t=[];Rp(t,Po,e,Ma(e)),mp(b0,t)}}function C0(e,t,n){e==="focusin"?(sd(),yo=t,Po=n,yo.attachEvent("onpropertychange",Dp)):e==="focusout"&&sd()}function E0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(Po)}function T0(e,t){if(e==="click")return hi(t)}function I0(e,t){if(e==="input"||e==="change")return hi(t)}function j0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:j0;function Ro(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!xl.call(t,r)||!Rt(e[r],t[r]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var n=od(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=od(n)}}function Lp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Up(){for(var e=window,t=Lr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lr(e.document)}return t}function qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _0(e){var t=Up(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(o!==null&&qa(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=rd(n,i);var a=rd(n,o);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k0=Zt&&"documentMode"in document&&11>=document.documentMode,fs=null,Dl=null,vo=null,Ll=!1;function id(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ll||fs==null||fs!==Lr(o)||(o=fs,"selectionStart"in o&&qa(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vo&&Ro(vo,o)||(vo=o,o=qr(Dl,"onSelect"),0<o.length&&(t=new Ga("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=fs)))}function rr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ps={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionend:rr("Transition","TransitionEnd")},Wi={},Fp={};Zt&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function xi(e){if(Wi[e])return Wi[e];if(!ps[e])return e;var t=ps[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fp)return Wi[e]=t[n];return e}var Vp=xi("animationend"),Gp=xi("animationiteration"),Bp=xi("animationstart"),Op=xi("transitionend"),qp=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){qp.set(e,t),es(t,[e])}for(var Yi=0;Yi<ld.length;Yi++){var Ki=ld[Yi],A0=Ki.toLowerCase(),P0=Ki[0].toUpperCase()+Ki.slice(1);Pn(A0,"on"+P0)}Pn(Vp,"onAnimationEnd");Pn(Gp,"onAnimationIteration");Pn(Bp,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Op,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function ad(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Ax(o,t,void 0,e),e.currentTarget=null}function Hp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var a=o.length-1;0<=a;a--){var d=o[a],u=d.instance,f=d.currentTarget;if(d=d.listener,u!==i&&r.isPropagationStopped())break e;ad(r,d,f),i=u}else for(a=0;a<o.length;a++){if(d=o[a],u=d.instance,f=d.currentTarget,d=d.listener,u!==i&&r.isPropagationStopped())break e;ad(r,d,f),i=u}}}if(Fr)throw e=Al,Fr=!1,Al=null,e}function ue(e,t){var n=t[Bl];n===void 0&&(n=t[Bl]=new Set);var o=e+"__bubble";n.has(o)||($p(t,e,2,!1),n.add(o))}function Qi(e,t,n){var o=0;t&&(o|=4),$p(n,e,o,t)}var ir="_reactListening"+Math.random().toString(36).slice(2);function Mo(e){if(!e[ir]){e[ir]=!0,Xf.forEach(function(n){n!=="selectionchange"&&(R0.has(n)||Qi(n,!1,e),Qi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ir]||(t[ir]=!0,Qi("selectionchange",!1,t))}}function $p(e,t,n,o){switch(jp(t)){case 1:var r=Jx;break;case 4:r=Wx;break;default:r=Fa}n=r.bind(null,t,n,e),r=void 0,!kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Xi(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var a=o.tag;if(a===3||a===4){var d=o.stateNode.containerInfo;if(d===r||d.nodeType===8&&d.parentNode===r)break;if(a===4)for(a=o.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;a=a.return}for(;d!==null;){if(a=qn(d),a===null)return;if(u=a.tag,u===5||u===6){o=i=a;continue e}d=d.parentNode}}o=o.return}mp(function(){var f=i,p=Ma(n),h=[];e:{var m=qp.get(e);if(m!==void 0){var y=Ga,w=e;switch(e){case"keypress":if(Tr(n)===0)break e;case"keydown":case"keyup":y=c0;break;case"focusin":w="focus",y=$i;break;case"focusout":w="blur",y=$i;break;case"beforeblur":case"afterblur":y=$i;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=f0;break;case Vp:case Gp:case Bp:y=e0;break;case Op:y=m0;break;case"scroll":y=Yx;break;case"wheel":y=x0;break;case"copy":case"cut":case"paste":y=n0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Xc}var E=(t&4)!==0,j=!E&&e==="scroll",v=E?m!==null?m+"Capture":null:m;E=[];for(var g=f,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=jo(g,v),b!=null&&E.push(Do(g,b,x)))),j)break;g=g.return}0<E.length&&(m=new y(m,w,null,n,p),h.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==jl&&(w=n.relatedTarget||n.fromElement)&&(qn(w)||w[en]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=f,w=w?qn(w):null,w!==null&&(j=ts(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=f),y!==w)){if(E=Kc,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(E=Xc,b="onPointerLeave",v="onPointerEnter",g="pointer"),j=y==null?m:ms(y),x=w==null?m:ms(w),m=new E(b,g+"leave",y,n,p),m.target=j,m.relatedTarget=x,b=null,qn(p)===f&&(E=new E(v,g+"enter",w,n,p),E.target=x,E.relatedTarget=j,b=E),j=b,y&&w)t:{for(E=y,v=w,g=0,x=E;x;x=ls(x))g++;for(x=0,b=v;b;b=ls(b))x++;for(;0<g-x;)E=ls(E),g--;for(;0<x-g;)v=ls(v),x--;for(;g--;){if(E===v||v!==null&&E===v.alternate)break t;E=ls(E),v=ls(v)}E=null}else E=null;y!==null&&cd(h,m,y,E,!1),w!==null&&j!==null&&cd(h,j,w,E,!0)}}e:{if(m=f?ms(f):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var C=S0;else if(td(m))if(Mp)C=I0;else{C=E0;var A=C0}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=T0);if(C&&(C=C(e,f))){Rp(h,C,n,p);break e}A&&A(e,m,f),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&Sl(m,"number",m.value)}switch(A=f?ms(f):window,e){case"focusin":(td(A)||A.contentEditable==="true")&&(fs=A,Dl=f,vo=null);break;case"focusout":vo=Dl=fs=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,id(h,n,p);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":id(h,n,p)}var I;if(Oa)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else us?Ap(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(kp&&n.locale!=="ko"&&(us||T!=="onCompositionStart"?T==="onCompositionEnd"&&us&&(I=_p()):(hn=p,Va="value"in hn?hn.value:hn.textContent,us=!0)),A=qr(f,T),0<A.length&&(T=new Qc(T,e,null,n,p),h.push({event:T,listeners:A}),I?T.data=I:(I=Pp(n),I!==null&&(T.data=I)))),(I=y0?v0(e,n):N0(e,n))&&(f=qr(f,"onBeforeInput"),0<f.length&&(p=new Qc("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:f}),p.data=I))}Hp(h,t)})}function Do(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=jo(e,n),i!=null&&o.unshift(Do(e,i,r)),i=jo(e,t),i!=null&&o.push(Do(e,i,r))),e=e.return}return o}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cd(e,t,n,o,r){for(var i=t._reactName,a=[];n!==null&&n!==o;){var d=n,u=d.alternate,f=d.stateNode;if(u!==null&&u===o)break;d.tag===5&&f!==null&&(d=f,r?(u=jo(n,i),u!=null&&a.unshift(Do(n,u,d))):r||(u=jo(n,i),u!=null&&a.push(Do(n,u,d)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var M0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(M0,`
`).replace(D0,"")}function lr(e,t,n){if(t=dd(t),dd(e)!==t&&n)throw Error(q(425))}function Hr(){}var Ul=null,Fl=null;function Vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch(F0)}:Gl;function F0(e){setTimeout(function(){throw e})}function Zi(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),Ao(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Ao(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Os,Lo="__reactProps$"+Os,en="__reactContainer$"+Os,Bl="__reactEvents$"+Os,V0="__reactListeners$"+Os,G0="__reactHandles$"+Os;function qn(e){var t=e[Vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[en]||n[Vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fd(e);e!==null;){if(n=e[Vt])return n;e=fd(e)}return t}e=n,n=e.parentNode}return null}function Wo(e){return e=e[Vt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function gi(e){return e[Lo]||null}var Ol=[],hs=-1;function Rn(e){return{current:e}}function me(e){0>hs||(e.current=Ol[hs],Ol[hs]=null,hs--)}function ae(e,t){hs++,Ol[hs]=e.current,e.current=t}var _n={},ze=Rn(_n),tt=Rn(!1),Yn=_n;function Ps(e,t){var n=e.type.contextTypes;if(!n)return _n;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function nt(e){return e=e.childContextTypes,e!=null}function $r(){me(tt),me(ze)}function pd(e,t,n){if(ze.current!==_n)throw Error(q(168));ae(ze,t),ae(tt,n)}function zp(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(q(108,Cx(e)||"Unknown",r));return ve({},n,o)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,Yn=ze.current,ae(ze,e),ae(tt,tt.current),!0}function md(e,t,n){var o=e.stateNode;if(!o)throw Error(q(169));n?(e=zp(e,t,Yn),o.__reactInternalMemoizedMergedChildContext=e,me(tt),me(ze),ae(ze,e)):me(tt),ae(tt,n)}var Wt=null,yi=!1,el=!1;function Jp(e){Wt===null?Wt=[e]:Wt.push(e)}function B0(e){yi=!0,Jp(e)}function Mn(){if(!el&&Wt!==null){el=!0;var e=0,t=ie;try{var n=Wt;for(ie=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Wt=null,yi=!1}catch(r){throw Wt!==null&&(Wt=Wt.slice(e+1)),yp(Da,Mn),r}finally{ie=t,el=!1}}return null}var xs=[],gs=0,Jr=null,Wr=0,xt=[],gt=0,Kn=null,Kt=1,Qt="";function Bn(e,t){xs[gs++]=Wr,xs[gs++]=Jr,Jr=e,Wr=t}function Wp(e,t,n){xt[gt++]=Kt,xt[gt++]=Qt,xt[gt++]=Kn,Kn=e;var o=Kt;e=Qt;var r=32-_t(o)-1;o&=~(1<<r),n+=1;var i=32-_t(t)+r;if(30<i){var a=r-r%5;i=(o&(1<<a)-1).toString(32),o>>=a,r-=a,Kt=1<<32-_t(t)+r|n<<r|o,Qt=i+e}else Kt=1<<i|n<<r|o,Qt=e}function Ha(e){e.return!==null&&(Bn(e,1),Wp(e,1,0))}function $a(e){for(;e===Jr;)Jr=xs[--gs],xs[gs]=null,Wr=xs[--gs],xs[gs]=null;for(;e===Kn;)Kn=xt[--gt],xt[gt]=null,Qt=xt[--gt],xt[gt]=null,Kt=xt[--gt],xt[gt]=null}var at=null,it=null,xe=!1,jt=null;function Yp(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,it=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kn!==null?{id:Kt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,it=null,!0):!1;default:return!1}}function ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(xe){var t=it;if(t){var n=t;if(!hd(e,t)){if(ql(e))throw Error(q(418));t=wn(n.nextSibling);var o=at;t&&hd(e,t)?Yp(o,n):(e.flags=e.flags&-4097|2,xe=!1,at=e)}}else{if(ql(e))throw Error(q(418));e.flags=e.flags&-4097|2,xe=!1,at=e}}}function xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function ar(e){if(e!==at)return!1;if(!xe)return xd(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vl(e.type,e.memoizedProps)),t&&(t=it)){if(ql(e))throw Kp(),Error(q(418));for(;t;)Yp(e,t),t=wn(t.nextSibling)}if(xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=at?wn(e.stateNode.nextSibling):null;return!0}function Kp(){for(var e=it;e;)e=wn(e.nextSibling)}function Rs(){it=at=null,xe=!1}function za(e){jt===null?jt=[e]:jt.push(e)}var O0=rn.ReactCurrentBatchConfig;function to(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var o=n.stateNode}if(!o)throw Error(q(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var d=r.refs;a===null?delete d[i]:d[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function cr(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gd(e){var t=e._init;return t(e._payload)}function Qp(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function o(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function r(v,g){return v=En(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function d(v,g,x,b){return g===null||g.tag!==6?(g=ll(x,v.mode,b),g.return=v,g):(g=r(g,x),g.return=v,g)}function u(v,g,x,b){var C=x.type;return C===ds?p(v,g,x.props.children,b,x.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===un&&gd(C)===g.type)?(b=r(g,x.props),b.ref=to(v,g,x),b.return=v,b):(b=Rr(x.type,x.key,x.props,null,v.mode,b),b.ref=to(v,g,x),b.return=v,b)}function f(v,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=al(x,v.mode,b),g.return=v,g):(g=r(g,x.children||[]),g.return=v,g)}function p(v,g,x,b,C){return g===null||g.tag!==7?(g=Jn(x,v.mode,b,C),g.return=v,g):(g=r(g,x),g.return=v,g)}function h(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ll(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xo:return x=Rr(g.type,g.key,g.props,null,v.mode,x),x.ref=to(v,null,g),x.return=v,x;case cs:return g=al(g,v.mode,x),g.return=v,g;case un:var b=g._init;return h(v,b(g._payload),x)}if(uo(g)||Ks(g))return g=Jn(g,v.mode,x,null),g.return=v,g;cr(v,g)}return null}function m(v,g,x,b){var C=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:d(v,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xo:return x.key===C?u(v,g,x,b):null;case cs:return x.key===C?f(v,g,x,b):null;case un:return C=x._init,m(v,g,C(x._payload),b)}if(uo(x)||Ks(x))return C!==null?null:p(v,g,x,b,null);cr(v,x)}return null}function y(v,g,x,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,d(g,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xo:return v=v.get(b.key===null?x:b.key)||null,u(g,v,b,C);case cs:return v=v.get(b.key===null?x:b.key)||null,f(g,v,b,C);case un:var A=b._init;return y(v,g,x,A(b._payload),C)}if(uo(b)||Ks(b))return v=v.get(x)||null,p(g,v,b,C,null);cr(g,b)}return null}function w(v,g,x,b){for(var C=null,A=null,I=g,T=g=0,R=null;I!==null&&T<x.length;T++){I.index>T?(R=I,I=null):R=I.sibling;var _=m(v,I,x[T],b);if(_===null){I===null&&(I=R);break}e&&I&&_.alternate===null&&t(v,I),g=i(_,g,T),A===null?C=_:A.sibling=_,A=_,I=R}if(T===x.length)return n(v,I),xe&&Bn(v,T),C;if(I===null){for(;T<x.length;T++)I=h(v,x[T],b),I!==null&&(g=i(I,g,T),A===null?C=I:A.sibling=I,A=I);return xe&&Bn(v,T),C}for(I=o(v,I);T<x.length;T++)R=y(I,v,T,x[T],b),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?T:R.key),g=i(R,g,T),A===null?C=R:A.sibling=R,A=R);return e&&I.forEach(function(P){return t(v,P)}),xe&&Bn(v,T),C}function E(v,g,x,b){var C=Ks(x);if(typeof C!="function")throw Error(q(150));if(x=C.call(x),x==null)throw Error(q(151));for(var A=C=null,I=g,T=g=0,R=null,_=x.next();I!==null&&!_.done;T++,_=x.next()){I.index>T?(R=I,I=null):R=I.sibling;var P=m(v,I,_.value,b);if(P===null){I===null&&(I=R);break}e&&I&&P.alternate===null&&t(v,I),g=i(P,g,T),A===null?C=P:A.sibling=P,A=P,I=R}if(_.done)return n(v,I),xe&&Bn(v,T),C;if(I===null){for(;!_.done;T++,_=x.next())_=h(v,_.value,b),_!==null&&(g=i(_,g,T),A===null?C=_:A.sibling=_,A=_);return xe&&Bn(v,T),C}for(I=o(v,I);!_.done;T++,_=x.next())_=y(I,v,T,_.value,b),_!==null&&(e&&_.alternate!==null&&I.delete(_.key===null?T:_.key),g=i(_,g,T),A===null?C=_:A.sibling=_,A=_);return e&&I.forEach(function(L){return t(v,L)}),xe&&Bn(v,T),C}function j(v,g,x,b){if(typeof x=="object"&&x!==null&&x.type===ds&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Xo:e:{for(var C=x.key,A=g;A!==null;){if(A.key===C){if(C=x.type,C===ds){if(A.tag===7){n(v,A.sibling),g=r(A,x.props.children),g.return=v,v=g;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===un&&gd(C)===A.type){n(v,A.sibling),g=r(A,x.props),g.ref=to(v,A,x),g.return=v,v=g;break e}n(v,A);break}else t(v,A);A=A.sibling}x.type===ds?(g=Jn(x.props.children,v.mode,b,x.key),g.return=v,v=g):(b=Rr(x.type,x.key,x.props,null,v.mode,b),b.ref=to(v,g,x),b.return=v,v=b)}return a(v);case cs:e:{for(A=x.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(v,g.sibling),g=r(g,x.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=al(x,v.mode,b),g.return=v,v=g}return a(v);case un:return A=x._init,j(v,g,A(x._payload),b)}if(uo(x))return w(v,g,x,b);if(Ks(x))return E(v,g,x,b);cr(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(v,g.sibling),g=r(g,x),g.return=v,v=g):(n(v,g),g=ll(x,v.mode,b),g.return=v,v=g),a(v)):n(v,g)}return j}var Ms=Qp(!0),Xp=Qp(!1),Yr=Rn(null),Kr=null,ys=null,Ja=null;function Wa(){Ja=ys=Kr=null}function Ya(e){var t=Yr.current;me(Yr),e._currentValue=t}function $l(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){Kr=e,Ja=ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Ja!==e)if(e={context:e,memoizedValue:t,next:null},ys===null){if(Kr===null)throw Error(q(308));ys=e,Kr.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var Hn=null;function Ka(e){Hn===null?Hn=[e]:Hn.push(e)}function Zp(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,Ka(t)):(n.next=r.next,r.next=n),t.interleaved=n,tn(e,o)}function tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function Qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function em(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,se&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,tn(e,n)}return r=o.interleaved,r===null?(t.next=t,Ka(o)):(t.next=r.next,r.next=t),o.interleaved=t,tn(e,n)}function Ir(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,La(e,n)}}function yd(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qr(e,t,n,o){var r=e.updateQueue;fn=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,d=r.shared.pending;if(d!==null){r.shared.pending=null;var u=d,f=u.next;u.next=null,a===null?i=f:a.next=f,a=u;var p=e.alternate;p!==null&&(p=p.updateQueue,d=p.lastBaseUpdate,d!==a&&(d===null?p.firstBaseUpdate=f:d.next=f,p.lastBaseUpdate=u))}if(i!==null){var h=r.baseState;a=0,p=f=u=null,d=i;do{var m=d.lane,y=d.eventTime;if((o&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var w=e,E=d;switch(m=t,y=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){h=w.call(y,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,m=typeof w=="function"?w.call(y,h,m):w,m==null)break e;h=ve({},h,m);break e;case 2:fn=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[d]:m.push(d))}else y={eventTime:y,lane:m,tag:d.tag,payload:d.payload,callback:d.callback,next:null},p===null?(f=p=y,u=h):p=p.next=y,a|=m;if(d=d.next,d===null){if(d=r.shared.pending,d===null)break;m=d,d=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(p===null&&(u=h),r.baseState=u,r.firstBaseUpdate=f,r.lastBaseUpdate=p,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Xn|=a,e.lanes=a,e.memoizedState=h}}function vd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(q(191,r));r.call(o)}}}var Yo={},Ot=Rn(Yo),Uo=Rn(Yo),Fo=Rn(Yo);function $n(e){if(e===Yo)throw Error(q(174));return e}function Xa(e,t){switch(ae(Fo,t),ae(Uo,e),ae(Ot,Yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:El(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=El(t,e)}me(Ot),ae(Ot,t)}function Ds(){me(Ot),me(Uo),me(Fo)}function tm(e){$n(Fo.current);var t=$n(Ot.current),n=El(t,e.type);t!==n&&(ae(Uo,e),ae(Ot,n))}function Za(e){Uo.current===e&&(me(Ot),me(Uo))}var ge=Rn(0);function Xr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function ec(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var jr=rn.ReactCurrentDispatcher,nl=rn.ReactCurrentBatchConfig,Qn=0,ye=null,_e=null,Pe=null,Zr=!1,No=!1,Vo=0,q0=0;function Oe(){throw Error(q(321))}function tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function nc(e,t,n,o,r,i){if(Qn=i,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jr.current=e===null||e.memoizedState===null?J0:W0,e=n(o,r),No){i=0;do{if(No=!1,Vo=0,25<=i)throw Error(q(301));i+=1,Pe=_e=null,t.updateQueue=null,jr.current=Y0,e=n(o,r)}while(No)}if(jr.current=ei,t=_e!==null&&_e.next!==null,Qn=0,Pe=_e=ye=null,Zr=!1,t)throw Error(q(300));return e}function sc(){var e=Vo!==0;return Vo=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ye.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function bt(){if(_e===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Pe===null?ye.memoizedState:Pe.next;if(t!==null)Pe=t,_e=e;else{if(e===null)throw Error(q(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Pe===null?ye.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Go(e,t){return typeof t=="function"?t(e):t}function sl(e){var t=bt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var o=_e,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var d=a=null,u=null,f=i;do{var p=f.lane;if((Qn&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),o=f.hasEagerState?f.eagerState:e(o,f.action);else{var h={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(d=u=h,a=o):u=u.next=h,ye.lanes|=p,Xn|=p}f=f.next}while(f!==null&&f!==i);u===null?a=o:u.next=d,Rt(o,t.memoizedState)||(et=!0),t.memoizedState=o,t.baseState=a,t.baseQueue=u,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,ye.lanes|=i,Xn|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ol(e){var t=bt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=e(i,a.action),a=a.next;while(a!==r);Rt(i,t.memoizedState)||(et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function nm(){}function sm(e,t){var n=ye,o=bt(),r=t(),i=!Rt(o.memoizedState,r);if(i&&(o.memoizedState=r,et=!0),o=o.queue,oc(im.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Bo(9,rm.bind(null,n,o,r,t),void 0,null),Re===null)throw Error(q(349));Qn&30||om(n,t,r)}return r}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rm(e,t,n,o){t.value=n,t.getSnapshot=o,lm(t)&&am(e)}function im(e,t,n){return n(function(){lm(t)&&am(e)})}function lm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function am(e){var t=tn(e,1);t!==null&&kt(t,e,1,-1)}function Nd(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=z0.bind(null,ye,e),[t.memoizedState,e]}function Bo(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function cm(){return bt().memoizedState}function _r(e,t,n,o){var r=Ft();ye.flags|=e,r.memoizedState=Bo(1|t,n,void 0,o===void 0?null:o)}function vi(e,t,n,o){var r=bt();o=o===void 0?null:o;var i=void 0;if(_e!==null){var a=_e.memoizedState;if(i=a.destroy,o!==null&&tc(o,a.deps)){r.memoizedState=Bo(t,n,i,o);return}}ye.flags|=e,r.memoizedState=Bo(1|t,n,i,o)}function wd(e,t){return _r(8390656,8,e,t)}function oc(e,t){return vi(2048,8,e,t)}function dm(e,t){return vi(4,2,e,t)}function um(e,t){return vi(4,4,e,t)}function fm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pm(e,t,n){return n=n!=null?n.concat([e]):null,vi(4,4,fm.bind(null,t,e),n)}function rc(){}function mm(e,t){var n=bt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&tc(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function hm(e,t){var n=bt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&tc(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function xm(e,t,n){return Qn&21?(Rt(n,t)||(n=wp(),ye.lanes|=n,Xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function H0(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var o=nl.transition;nl.transition={};try{e(!1),t()}finally{ie=n,nl.transition=o}}function gm(){return bt().memoizedState}function $0(e,t,n){var o=Cn(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},ym(e))vm(t,n);else if(n=Zp(e,t,n,o),n!==null){var r=Ye();kt(n,e,o,r),Nm(n,t,o)}}function z0(e,t,n){var o=Cn(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(ym(e))vm(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,d=i(a,n);if(r.hasEagerState=!0,r.eagerState=d,Rt(d,a)){var u=t.interleaved;u===null?(r.next=r,Ka(t)):(r.next=u.next,u.next=r),t.interleaved=r;return}}catch{}finally{}n=Zp(e,t,r,o),n!==null&&(r=Ye(),kt(n,e,o,r),Nm(n,t,o))}}function ym(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function vm(e,t){No=Zr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nm(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,La(e,n)}}var ei={readContext:wt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},J0={readContext:wt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:wd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_r(4194308,4,fm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _r(4194308,4,e,t)},useInsertionEffect:function(e,t){return _r(4,2,e,t)},useMemo:function(e,t){var n=Ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Ft();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=$0.bind(null,ye,e),[o.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:Nd,useDebugValue:rc,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=Nd(!1),t=e[0];return e=H0.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ye,r=Ft();if(xe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Re===null)throw Error(q(349));Qn&30||om(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,wd(im.bind(null,o,i,e),[e]),o.flags|=2048,Bo(9,rm.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=Ft(),t=Re.identifierPrefix;if(xe){var n=Qt,o=Kt;n=(o&~(1<<32-_t(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=q0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W0={readContext:wt,useCallback:mm,useContext:wt,useEffect:oc,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:um,useMemo:hm,useReducer:sl,useRef:cm,useState:function(){return sl(Go)},useDebugValue:rc,useDeferredValue:function(e){var t=bt();return xm(t,_e.memoizedState,e)},useTransition:function(){var e=sl(Go)[0],t=bt().memoizedState;return[e,t]},useMutableSource:nm,useSyncExternalStore:sm,useId:gm,unstable_isNewReconciler:!1},Y0={readContext:wt,useCallback:mm,useContext:wt,useEffect:oc,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:um,useMemo:hm,useReducer:ol,useRef:cm,useState:function(){return ol(Go)},useDebugValue:rc,useDeferredValue:function(e){var t=bt();return _e===null?t.memoizedState=e:xm(t,_e.memoizedState,e)},useTransition:function(){var e=ol(Go)[0],t=bt().memoizedState;return[e,t]},useMutableSource:nm,useSyncExternalStore:sm,useId:gm,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ni={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Ye(),r=Cn(e),i=Xt(o,r);i.payload=t,n!=null&&(i.callback=n),t=bn(e,i,r),t!==null&&(kt(t,e,r,o),Ir(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Ye(),r=Cn(e),i=Xt(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=bn(e,i,r),t!==null&&(kt(t,e,r,o),Ir(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),o=Cn(e),r=Xt(n,o);r.tag=2,t!=null&&(r.callback=t),t=bn(e,r,o),t!==null&&(kt(t,e,o,n),Ir(t,e,o))}};function bd(e,t,n,o,r,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ro(n,o)||!Ro(r,i):!0}function wm(e,t,n){var o=!1,r=_n,i=t.contextType;return typeof i=="object"&&i!==null?i=wt(i):(r=nt(t)?Yn:ze.current,o=t.contextTypes,i=(o=o!=null)?Ps(e,r):_n),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sd(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function Jl(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Qa(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=wt(i):(i=nt(t)?Yn:ze.current,r.context=Ps(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zl(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ni.enqueueReplaceState(r,r.state,null),Qr(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,t){try{var n="",o=t;do n+=Sx(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function bm(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){ni||(ni=!0,oa=o),Wl(e,t)},n}function Sm(e,t,n){n=Xt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){Wl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wl(e,t),typeof o!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Cd(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new K0;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=dg.bind(null,e,t,n),t.then(e,e))}function Ed(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Td(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,bn(n,t,1))),n.lanes|=1),e)}var Q0=rn.ReactCurrentOwner,et=!1;function We(e,t,n,o){t.child=e===null?Xp(t,null,n,o):Ms(t,e.child,n,o)}function Id(e,t,n,o,r){n=n.render;var i=t.ref;return Ts(t,r),o=nc(e,t,n,o,i,r),n=sc(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,nn(e,t,r)):(xe&&n&&Ha(t),t.flags|=1,We(e,t,o,r),t.child)}function jd(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!pc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Cm(e,t,i,o,r)):(e=Rr(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ro,n(a,o)&&e.ref===t.ref)return nn(e,t,r)}return t.flags|=1,e=En(i,o),e.ref=t.ref,e.return=t,t.child=e}function Cm(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(Ro(i,o)&&e.ref===t.ref)if(et=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,nn(e,t,r)}return Yl(e,t,n,o,r)}function Em(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Ns,rt),rt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(Ns,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,ae(Ns,rt),rt|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,ae(Ns,rt),rt|=o;return We(e,t,r,n),t.child}function Tm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yl(e,t,n,o,r){var i=nt(n)?Yn:ze.current;return i=Ps(t,i),Ts(t,r),n=nc(e,t,n,o,i,r),o=sc(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,nn(e,t,r)):(xe&&o&&Ha(t),t.flags|=1,We(e,t,n,r),t.child)}function _d(e,t,n,o,r){if(nt(n)){var i=!0;zr(t)}else i=!1;if(Ts(t,r),t.stateNode===null)kr(e,t),wm(t,n,o),Jl(t,n,o,r),o=!0;else if(e===null){var a=t.stateNode,d=t.memoizedProps;a.props=d;var u=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=wt(f):(f=nt(n)?Yn:ze.current,f=Ps(t,f));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(d!==o||u!==f)&&Sd(t,a,o,f),fn=!1;var m=t.memoizedState;a.state=m,Qr(t,o,a,r),u=t.memoizedState,d!==o||m!==u||tt.current||fn?(typeof p=="function"&&(zl(t,n,p,o),u=t.memoizedState),(d=fn||bd(t,n,d,o,m,u,f))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=u),a.props=o,a.state=u,a.context=f,o=d):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{a=t.stateNode,em(e,t),d=t.memoizedProps,f=t.type===t.elementType?d:Tt(t.type,d),a.props=f,h=t.pendingProps,m=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=wt(u):(u=nt(n)?Yn:ze.current,u=Ps(t,u));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(d!==h||m!==u)&&Sd(t,a,o,u),fn=!1,m=t.memoizedState,a.state=m,Qr(t,o,a,r);var w=t.memoizedState;d!==h||m!==w||tt.current||fn?(typeof y=="function"&&(zl(t,n,y,o),w=t.memoizedState),(f=fn||bd(t,n,f,o,m,w,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(o,w,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(o,w,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||d===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=w),a.props=o,a.state=w,a.context=u,o=f):(typeof a.componentDidUpdate!="function"||d===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),o=!1)}return Kl(e,t,n,o,i,r)}function Kl(e,t,n,o,r,i){Tm(e,t);var a=(t.flags&128)!==0;if(!o&&!a)return r&&md(t,n,!1),nn(e,t,i);o=t.stateNode,Q0.current=t;var d=a&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&a?(t.child=Ms(t,e.child,null,i),t.child=Ms(t,null,d,i)):We(e,t,d,i),t.memoizedState=o.state,r&&md(t,n,!0),t.child}function Im(e){var t=e.stateNode;t.pendingContext?pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pd(e,t.context,!1),Xa(e,t.containerInfo)}function kd(e,t,n,o,r){return Rs(),za(r),t.flags|=256,We(e,t,n,o),t.child}var Ql={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function jm(e,t,n){var o=t.pendingProps,r=ge.current,i=!1,a=(t.flags&128)!==0,d;if((d=a)||(d=e!==null&&e.memoizedState===null?!1:(r&2)!==0),d?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ae(ge,r&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=o.children,e=o.fallback,i?(o=t.mode,i=t.child,a={mode:"hidden",children:a},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Si(a,o,0,null),e=Jn(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xl(n),t.memoizedState=Ql,e):ic(t,a));if(r=e.memoizedState,r!==null&&(d=r.dehydrated,d!==null))return X0(e,t,a,o,d,r,n);if(i){i=o.fallback,a=t.mode,r=e.child,d=r.sibling;var u={mode:"hidden",children:o.children};return!(a&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=u,t.deletions=null):(o=En(r,u),o.subtreeFlags=r.subtreeFlags&14680064),d!==null?i=En(d,i):(i=Jn(i,a,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,a=e.child.memoizedState,a=a===null?Xl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ql,o}return i=e.child,e=i.sibling,o=En(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ic(e,t){return t=Si({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dr(e,t,n,o){return o!==null&&za(o),Ms(t,e.child,null,n),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X0(e,t,n,o,r,i,a){if(n)return t.flags&256?(t.flags&=-257,o=rl(Error(q(422))),dr(e,t,a,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Si({mode:"visible",children:o.children},r,0,null),i=Jn(i,r,a,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&Ms(t,e.child,null,a),t.child.memoizedState=Xl(a),t.memoizedState=Ql,i);if(!(t.mode&1))return dr(e,t,a,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var d=o.dgst;return o=d,i=Error(q(419)),o=rl(i,o,void 0),dr(e,t,a,o)}if(d=(a&e.childLanes)!==0,et||d){if(o=Re,o!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,tn(e,r),kt(o,e,r,-1))}return fc(),o=rl(Error(q(421))),dr(e,t,a,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=ug.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,it=wn(r.nextSibling),at=t,xe=!0,jt=null,e!==null&&(xt[gt++]=Kt,xt[gt++]=Qt,xt[gt++]=Kn,Kt=e.id,Qt=e.overflow,Kn=t),t=ic(t,o.children),t.flags|=4096,t)}function Ad(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),$l(e.return,t,n)}function il(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function _m(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(We(e,t,o.children,n),o=ge.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,n,t);else if(e.tag===19)Ad(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ae(ge,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Xr(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),il(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Xr(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}il(t,!0,n,null,i);break;case"together":il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Z0(e,t,n){switch(t.tag){case 3:Im(t),Rs();break;case 5:tm(t);break;case 1:nt(t.type)&&zr(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;ae(Yr,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ae(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?jm(e,t,n):(ae(ge,ge.current&1),e=nn(e,t,n),e!==null?e.sibling:null);ae(ge,ge.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return _m(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ae(ge,ge.current),o)break;return null;case 22:case 23:return t.lanes=0,Em(e,t,n)}return nn(e,t,n)}var km,Zl,Am,Pm;km=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zl=function(){};Am=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,$n(Ot.current);var i=null;switch(n){case"input":r=wl(e,r),o=wl(e,o),i=[];break;case"select":r=ve({},r,{value:void 0}),o=ve({},o,{value:void 0}),i=[];break;case"textarea":r=Cl(e,r),o=Cl(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Hr)}Tl(n,o);var a;n=null;for(f in r)if(!o.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var d=r[f];for(a in d)d.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(To.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in o){var u=o[f];if(d=r!=null?r[f]:void 0,o.hasOwnProperty(f)&&u!==d&&(u!=null||d!=null))if(f==="style")if(d){for(a in d)!d.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&d[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,d=d?d.__html:void 0,u!=null&&d!==u&&(i=i||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(To.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&ue("scroll",e),i||d===u||(i=[])):(i=i||[]).push(f,u))}n&&(i=i||[]).push("style",n);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};Pm=function(e,t,n,o){n!==o&&(t.flags|=4)};function no(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function eg(e,t,n){var o=t.pendingProps;switch($a(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return nt(t.type)&&$r(),qe(t),null;case 3:return o=t.stateNode,Ds(),me(tt),me(ze),ec(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ar(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(la(jt),jt=null))),Zl(e,t),qe(t),null;case 5:Za(t);var r=$n(Fo.current);if(n=t.type,e!==null&&t.stateNode!=null)Am(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(q(166));return qe(t),null}if(e=$n(Ot.current),ar(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[Vt]=t,o[Lo]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",o),ue("close",o);break;case"iframe":case"object":case"embed":ue("load",o);break;case"video":case"audio":for(r=0;r<po.length;r++)ue(po[r],o);break;case"source":ue("error",o);break;case"img":case"image":case"link":ue("error",o),ue("load",o);break;case"details":ue("toggle",o);break;case"input":Gc(o,i),ue("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},ue("invalid",o);break;case"textarea":Oc(o,i),ue("invalid",o)}Tl(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var d=i[a];a==="children"?typeof d=="string"?o.textContent!==d&&(i.suppressHydrationWarning!==!0&&lr(o.textContent,d,e),r=["children",d]):typeof d=="number"&&o.textContent!==""+d&&(i.suppressHydrationWarning!==!0&&lr(o.textContent,d,e),r=["children",""+d]):To.hasOwnProperty(a)&&d!=null&&a==="onScroll"&&ue("scroll",o)}switch(n){case"input":Zo(o),Bc(o,i,!0);break;case"textarea":Zo(o),qc(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Hr)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ip(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=a.createElement(n,{is:o.is}):(e=a.createElement(n),n==="select"&&(a=e,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):e=a.createElementNS(e,n),e[Vt]=t,e[Lo]=o,km(e,t,!1,!1),t.stateNode=e;e:{switch(a=Il(n,o),n){case"dialog":ue("cancel",e),ue("close",e),r=o;break;case"iframe":case"object":case"embed":ue("load",e),r=o;break;case"video":case"audio":for(r=0;r<po.length;r++)ue(po[r],e);r=o;break;case"source":ue("error",e),r=o;break;case"img":case"image":case"link":ue("error",e),ue("load",e),r=o;break;case"details":ue("toggle",e),r=o;break;case"input":Gc(e,o),r=wl(e,o),ue("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=ve({},o,{value:void 0}),ue("invalid",e);break;case"textarea":Oc(e,o),r=Cl(e,o),ue("invalid",e);break;default:r=o}Tl(n,r),d=r;for(i in d)if(d.hasOwnProperty(i)){var u=d[i];i==="style"?cp(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&lp(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Io(e,u):typeof u=="number"&&Io(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(To.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ue("scroll",e):u!=null&&ka(e,i,u,a))}switch(n){case"input":Zo(e),Bc(e,o,!1);break;case"textarea":Zo(e),qc(e);break;case"option":o.value!=null&&e.setAttribute("value",""+jn(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?bs(e,!!o.multiple,i,!1):o.defaultValue!=null&&bs(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Hr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Pm(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(q(166));if(n=$n(Fo.current),$n(Ot.current),ar(t)){if(o=t.stateNode,n=t.memoizedProps,o[Vt]=t,(i=o.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:lr(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lr(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Vt]=t,t.stateNode=o}return qe(t),null;case 13:if(me(ge),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&it!==null&&t.mode&1&&!(t.flags&128))Kp(),Rs(),t.flags|=98560,i=!1;else if(i=ar(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Vt]=t}else Rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else jt!==null&&(la(jt),jt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ae===0&&(Ae=3):fc())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Ds(),Zl(e,t),e===null&&Mo(t.stateNode.containerInfo),qe(t),null;case 10:return Ya(t.type._context),qe(t),null;case 17:return nt(t.type)&&$r(),qe(t),null;case 19:if(me(ge),i=t.memoizedState,i===null)return qe(t),null;if(o=(t.flags&128)!==0,a=i.rendering,a===null)if(o)no(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Xr(e),a!==null){for(t.flags|=128,no(i,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(ge,ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Us&&(t.flags|=128,o=!0,no(i,!1),t.lanes=4194304)}else{if(!o)if(e=Xr(a),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),no(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!xe)return qe(t),null}else 2*Te()-i.renderingStartTime>Us&&n!==1073741824&&(t.flags|=128,o=!0,no(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=ge.current,ae(ge,o?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return uc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?rt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function tg(e,t){switch($a(t),t.tag){case 1:return nt(t.type)&&$r(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ds(),me(tt),me(ze),ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Za(t),null;case 13:if(me(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ge),null;case 4:return Ds(),null;case 10:return Ya(t.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var ur=!1,He=!1,ng=typeof WeakSet=="function"?WeakSet:Set,J=null;function vs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Ne(e,t,o)}else n.current=null}function ea(e,t,n){try{n()}catch(o){Ne(e,t,o)}}var Pd=!1;function sg(e,t){if(Ul=Br,e=Up(),qa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,d=-1,u=-1,f=0,p=0,h=e,m=null;t:for(;;){for(var y;h!==n||r!==0&&h.nodeType!==3||(d=a+r),h!==i||o!==0&&h.nodeType!==3||(u=a+o),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===n&&++f===r&&(d=a),m===i&&++p===o&&(u=a),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=d===-1||u===-1?null:{start:d,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fl={focusedElem:e,selectionRange:n},Br=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,j=w.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?E:Tt(t.type,E),j);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(b){Ne(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return w=Pd,Pd=!1,w}function wo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&ea(t,n,i)}r=r.next}while(r!==o)}}function wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ta(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rm(e){var t=e.alternate;t!==null&&(e.alternate=null,Rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[Lo],delete t[Bl],delete t[V0],delete t[G0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mm(e){return e.tag===5||e.tag===3||e.tag===4}function Rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function na(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hr));else if(o!==4&&(e=e.child,e!==null))for(na(e,t,n),e=e.sibling;e!==null;)na(e,t,n),e=e.sibling}function sa(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(sa(e,t,n),e=e.sibling;e!==null;)sa(e,t,n),e=e.sibling}var Ue=null,It=!1;function cn(e,t,n){for(n=n.child;n!==null;)Dm(e,t,n),n=n.sibling}function Dm(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(pi,n)}catch{}switch(n.tag){case 5:He||vs(n,t);case 6:var o=Ue,r=It;Ue=null,cn(e,t,n),Ue=o,It=r,Ue!==null&&(It?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(It?(e=Ue,n=n.stateNode,e.nodeType===8?Zi(e.parentNode,n):e.nodeType===1&&Zi(e,n),Ao(e)):Zi(Ue,n.stateNode));break;case 4:o=Ue,r=It,Ue=n.stateNode.containerInfo,It=!0,cn(e,t,n),Ue=o,It=r;break;case 0:case 11:case 14:case 15:if(!He&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ea(n,t,a),r=r.next}while(r!==o)}cn(e,t,n);break;case 1:if(!He&&(vs(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(d){Ne(n,t,d)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(He=(o=He)||n.memoizedState!==null,cn(e,t,n),He=o):cn(e,t,n);break;default:cn(e,t,n)}}function Md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ng),t.forEach(function(o){var r=fg.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,a=t,d=a;e:for(;d!==null;){switch(d.tag){case 5:Ue=d.stateNode,It=!1;break e;case 3:Ue=d.stateNode.containerInfo,It=!0;break e;case 4:Ue=d.stateNode.containerInfo,It=!0;break e}d=d.return}if(Ue===null)throw Error(q(160));Dm(i,a,r),Ue=null,It=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(f){Ne(r,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lm(t,e),t=t.sibling}function Lm(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Ut(e),o&4){try{wo(3,e,e.return),wi(3,e)}catch(E){Ne(e,e.return,E)}try{wo(5,e,e.return)}catch(E){Ne(e,e.return,E)}}break;case 1:Et(t,e),Ut(e),o&512&&n!==null&&vs(n,n.return);break;case 5:if(Et(t,e),Ut(e),o&512&&n!==null&&vs(n,n.return),e.flags&32){var r=e.stateNode;try{Io(r,"")}catch(E){Ne(e,e.return,E)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,d=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{d==="input"&&i.type==="radio"&&i.name!=null&&op(r,i),Il(d,a);var f=Il(d,i);for(a=0;a<u.length;a+=2){var p=u[a],h=u[a+1];p==="style"?cp(r,h):p==="dangerouslySetInnerHTML"?lp(r,h):p==="children"?Io(r,h):ka(r,p,h,f)}switch(d){case"input":bl(r,i);break;case"textarea":rp(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?bs(r,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?bs(r,!!i.multiple,i.defaultValue,!0):bs(r,!!i.multiple,i.multiple?[]:"",!1))}r[Lo]=i}catch(E){Ne(e,e.return,E)}}break;case 6:if(Et(t,e),Ut(e),o&4){if(e.stateNode===null)throw Error(q(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(E){Ne(e,e.return,E)}}break;case 3:if(Et(t,e),Ut(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(t.containerInfo)}catch(E){Ne(e,e.return,E)}break;case 4:Et(t,e),Ut(e);break;case 13:Et(t,e),Ut(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(cc=Te())),o&4&&Md(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(He=(f=He)||p,Et(t,e),He=f):Et(t,e),Ut(e),o&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(J=e,p=e.child;p!==null;){for(h=J=p;J!==null;){switch(m=J,y=m.child,m.tag){case 0:case 11:case 14:case 15:wo(4,m,m.return);break;case 1:vs(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){o=m,n=m.return;try{t=o,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(E){Ne(o,n,E)}}break;case 5:vs(m,m.return);break;case 22:if(m.memoizedState!==null){Ld(h);continue}}y!==null?(y.return=m,J=y):Ld(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{r=h.stateNode,f?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(d=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,d.style.display=ap("display",a))}catch(E){Ne(e,e.return,E)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(E){Ne(e,e.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Et(t,e),Ut(e),o&4&&Md(e);break;case 21:break;default:Et(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mm(n)){var o=n;break e}n=n.return}throw Error(q(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Io(r,""),o.flags&=-33);var i=Rd(e);sa(e,i,r);break;case 3:case 4:var a=o.stateNode.containerInfo,d=Rd(e);na(e,d,a);break;default:throw Error(q(161))}}catch(u){Ne(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function og(e,t,n){J=e,Um(e)}function Um(e,t,n){for(var o=(e.mode&1)!==0;J!==null;){var r=J,i=r.child;if(r.tag===22&&o){var a=r.memoizedState!==null||ur;if(!a){var d=r.alternate,u=d!==null&&d.memoizedState!==null||He;d=ur;var f=He;if(ur=a,(He=u)&&!f)for(J=r;J!==null;)a=J,u=a.child,a.tag===22&&a.memoizedState!==null?Ud(r):u!==null?(u.return=a,J=u):Ud(r);for(;i!==null;)J=i,Um(i),i=i.sibling;J=r,ur=d,He=f}Dd(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,J=i):Dd(e)}}function Dd(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||wi(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!He)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vd(t,i,o);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vd(t,a,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Ao(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}He||t.flags&512&&ta(t)}catch(m){Ne(t,t.return,m)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Ld(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function Ud(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wi(4,t)}catch(u){Ne(t,n,u)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(u){Ne(t,r,u)}}var i=t.return;try{ta(t)}catch(u){Ne(t,i,u)}break;case 5:var a=t.return;try{ta(t)}catch(u){Ne(t,a,u)}}}catch(u){Ne(t,t.return,u)}if(t===e){J=null;break}var d=t.sibling;if(d!==null){d.return=t.return,J=d;break}J=t.return}}var rg=Math.ceil,ti=rn.ReactCurrentDispatcher,lc=rn.ReactCurrentOwner,vt=rn.ReactCurrentBatchConfig,se=0,Re=null,je=null,Ve=0,rt=0,Ns=Rn(0),Ae=0,Oo=null,Xn=0,bi=0,ac=0,bo=null,Ze=null,cc=0,Us=1/0,Jt=null,ni=!1,oa=null,Sn=null,fr=!1,xn=null,si=0,So=0,ra=null,Ar=-1,Pr=0;function Ye(){return se&6?Te():Ar!==-1?Ar:Ar=Te()}function Cn(e){return e.mode&1?se&2&&Ve!==0?Ve&-Ve:O0.transition!==null?(Pr===0&&(Pr=wp()),Pr):(e=ie,e!==0||(e=window.event,e=e===void 0?16:jp(e.type)),e):1}function kt(e,t,n,o){if(50<So)throw So=0,ra=null,Error(q(185));zo(e,n,o),(!(se&2)||e!==Re)&&(e===Re&&(!(se&2)&&(bi|=n),Ae===4&&mn(e,Ve)),st(e,o),n===1&&se===0&&!(t.mode&1)&&(Us=Te()+500,yi&&Mn()))}function st(e,t){var n=e.callbackNode;Ox(e,t);var o=Gr(e,e===Re?Ve:0);if(o===0)n!==null&&zc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&zc(n),t===1)e.tag===0?B0(Fd.bind(null,e)):Jp(Fd.bind(null,e)),U0(function(){!(se&6)&&Mn()}),n=null;else{switch(bp(o)){case 1:n=Da;break;case 4:n=vp;break;case 16:n=Vr;break;case 536870912:n=Np;break;default:n=Vr}n=$m(n,Fm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fm(e,t){if(Ar=-1,Pr=0,se&6)throw Error(q(327));var n=e.callbackNode;if(Is()&&e.callbackNode!==n)return null;var o=Gr(e,e===Re?Ve:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=oi(e,o);else{t=o;var r=se;se|=2;var i=Gm();(Re!==e||Ve!==t)&&(Jt=null,Us=Te()+500,zn(e,t));do try{ag();break}catch(d){Vm(e,d)}while(!0);Wa(),ti.current=i,se=r,je!==null?t=0:(Re=null,Ve=0,t=Ae)}if(t!==0){if(t===2&&(r=Pl(e),r!==0&&(o=r,t=ia(e,r))),t===1)throw n=Oo,zn(e,0),mn(e,o),st(e,Te()),n;if(t===6)mn(e,o);else{if(r=e.current.alternate,!(o&30)&&!ig(r)&&(t=oi(e,o),t===2&&(i=Pl(e),i!==0&&(o=i,t=ia(e,i))),t===1))throw n=Oo,zn(e,0),mn(e,o),st(e,Te()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(q(345));case 2:On(e,Ze,Jt);break;case 3:if(mn(e,o),(o&130023424)===o&&(t=cc+500-Te(),10<t)){if(Gr(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Ye(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Gl(On.bind(null,e,Ze,Jt),t);break}On(e,Ze,Jt);break;case 4:if(mn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var a=31-_t(o);i=1<<a,a=t[a],a>r&&(r=a),o&=~i}if(o=r,o=Te()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*rg(o/1960))-o,10<o){e.timeoutHandle=Gl(On.bind(null,e,Ze,Jt),o);break}On(e,Ze,Jt);break;case 5:On(e,Ze,Jt);break;default:throw Error(q(329))}}}return st(e,Te()),e.callbackNode===n?Fm.bind(null,e):null}function ia(e,t){var n=bo;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=oi(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&la(t)),e}function la(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function ig(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!Rt(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~ac,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),o=1<<n;e[n]=-1,t&=~o}}function Fd(e){if(se&6)throw Error(q(327));Is();var t=Gr(e,0);if(!(t&1))return st(e,Te()),null;var n=oi(e,t);if(e.tag!==0&&n===2){var o=Pl(e);o!==0&&(t=o,n=ia(e,o))}if(n===1)throw n=Oo,zn(e,0),mn(e,t),st(e,Te()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,Ze,Jt),st(e,Te()),null}function dc(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Us=Te()+500,yi&&Mn())}}function Zn(e){xn!==null&&xn.tag===0&&!(se&6)&&Is();var t=se;se|=1;var n=vt.transition,o=ie;try{if(vt.transition=null,ie=1,e)return e()}finally{ie=o,vt.transition=n,se=t,!(se&6)&&Mn()}}function uc(){rt=Ns.current,me(Ns)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,L0(n)),je!==null)for(n=je.return;n!==null;){var o=n;switch($a(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$r();break;case 3:Ds(),me(tt),me(ze),ec();break;case 5:Za(o);break;case 4:Ds();break;case 13:me(ge);break;case 19:me(ge);break;case 10:Ya(o.type._context);break;case 22:case 23:uc()}n=n.return}if(Re=e,je=e=En(e.current,null),Ve=rt=t,Ae=0,Oo=null,ac=bi=Xn=0,Ze=bo=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,o.next=a}n.pending=o}Hn=null}return e}function Vm(e,t){do{var n=je;try{if(Wa(),jr.current=ei,Zr){for(var o=ye.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Zr=!1}if(Qn=0,Pe=_e=ye=null,No=!1,Vo=0,lc.current=null,n===null||n.return===null){Ae=1,Oo=t,je=null;break}e:{var i=e,a=n.return,d=n,u=t;if(t=Ve,d.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=d,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=Ed(a);if(y!==null){y.flags&=-257,Td(y,a,d,i,t),y.mode&1&&Cd(i,f,t),t=y,u=f;var w=t.updateQueue;if(w===null){var E=new Set;E.add(u),t.updateQueue=E}else w.add(u);break e}else{if(!(t&1)){Cd(i,f,t),fc();break e}u=Error(q(426))}}else if(xe&&d.mode&1){var j=Ed(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Td(j,a,d,i,t),za(Ls(u,d));break e}}i=u=Ls(u,d),Ae!==4&&(Ae=2),bo===null?bo=[i]:bo.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=bm(i,u,t);yd(i,v);break e;case 1:d=u;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sn===null||!Sn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Sm(i,d,t);yd(i,b);break e}}i=i.return}while(i!==null)}Om(n)}catch(C){t=C,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Gm(){var e=ti.current;return ti.current=ei,e===null?ei:e}function fc(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Re===null||!(Xn&268435455)&&!(bi&268435455)||mn(Re,Ve)}function oi(e,t){var n=se;se|=2;var o=Gm();(Re!==e||Ve!==t)&&(Jt=null,zn(e,t));do try{lg();break}catch(r){Vm(e,r)}while(!0);if(Wa(),se=n,ti.current=o,je!==null)throw Error(q(261));return Re=null,Ve=0,Ae}function lg(){for(;je!==null;)Bm(je)}function ag(){for(;je!==null&&!Rx();)Bm(je)}function Bm(e){var t=Hm(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Om(e):je=t,lc.current=null}function Om(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=tg(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,je=null;return}}else if(n=eg(n,t,rt),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ae===0&&(Ae=5)}function On(e,t,n){var o=ie,r=vt.transition;try{vt.transition=null,ie=1,cg(e,t,n,o)}finally{vt.transition=r,ie=o}return null}function cg(e,t,n,o){do Is();while(xn!==null);if(se&6)throw Error(q(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(qx(e,i),e===Re&&(je=Re=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fr||(fr=!0,$m(Vr,function(){return Is(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var a=ie;ie=1;var d=se;se|=4,lc.current=null,sg(e,n),Lm(n,e),_0(Fl),Br=!!Ul,Fl=Ul=null,e.current=n,og(n),Mx(),se=d,ie=a,vt.transition=i}else e.current=n;if(fr&&(fr=!1,xn=e,si=r),i=e.pendingLanes,i===0&&(Sn=null),Ux(n.stateNode),st(e,Te()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(ni)throw ni=!1,e=oa,oa=null,e;return si&1&&e.tag!==0&&Is(),i=e.pendingLanes,i&1?e===ra?So++:(So=0,ra=e):So=0,Mn(),null}function Is(){if(xn!==null){var e=bp(si),t=vt.transition,n=ie;try{if(vt.transition=null,ie=16>e?16:e,xn===null)var o=!1;else{if(e=xn,xn=null,si=0,se&6)throw Error(q(331));var r=se;for(se|=4,J=e.current;J!==null;){var i=J,a=i.child;if(J.flags&16){var d=i.deletions;if(d!==null){for(var u=0;u<d.length;u++){var f=d[u];for(J=f;J!==null;){var p=J;switch(p.tag){case 0:case 11:case 15:wo(8,p,i)}var h=p.child;if(h!==null)h.return=p,J=h;else for(;J!==null;){p=J;var m=p.sibling,y=p.return;if(Rm(p),p===f){J=null;break}if(m!==null){m.return=y,J=m;break}J=y}}}var w=i.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var j=E.sibling;E.sibling=null,E=j}while(E!==null)}}J=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,J=a;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,J=v;break e}J=i.return}}var g=e.current;for(J=g;J!==null;){a=J;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,J=x;else e:for(a=g;J!==null;){if(d=J,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:wi(9,d)}}catch(C){Ne(d,d.return,C)}if(d===a){J=null;break e}var b=d.sibling;if(b!==null){b.return=d.return,J=b;break e}J=d.return}}if(se=r,Mn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(pi,e)}catch{}o=!0}return o}finally{ie=n,vt.transition=t}}return!1}function Vd(e,t,n){t=Ls(n,t),t=bm(e,t,1),e=bn(e,t,1),t=Ye(),e!==null&&(zo(e,1,t),st(e,t))}function Ne(e,t,n){if(e.tag===3)Vd(e,e,n);else for(;t!==null;){if(t.tag===3){Vd(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sn===null||!Sn.has(o))){e=Ls(n,e),e=Sm(t,e,1),t=bn(t,e,1),e=Ye(),t!==null&&(zo(t,1,e),st(t,e));break}}t=t.return}}function dg(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Ve&n)===n&&(Ae===4||Ae===3&&(Ve&130023424)===Ve&&500>Te()-cc?zn(e,0):ac|=n),st(e,t)}function qm(e,t){t===0&&(e.mode&1?(t=nr,nr<<=1,!(nr&130023424)&&(nr=4194304)):t=1);var n=Ye();e=tn(e,t),e!==null&&(zo(e,t,n),st(e,n))}function ug(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qm(e,n)}function fg(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(q(314))}o!==null&&o.delete(t),qm(e,n)}var Hm;Hm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,Z0(e,t,n);et=!!(e.flags&131072)}else et=!1,xe&&t.flags&1048576&&Wp(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;kr(e,t),e=t.pendingProps;var r=Ps(t,ze.current);Ts(t,n),r=nc(null,t,o,e,r,n);var i=sc();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(o)?(i=!0,zr(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Qa(t),r.updater=Ni,t.stateNode=r,r._reactInternals=t,Jl(t,o,e,n),t=Kl(null,t,o,!0,i,n)):(t.tag=0,xe&&i&&Ha(t),We(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(kr(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=mg(o),e=Tt(o,e),r){case 0:t=Yl(null,t,o,e,n);break e;case 1:t=_d(null,t,o,e,n);break e;case 11:t=Id(null,t,o,e,n);break e;case 14:t=jd(null,t,o,Tt(o.type,e),n);break e}throw Error(q(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Tt(o,r),Yl(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Tt(o,r),_d(e,t,o,r,n);case 3:e:{if(Im(t),e===null)throw Error(q(387));o=t.pendingProps,i=t.memoizedState,r=i.element,em(e,t),Qr(t,o,null,n);var a=t.memoizedState;if(o=a.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Ls(Error(q(423)),t),t=kd(e,t,o,n,r);break e}else if(o!==r){r=Ls(Error(q(424)),t),t=kd(e,t,o,n,r);break e}else for(it=wn(t.stateNode.containerInfo.firstChild),at=t,xe=!0,jt=null,n=Xp(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),o===r){t=nn(e,t,n);break e}We(e,t,o,n)}t=t.child}return t;case 5:return tm(t),e===null&&Hl(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,a=r.children,Vl(o,r)?a=null:i!==null&&Vl(o,i)&&(t.flags|=32),Tm(e,t),We(e,t,a,n),t.child;case 6:return e===null&&Hl(t),null;case 13:return jm(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Ms(t,null,o,n):We(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Tt(o,r),Id(e,t,o,r,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,a=r.value,ae(Yr,o._currentValue),o._currentValue=a,i!==null)if(Rt(i.value,a)){if(i.children===r.children&&!tt.current){t=nn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var d=i.dependencies;if(d!==null){a=i.child;for(var u=d.firstContext;u!==null;){if(u.context===o){if(i.tag===1){u=Xt(-1,n&-n),u.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),$l(i.return,n,t),d.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),$l(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}We(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Ts(t,n),r=wt(r),o=o(r),t.flags|=1,We(e,t,o,n),t.child;case 14:return o=t.type,r=Tt(o,t.pendingProps),r=Tt(o.type,r),jd(e,t,o,r,n);case 15:return Cm(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Tt(o,r),kr(e,t),t.tag=1,nt(o)?(e=!0,zr(t)):e=!1,Ts(t,n),wm(t,o,r),Jl(t,o,r,n),Kl(null,t,o,!0,e,n);case 19:return _m(e,t,n);case 22:return Em(e,t,n)}throw Error(q(156,t.tag))};function $m(e,t){return yp(e,t)}function pg(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,o){return new pg(e,t,n,o)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mg(e){if(typeof e=="function")return pc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pa)return 11;if(e===Ra)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rr(e,t,n,o,r,i){var a=2;if(o=e,typeof e=="function")pc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ds:return Jn(n.children,r,i,t);case Aa:a=8,r|=8;break;case gl:return e=yt(12,n,t,r|2),e.elementType=gl,e.lanes=i,e;case yl:return e=yt(13,n,t,r),e.elementType=yl,e.lanes=i,e;case vl:return e=yt(19,n,t,r),e.elementType=vl,e.lanes=i,e;case tp:return Si(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zf:a=10;break e;case ep:a=9;break e;case Pa:a=11;break e;case Ra:a=14;break e;case un:a=16,o=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=yt(a,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function Jn(e,t,n,o){return e=yt(7,e,o,t),e.lanes=n,e}function Si(e,t,n,o){return e=yt(22,e,o,t),e.elementType=tp,e.lanes=n,e.stateNode={isHidden:!1},e}function ll(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function al(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hg(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function mc(e,t,n,o,r,i,a,d,u){return e=new hg(e,t,n,d,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=yt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qa(i),e}function xg(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function zm(e){if(!e)return _n;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(nt(n))return zp(e,n,t)}return t}function Jm(e,t,n,o,r,i,a,d,u){return e=mc(n,o,!0,e,r,i,a,d,u),e.context=zm(null),n=e.current,o=Ye(),r=Cn(n),i=Xt(o,r),i.callback=t??null,bn(n,i,r),e.current.lanes=r,zo(e,r,o),st(e,o),e}function Ci(e,t,n,o){var r=t.current,i=Ye(),a=Cn(r);return n=zm(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(i,a),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=bn(r,t,a),e!==null&&(kt(e,r,a,i),Ir(e,r,a)),a}function ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hc(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function gg(){return null}var Wm=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}Ei.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Ci(e,t,null,null)};Ei.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){Ci(null,e,null,null)}),t[en]=null}};function Ei(e){this._internalRoot=e}Ei.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ep();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pn.length&&t!==0&&t<pn[n].priority;n++);pn.splice(n,0,e),n===0&&Ip(e)}};function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ti(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bd(){}function yg(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var f=ri(a);i.call(f)}}var a=Jm(t,o,e,0,null,!1,!1,"",Bd);return e._reactRootContainer=a,e[en]=a.current,Mo(e.nodeType===8?e.parentNode:e),Zn(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var d=o;o=function(){var f=ri(u);d.call(f)}}var u=mc(e,0,!1,null,null,!1,!1,"",Bd);return e._reactRootContainer=u,e[en]=u.current,Mo(e.nodeType===8?e.parentNode:e),Zn(function(){Ci(t,u,n,o)}),u}function Ii(e,t,n,o,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var d=r;r=function(){var u=ri(a);d.call(u)}}Ci(t,a,e,r)}else a=yg(n,t,e,r,o);return ri(a)}Sp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fo(t.pendingLanes);n!==0&&(La(t,n|1),st(t,Te()),!(se&6)&&(Us=Te()+500,Mn()))}break;case 13:Zn(function(){var o=tn(e,1);if(o!==null){var r=Ye();kt(o,e,1,r)}}),hc(e,1)}};Ua=function(e){if(e.tag===13){var t=tn(e,134217728);if(t!==null){var n=Ye();kt(t,e,134217728,n)}hc(e,134217728)}};Cp=function(e){if(e.tag===13){var t=Cn(e),n=tn(e,t);if(n!==null){var o=Ye();kt(n,e,t,o)}hc(e,t)}};Ep=function(){return ie};Tp=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};_l=function(e,t,n){switch(t){case"input":if(bl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=gi(o);if(!r)throw Error(q(90));sp(o),bl(o,r)}}}break;case"textarea":rp(e,n);break;case"select":t=n.value,t!=null&&bs(e,!!n.multiple,t,!1)}};fp=dc;pp=Zn;var vg={usingClientEntryPoint:!1,Events:[Wo,ms,gi,dp,up,dc]},so={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ng={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xp(e),e===null?null:e.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pr.isDisabled&&pr.supportsFiber)try{pi=pr.inject(Ng),Bt=pr}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vg;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(t))throw Error(q(200));return xg(e,t,null,n)};ut.createRoot=function(e,t){if(!gc(e))throw Error(q(299));var n=!1,o="",r=Wm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=mc(e,1,!1,null,null,n,!1,o,r),e[en]=t.current,Mo(e.nodeType===8?e.parentNode:e),new xc(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=xp(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Zn(e)};ut.hydrate=function(e,t,n){if(!Ti(t))throw Error(q(200));return Ii(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!gc(e))throw Error(q(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",a=Wm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Jm(t,null,e,1,n??null,r,!1,i,a),e[en]=t.current,Mo(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ei(t)};ut.render=function(e,t,n){if(!Ti(t))throw Error(q(200));return Ii(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!Ti(e))throw Error(q(40));return e._reactRootContainer?(Zn(function(){Ii(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1};ut.unstable_batchedUpdates=dc;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Ti(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Ii(e,t,n,!1,o)};ut.version="18.3.1-next-f1338f8080-20240426";function Ym(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ym)}catch(e){console.error(e)}}Ym(),Yf.exports=ut;var wg=Yf.exports,Od=wg;hl.createRoot=Od.createRoot,hl.hydrateRoot=Od.hydrateRoot;const qd="ocean_admin_settings",Hd="ocean_admin_password",$d="ocean_admin_pricing",cl="ocean_users_db",bg="ocean_ecrm_tickets",Sg={defaultTrialDays:30},Km={FREE:{maxSubUsers:1,maxDailyTransactions:5,allowFileUpload:!1},OFFICE:{maxSubUsers:5,maxDailyTransactions:9999,allowFileUpload:!0},CORPORATE:{maxSubUsers:25,maxDailyTransactions:9999,allowFileUpload:!0}},Cg={FREE:0,OFFICE:1999,CORPORATE:9999},Fe={getGlobalSettings:()=>{const e=localStorage.getItem(qd);return e?JSON.parse(e):Sg},updateGlobalSettings:e=>{localStorage.setItem(qd,JSON.stringify(e))},getPlanPricing:()=>{const e=localStorage.getItem($d);return e?JSON.parse(e):Cg},updatePlanPricing:e=>{localStorage.setItem($d,JSON.stringify(e))},getAllUsers:()=>{const e=localStorage.getItem(cl),t=e?JSON.parse(e):{};return Object.values(t)},forceExpireUser:e=>{const t=localStorage.getItem(cl);if(t){const n=JSON.parse(t);if(n[e]){const o=new Date;o.setDate(o.getDate()-1),n[e].expiryDate=o.toISOString(),n[e].subscriptionStatus="EXPIRED",localStorage.setItem(cl,JSON.stringify(n))}}},changeAdminPassword:e=>{localStorage.setItem(Hd,e)},getAdminPassword:()=>localStorage.getItem(Hd)||"admin1234",getAdminTickets:()=>{const e=localStorage.getItem(bg);return(e?JSON.parse(e):[]).filter(n=>n.targetAdmin||n.partyType==="ADMIN"||n.partyName.toUpperCase().includes("SEAFREX"))},getPermission:e=>Km[e]},mo="ocean_users_db",oo="ocean_current_user",ke={checkUserExists:e=>e==="admin"?!0:!!Vn()[e],getUser:e=>Vn()[e]||null,updateUserStatus:(e,t)=>{const n=Vn();n[e]&&(n[e].status=t,localStorage.setItem(mo,JSON.stringify(n)))},updateSubscription:(e,t,n)=>{const o=Vn();if(o[e]){const r=o[e];r.plan=t;const i=new Date(r.expiryDate),a=new Date,d=i>a?i:a;d.setDate(d.getDate()+n),r.expiryDate=d.toISOString(),r.subscriptionStatus="ACTIVE",localStorage.setItem(mo,JSON.stringify(o));const u=ke.getCurrentUser();u&&u.email===e&&localStorage.setItem(oo,JSON.stringify(r))}},sendOtp:async e=>{await new Promise(n=>setTimeout(n,1e3));const t="1234";return console.log(`[Mock Auth] OTP for ${e} is ${t}`),t},verifyOtp:async(e,t)=>{if(await new Promise(i=>setTimeout(i,500)),t!=="1234")return{success:!1,error:"Invalid OTP"};const n=ke.getUser(e);if(!n)return{success:!1,error:"User not found"};if(n.status==="SUSPENDED")return{success:!1,error:"Your account has been Suspended. Contact Admin."};const o=new Date;if(new Date(n.expiryDate)<o){const i=Vn();return i[e].subscriptionStatus="EXPIRED",localStorage.setItem(mo,JSON.stringify(i)),{success:!1,expired:!0}}return{success:!0}},registerUser:e=>{const t=Vn(),n=Fe.getGlobalSettings(),o=new Date,r=new Date;r.setDate(o.getDate()+n.defaultTrialDays);const i={...e,status:e.status||"ACTIVE",plan:"FREE",subscriptionStatus:"ACTIVE",registrationDate:o.toISOString(),expiryDate:r.toISOString()};t[e.email]=i,localStorage.setItem(mo,JSON.stringify(t)),e.isMainUser&&ke.loginUser(i)},loginUser:e=>{if(typeof e=="string"){const n=Vn()[e];return n?(localStorage.setItem(oo,JSON.stringify(n)),n):null}else return localStorage.setItem(oo,JSON.stringify(e)),e},logout:()=>{localStorage.removeItem(oo)},getCurrentUser:()=>{const e=localStorage.getItem(oo);return e?JSON.parse(e):null},verifyAdminPassword:e=>{const t=Fe.getAdminPassword();return e===t}};function Vn(){const e=localStorage.getItem(mo);return e?JSON.parse(e):{}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const n=N.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:d="",children:u,...f},p)=>N.createElement("svg",{ref:p,...Eg,width:r,height:r,stroke:o,strokeWidth:a?Number(i)*24/Number(r):i,className:["lucide",`lucide-${Tg(e)}`,d].join(" "),...f},[...t.map(([h,m])=>N.createElement(h,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=z("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=z("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=z("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=z("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=z("CornerUpLeft",[["polyline",{points:"9 14 4 9 9 4",key:"881910"}],["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=z("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=z("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=z("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=z("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=z("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=z("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=z("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=z("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=z("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Bg=({onLoginSuccess:e,onUserNotFound:t,onAdminLogin:n,onSubscriptionExpired:o})=>{const[r,i]=N.useState("EMAIL"),[a,d]=N.useState(""),[u,f]=N.useState(""),[p,h]=N.useState(""),[m,y]=N.useState(!1),[w,E]=N.useState(""),j=async x=>{if(x.preventDefault(),!!a){if(E(""),a.toLowerCase()==="admin"){i("ADMIN_PASS");return}y(!0);try{ke.checkUserExists(a)?(await ke.sendOtp(a),i("OTP")):t(a)}catch{E("An error occurred. Please try again.")}finally{y(!1)}}},v=x=>{x.preventDefault(),ke.verifyAdminPassword(p)?n():E("Invalid Admin Credentials")},g=async x=>{if(x.preventDefault(),!!u){y(!0),E("");try{const b=await ke.verifyOtp(a,u);b.success?e(a):b.expired?o(a):E(b.error||"Verification failed")}catch{E("Verification failed.")}finally{y(!1)}}};return s.jsxs("div",{className:"w-full max-w-md p-8 bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl shadow-2xl animate-fade-in-up",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 bg-ocean-900/50 rounded-full border border-ocean-700 shadow-xl",children:r==="ADMIN_PASS"?s.jsx(Ug,{className:"h-10 w-10 text-emerald-400"}):s.jsx(Dn,{className:"h-10 w-10 text-cyan-400"})})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:r==="ADMIN_PASS"?"Admin Access":"Seafrex Portal"}),s.jsx("p",{className:"text-ocean-200",children:r==="ADMIN_PASS"?"Restricted Area":"Secure access for logistics partners"})]}),r==="EMAIL"&&s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-ocean-100 mb-2",children:"Email Address / User ID"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-ocean-400",children:s.jsx(ss,{className:"h-5 w-5"})}),s.jsx("input",{type:"text",id:"email",required:!0,className:"block w-full pl-10 pr-3 py-3 bg-ocean-900/50 border border-ocean-700 rounded-xl text-white placeholder-ocean-400 focus:outline-none focus:ring-2 focus:ring-ocean-400 focus:border-transparent transition-all",placeholder:"you@company.com",value:a,onChange:x=>d(x.target.value)})]})]}),s.jsx("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center py-3.5 px-4 bg-gradient-to-r from-ocean-500 to-ocean-600 hover:from-ocean-400 hover:to-ocean-500 text-white font-semibold rounded-xl shadow-lg shadow-ocean-500/30 transition-all transform hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed",children:m?s.jsx(li,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:["Continue ",s.jsx(Hs,{className:"ml-2 w-5 h-5"})]})})]}),r==="OTP"&&s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("p",{className:"text-sm text-ocean-200",children:["We sent a code to ",s.jsx("span",{className:"font-semibold text-white",children:a})]}),s.jsx("button",{type:"button",onClick:()=>i("EMAIL"),className:"text-xs text-ocean-400 hover:text-white underline mt-1",children:"Change email"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-ocean-100 mb-2",children:"One-Time Password"}),s.jsx("input",{type:"text",id:"otp",required:!0,maxLength:4,className:"block w-full text-center text-2xl tracking-widest py-3 bg-ocean-900/50 border border-ocean-700 rounded-xl text-white placeholder-ocean-600 focus:outline-none focus:ring-2 focus:ring-ocean-400 focus:border-transparent transition-all",placeholder:"",value:u,onChange:x=>f(x.target.value)})]}),w&&s.jsx("p",{className:"text-red-400 text-sm text-center bg-red-900/20 py-2 rounded-lg border border-red-500/20",children:w}),s.jsx("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center py-3.5 px-4 bg-gradient-to-r from-ocean-500 to-ocean-600 hover:from-ocean-400 hover:to-ocean-500 text-white font-semibold rounded-xl shadow-lg shadow-ocean-500/30 transition-all",children:m?s.jsx(li,{className:"w-5 h-5 animate-spin"}):"Verify & Login"})]}),r==="ADMIN_PASS"&&s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("p",{className:"text-sm text-ocean-200",children:["Hello, ",s.jsx("span",{className:"font-semibold text-white",children:"Super Admin"})]}),s.jsx("button",{type:"button",onClick:()=>{i("EMAIL"),d("")},className:"text-xs text-ocean-400 hover:text-white underline mt-1",children:"Not Admin? Go Back"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pass",className:"block text-sm font-medium text-ocean-100 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-ocean-400",children:s.jsx(Ee,{className:"h-5 w-5"})}),s.jsx("input",{type:"password",id:"pass",required:!0,className:"block w-full pl-10 pr-3 py-3 bg-ocean-900/50 border border-ocean-700 rounded-xl text-white placeholder-ocean-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent transition-all",placeholder:"Enter password",value:p,onChange:x=>h(x.target.value)})]})]}),w&&s.jsx("p",{className:"text-red-400 text-sm text-center bg-red-900/20 py-2 rounded-lg border border-red-500/20",children:w}),s.jsx("button",{type:"submit",className:"w-full flex items-center justify-center py-3.5 px-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-semibold rounded-xl shadow-lg shadow-emerald-500/30 transition-all",children:"Access Admin Panel"})]})]})};var Yt=(e=>(e.SHIPPER_EXPORTER="Shipper / Exporter",e.LINER_OPERATOR="Ship Liner / Operator",e.FORWARDER_AGENT="Forwarder / Agent",e))(Yt||{});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Og,qg;function Hg(){return{geminiUrl:Og,vertexUrl:qg}}function $g(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const a=Hg();return t?(r=a.vertexUrl)!==null&&r!==void 0?r:n:(i=a.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ln{}function $(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(e,t,n){for(let i=0;i<t.length-1;i++){const a=t[i];if(a.endsWith("[]")){const d=a.slice(0,-2);if(!(d in e))if(Array.isArray(n))e[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[d])){const u=e[d];if(Array.isArray(n))for(let f=0;f<u.length;f++){const p=u[f];c(p,t.slice(i+1),n[f])}else for(const f of u)c(f,t.slice(i+1),n)}return}else if(a.endsWith("[0]")){const d=a.slice(0,-3);d in e||(e[d]=[{}]);const u=e[d];c(u[0],t.slice(i+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function l(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const a=e[i];return Array.isArray(a)?a.map(d=>l(d,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function zg(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),a=new Set;let d=-1;for(let u=0;u<r.length;u++)if(r[u]==="*"){d=u;break}if(d!==-1&&i.length>d)for(let u=d;u<i.length;u++){const f=i[u];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}ha(e,r,i,0,a)}}function ha(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const a=i.slice(0,-2),d=e;if(a in d&&Array.isArray(d[a]))for(const u of d[a])ha(u,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,d=Object.keys(a).filter(f=>!f.startsWith("_")&&!r.has(f)),u={};for(const f of d)u[f]=a[f];for(const[f,p]of Object.entries(u)){const h=[];for(const m of n.slice(o))m==="*"?h.push(f):h.push(m);c(a,h,p)}for(const f of d)delete a[f]}}else{const a=e;i in a&&ha(a[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wc(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jg(e){const t={},n=l(e,["operationName"]);n!=null&&c(t,["operationName"],n);const o=l(e,["resourceName"]);return o!=null&&c(t,["_url","resourceName"],o),t}function Wg(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);i!=null&&c(t,["error"],i);const a=l(e,["response","generateVideoResponse"]);return a!=null&&c(t,["response"],Kg(a)),t}function Yg(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);i!=null&&c(t,["error"],i);const a=l(e,["response"]);return a!=null&&c(t,["response"],Qg(a)),t}function Kg(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Xg(a))),c(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Qg(e){const t={},n=l(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Zg(a))),c(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Xg(e){const t={},n=l(e,["video"]);return n!=null&&c(t,["video"],ry(n)),t}function Zg(e){const t={},n=l(e,["_self"]);return n!=null&&c(t,["video"],iy(n)),t}function ey(e){const t={},n=l(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function ty(e){const t={},n=l(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function ny(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);i!=null&&c(t,["error"],i);const a=l(e,["response"]);return a!=null&&c(t,["response"],sy(a)),t}function sy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&c(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function rh(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);i!=null&&c(t,["error"],i);const a=l(e,["response"]);return a!=null&&c(t,["response"],oy(a)),t}function oy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&c(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function ry(e){const t={},n=l(e,["uri"]);n!=null&&c(t,["uri"],n);const o=l(e,["encodedVideo"]);o!=null&&c(t,["videoBytes"],wc(o));const r=l(e,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function iy(e){const t={},n=l(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&c(t,["videoBytes"],wc(o));const r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wd;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wd||(Wd={}));var Yd;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Yd||(Yd={}));var Kd;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Kd||(Kd={}));var gn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(gn||(gn={}));var Qd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Qd||(Qd={}));var Xd;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Xd||(Xd={}));var Zd;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Zd||(Zd={}));var eu;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eu||(eu={}));var tu;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tu||(tu={}));var nu;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(nu||(nu={}));var su;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(su||(su={}));var ou;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(ou||(ou={}));var ru;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(ru||(ru={}));var iu;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(iu||(iu={}));var lu;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(lu||(lu={}));var au;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(au||(au={}));var cu;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(cu||(cu={}));var du;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(du||(du={}));var uu;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(uu||(uu={}));var ai;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(ai||(ai={}));var fu;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fu||(fu={}));var pu;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pu||(pu={}));var mu;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mu||(mu={}));var xa;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xa||(xa={}));var hu;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(hu||(hu={}));var xu;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xu||(xu={}));var gu;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(gu||(gu={}));var yu;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(yu||(yu={}));var vu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(vu||(vu={}));var Nu;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Nu||(Nu={}));var wu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(wu||(wu={}));var bu;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(bu||(bu={}));var Su;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Su||(Su={}));var Cu;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Cu||(Cu={}));var Eu;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Eu||(Eu={}));var Tu;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Tu||(Tu={}));var Iu;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Iu||(Iu={}));var ju;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ju||(ju={}));var _u;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(_u||(_u={}));var ku;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(ku||(ku={}));var Au;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Au||(Au={}));var Pu;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Pu||(Pu={}));var Ru;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ru||(Ru={}));var Mu;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Mu||(Mu={}));var Du;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Du||(Du={}));var Lu;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Lu||(Lu={}));var Uu;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Uu||(Uu={}));var Fu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Fu||(Fu={}));var Vu;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vu||(Vu={}));var Gu;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Gu||(Gu={}));var Bu;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Bu||(Bu={}));var Ou;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ou||(Ou={}));var qu;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(qu||(qu={}));var Hu;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Hu||(Hu={}));var ws;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ws||(ws={}));class ga{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class ro{get text(){var t,n,o,r,i,a,d,u;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const h=[];for(const m of(u=(d=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)!==null&&u!==void 0?u:[]){for(const[y,w]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(w!==null||w!==void 0)&&h.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;p=!0,f+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,o,r,i,a,d,u;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const h of(u=(d=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)!==null&&u!==void 0?u:[]){for(const[m,y]of Object.entries(h))m!=="inlineData"&&(y!==null||y!==void 0)&&p.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,o,r,i,a,d,u;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(u=(d=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)===null||u===void 0?void 0:u.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,o,r,i,a,d,u,f;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(u=(d=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)===null||u===void 0?void 0:u.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,o,r,i,a,d,u,f;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(u=(d=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)===null||u===void 0?void 0:u.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class $u{}class zu{}class ly{}class ay{}class cy{}class dy{}class Ju{}class Wu{}class Yu{}class uy{}class ci{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new ci;let r;const i=t;return n?r=Yg(i):r=Wg(i),Object.assign(o,r),o}}class Ku{}class Qu{}class Xu{}class Zu{}class fy{}class py{}class my{}class bc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new bc,i=ny(t);return Object.assign(o,i),o}}class hy{}class xy{}class gy{}class ef{}class yy{get text(){var t,n,o;let r="",i=!1;const a=[];for(const d of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,f]of Object.entries(d))u!=="text"&&u!=="thought"&&f!==null&&a.push(u);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;i=!0,r+=d.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const a of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,u]of Object.entries(a))d!=="inlineData"&&u!==null&&i.push(d);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class vy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Sc,i=rh(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ih(e,t){const n=oe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function lh(e){return Array.isArray(e)?e.map(t=>di(t)):[di(e)]}function di(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ah(e){const t=di(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ch(e){const t=di(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tf(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function dh(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>tf(t)):[tf(e)]}function ya(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function nf(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function sf(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function $e(e){if(e==null)throw new Error("ContentUnion is required");return ya(e)?e:{role:"user",parts:dh(e)}}function Cc(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=$e(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=$e(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>$e(n)):[$e(t)]}function Nt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(nf(e)||sf(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$e(e)]}const t=[],n=[],o=ya(e[0]);for(const r of e){const i=ya(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(nf(r)||sf(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:dh(n)}),t}function Ny(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(gn).includes(n[0].toUpperCase())?n[0].toUpperCase():gn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(gn).includes(o.toUpperCase())?o.toUpperCase():gn.TYPE_UNSPECIFIED})}}function js(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&Ny(e.type,t);for(const[a,d]of Object.entries(e))if(d!=null)if(a=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;t.type=Object.values(gn).includes(d.toUpperCase())?d.toUpperCase():gn.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=js(d);else if(o.includes(a)){const u=[];for(const f of d){if(f.type=="null"){t.nullable=!0;continue}u.push(js(f))}t[a]=u}else if(r.includes(a)){const u={};for(const[f,p]of Object.entries(d))u[f]=js(p);t[a]=u}else{if(a==="additionalProperties")continue;t[a]=d}return t}function Ec(e){return js(e)}function Tc(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ic(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Js(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=js(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=js(t.response));return e}function Ws(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function wy(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function an(e,t){if(typeof t!="string")throw new Error("name must be a string");return wy(e,t,"cachedContents")}function uh(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ln(e){return wc(e)}function by(e){return e!=null&&typeof e=="object"&&"name"in e}function Sy(e){return e!=null&&typeof e=="object"&&"video"in e}function Cy(e){return e!=null&&typeof e=="object"&&"uri"in e}function fh(e){var t;let n;if(by(e)&&(n=e.name),!(Cy(e)&&(n=e.uri,n===void 0))&&!(Sy(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ph(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function mh(e){for(const t of["models","tunedModels","publisherModels"])if(Ey(e,t))return e[t];return[]}function Ey(e,t){return e!==null&&typeof e=="object"&&t in e}function Ty(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function Iy(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const a=Ty(r,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function hh(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function jy(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function xh(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const u=a.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ys(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function gh(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _y(e){const t={},n=l(e,["responsesFile"]);n!=null&&c(t,["fileName"],n);const o=l(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>cv(a))),c(t,["inlinedResponses"],i)}const r=l(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["inlinedEmbedContentResponses"],i)}return t}function ky(e){const t={},n=l(e,["predictionsFormat"]);n!=null&&c(t,["format"],n);const o=l(e,["gcsDestination","outputUriPrefix"]);o!=null&&c(t,["gcsUri"],o);const r=l(e,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Ay(e){const t={},n=l(e,["format"]);n!=null&&c(t,["predictionsFormat"],n);const o=l(e,["gcsUri"]);o!=null&&c(t,["gcsDestination","outputUriPrefix"],o);const r=l(e,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Mr(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["metadata","displayName"]);o!=null&&c(t,["displayName"],o);const r=l(e,["metadata","state"]);r!=null&&c(t,["state"],gh(r));const i=l(e,["metadata","createTime"]);i!=null&&c(t,["createTime"],i);const a=l(e,["metadata","endTime"]);a!=null&&c(t,["endTime"],a);const d=l(e,["metadata","updateTime"]);d!=null&&c(t,["updateTime"],d);const u=l(e,["metadata","model"]);u!=null&&c(t,["model"],u);const f=l(e,["metadata","output"]);return f!=null&&c(t,["dest"],_y(xh(f))),t}function va(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["displayName"]);o!=null&&c(t,["displayName"],o);const r=l(e,["state"]);r!=null&&c(t,["state"],gh(r));const i=l(e,["error"]);i!=null&&c(t,["error"],i);const a=l(e,["createTime"]);a!=null&&c(t,["createTime"],a);const d=l(e,["startTime"]);d!=null&&c(t,["startTime"],d);const u=l(e,["endTime"]);u!=null&&c(t,["endTime"],u);const f=l(e,["updateTime"]);f!=null&&c(t,["updateTime"],f);const p=l(e,["model"]);p!=null&&c(t,["model"],p);const h=l(e,["inputConfig"]);h!=null&&c(t,["src"],Py(h));const m=l(e,["outputConfig"]);m!=null&&c(t,["dest"],ky(xh(m)));const y=l(e,["completionStats"]);return y!=null&&c(t,["completionStats"],y),t}function Py(e){const t={},n=l(e,["instancesFormat"]);n!=null&&c(t,["format"],n);const o=l(e,["gcsSource","uris"]);o!=null&&c(t,["gcsUri"],o);const r=l(e,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Ry(e,t){const n={};if(l(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(t,["fileName"]);o!=null&&c(n,["fileName"],o);const r=l(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>av(e,a))),c(n,["requests","requests"],i)}return n}function My(e){const t={},n=l(e,["format"]);n!=null&&c(t,["instancesFormat"],n);const o=l(e,["gcsUri"]);o!=null&&c(t,["gcsSource","uris"],o);const r=l(e,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Dy(e){const t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function Ly(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],Ys(e,o)),n}function Uy(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],Ys(e,o)),n}function Fy(e){const t={},n=l(e,["content"]);n!=null&&c(t,["content"],n);const o=l(e,["citationMetadata"]);o!=null&&c(t,["citationMetadata"],Vy(o));const r=l(e,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const i=l(e,["finishReason"]);i!=null&&c(t,["finishReason"],i);const a=l(e,["avgLogprobs"]);a!=null&&c(t,["avgLogprobs"],a);const d=l(e,["groundingMetadata"]);d!=null&&c(t,["groundingMetadata"],d);const u=l(e,["index"]);u!=null&&c(t,["index"],u);const f=l(e,["logprobsResult"]);f!=null&&c(t,["logprobsResult"],f);const p=l(e,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>y)),c(t,["safetyRatings"],m)}const h=l(e,["urlContextMetadata"]);return h!=null&&c(t,["urlContextMetadata"],h),t}function Vy(e){const t={},n=l(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["citations"],o)}return t}function yh(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xv(i))),c(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&c(t,["role"],o),t}function Gy(e,t){const n={},o=l(e,["displayName"]);if(t!==void 0&&o!=null&&c(t,["batch","displayName"],o),l(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function By(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const r=l(e,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],Ay(jy(r))),n}function of(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["src"]);r!=null&&c(n,["batch","inputConfig"],Ry(e,hh(e,r)));const i=l(t,["config"]);return i!=null&&Gy(i,n),n}function Oy(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["model"],oe(e,o));const r=l(t,["src"]);r!=null&&c(n,["inputConfig"],My(hh(e,r)));const i=l(t,["config"]);return i!=null&&By(i,n),n}function qy(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&c(t,["batch","displayName"],o),n}function Hy(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["src"]);r!=null&&c(n,["batch","inputConfig"],Qy(e,r));const i=l(t,["config"]);return i!=null&&qy(i,n),n}function $y(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],Ys(e,o)),n}function zy(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],Ys(e,o)),n}function Jy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&c(t,["name"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);return i!=null&&c(t,["error"],i),t}function Wy(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&c(t,["name"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);return i!=null&&c(t,["error"],i),t}function Yy(e,t){const n={},o=l(t,["contents"]);if(o!=null){let i=Cc(e,o);Array.isArray(i)&&(i=i.map(a=>a)),c(n,["requests[]","request","content"],i)}const r=l(t,["config"]);return r!=null&&(c(n,["_self"],Ky(r,n)),zg(n,{"requests[].*":"requests[].request.*"})),n}function Ky(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&c(t,["requests[]","taskType"],o);const r=l(e,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const i=l(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&c(t,["requests[]","outputDimensionality"],i),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Qy(e,t){const n={},o=l(t,["fileName"]);o!=null&&c(n,["file_name"],o);const r=l(t,["inlinedRequests"]);return r!=null&&c(n,["requests"],Yy(e,r)),n}function Xy(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function Zy(e){const t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);const o=l(e,["args"]);o!=null&&c(t,["args"],o);const r=l(e,["name"]);if(r!=null&&c(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ev(e){const t={},n=l(e,["mode"]);n!=null&&c(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&c(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function tv(e,t,n){const o={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],yh($e(r)));const i=l(t,["temperature"]);i!=null&&c(o,["temperature"],i);const a=l(t,["topP"]);a!=null&&c(o,["topP"],a);const d=l(t,["topK"]);d!=null&&c(o,["topK"],d);const u=l(t,["candidateCount"]);u!=null&&c(o,["candidateCount"],u);const f=l(t,["maxOutputTokens"]);f!=null&&c(o,["maxOutputTokens"],f);const p=l(t,["stopSequences"]);p!=null&&c(o,["stopSequences"],p);const h=l(t,["responseLogprobs"]);h!=null&&c(o,["responseLogprobs"],h);const m=l(t,["logprobs"]);m!=null&&c(o,["logprobs"],m);const y=l(t,["presencePenalty"]);y!=null&&c(o,["presencePenalty"],y);const w=l(t,["frequencyPenalty"]);w!=null&&c(o,["frequencyPenalty"],w);const E=l(t,["seed"]);E!=null&&c(o,["seed"],E);const j=l(t,["responseMimeType"]);j!=null&&c(o,["responseMimeType"],j);const v=l(t,["responseSchema"]);v!=null&&c(o,["responseSchema"],Ec(v));const g=l(t,["responseJsonSchema"]);if(g!=null&&c(o,["responseJsonSchema"],g),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(t,["safetySettings"]);if(n!==void 0&&x!=null){let L=x;Array.isArray(L)&&(L=L.map(O=>gv(O))),c(n,["safetySettings"],L)}const b=l(t,["tools"]);if(n!==void 0&&b!=null){let L=Ws(b);Array.isArray(L)&&(L=L.map(O=>vv(Js(O)))),c(n,["tools"],L)}const C=l(t,["toolConfig"]);if(n!==void 0&&C!=null&&c(n,["toolConfig"],yv(C)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=l(t,["cachedContent"]);n!==void 0&&A!=null&&c(n,["cachedContent"],an(e,A));const I=l(t,["responseModalities"]);I!=null&&c(o,["responseModalities"],I);const T=l(t,["mediaResolution"]);T!=null&&c(o,["mediaResolution"],T);const R=l(t,["speechConfig"]);if(R!=null&&c(o,["speechConfig"],Tc(R)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _=l(t,["thinkingConfig"]);_!=null&&c(o,["thinkingConfig"],_);const P=l(t,["imageConfig"]);return P!=null&&c(o,["imageConfig"],lv(P)),o}function nv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Fy(f))),c(t,["candidates"],u)}const r=l(e,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const i=l(e,["promptFeedback"]);i!=null&&c(t,["promptFeedback"],i);const a=l(e,["responseId"]);a!=null&&c(t,["responseId"],a);const d=l(e,["usageMetadata"]);return d!=null&&c(t,["usageMetadata"],d),t}function sv(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],Ys(e,o)),n}function ov(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],Ys(e,o)),n}function rv(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function iv(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function lv(e){const t={},n=l(e,["aspectRatio"]);n!=null&&c(t,["aspectRatio"],n);const o=l(e,["imageSize"]);if(o!=null&&c(t,["imageSize"],o),l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function av(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["request","model"],oe(e,o));const r=l(t,["contents"]);if(r!=null){let d=Nt(r);Array.isArray(d)&&(d=d.map(u=>yh(u))),c(n,["request","contents"],d)}const i=l(t,["metadata"]);i!=null&&c(n,["metadata"],i);const a=l(t,["config"]);return a!=null&&c(n,["request","generationConfig"],tv(e,a,l(n,["request"],{}))),n}function cv(e){const t={},n=l(e,["response"]);n!=null&&c(t,["response"],nv(n));const o=l(e,["error"]);return o!=null&&c(t,["error"],o),t}function dv(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function uv(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const i=l(e,["filter"]);return t!==void 0&&i!=null&&c(t,["_query","filter"],i),n}function fv(e){const t={},n=l(e,["config"]);return n!=null&&dv(n,t),t}function pv(e){const t={},n=l(e,["config"]);return n!=null&&uv(n,t),t}function mv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Mr(a))),c(t,["batchJobs"],i)}return t}function hv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>va(a))),c(t,["batchJobs"],i)}return t}function xv(e){const t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&c(t,["fileData"],Xy(i));const a=l(e,["functionCall"]);a!=null&&c(t,["functionCall"],Zy(a));const d=l(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);const u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],Dy(u));const f=l(e,["text"]);f!=null&&c(t,["text"],f);const p=l(e,["thought"]);p!=null&&c(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&c(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&c(t,["videoMetadata"],m),t}function gv(e){const t={},n=l(e,["category"]);if(n!=null&&c(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["threshold"]);return o!=null&&c(t,["threshold"],o),t}function yv(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&c(t,["functionCallingConfig"],ev(n));const o=l(e,["retrievalConfig"]);return o!=null&&c(t,["retrievalConfig"],o),t}function vv(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),c(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&c(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const a=l(e,["codeExecution"]);if(a!=null&&c(t,["codeExecution"],a),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=l(e,["googleMaps"]);d!=null&&c(t,["googleMaps"],rv(d));const u=l(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],iv(u));const f=l(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(sn||(sn={}));class os{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!o||Object.keys(o).length===0?a={config:{}}:typeof o=="object"?a=Object.assign({},o):a=o,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(i=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nv extends ln{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new os(sn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=of(this.apiClient,t),o=n._url,r=$("{model}:batchGenerateContent",o),d=n.batch.inputConfig.requests,u=d.requests,f=[];for(const p of u){const h=Object.assign({},p);if(h.systemInstruction){const m=h.systemInstruction;delete h.systemInstruction;const y=h.request;y.systemInstruction=m,h.request=y}f.push(h)}return d.requests=f,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),a=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(a)o.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Oy(this.apiClient,t);return d=$("batchPredictionJobs",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>va(p))}else{const f=of(this.apiClient,t);return d=$("{model}:batchGenerateContent",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>Mr(p))}}async createEmbeddingsInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Hy(this.apiClient,t);return i=$("{model}:asyncBatchEmbedContent",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>Mr(u))}}async get(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=ov(this.apiClient,t);return d=$("batchPredictionJobs/{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>va(p))}else{const f=sv(this.apiClient,t);return d=$("batches/{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>Mr(p))}}async cancel(t){var n,o,r,i;let a="",d={};if(this.apiClient.isVertexAI()){const u=Uy(this.apiClient,t);a=$("batchPredictionJobs/{name}:cancel",u._url),d=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const u=Ly(this.apiClient,t);a=$("batches/{name}:cancel",u._url),d=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=pv(t);return d=$("batchPredictionJobs",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=hv(p),m=new ef;return Object.assign(m,h),m})}else{const f=fv(t);return d=$("batches",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=mv(p),m=new ef;return Object.assign(m,h),m})}}async delete(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=zy(this.apiClient,t);return d=$("batchPredictionJobs/{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>Wy(p))}else{const f=$y(this.apiClient,t);return d=$("batches/{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>Jy(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wv(e){const t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function rf(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Hv(i))),c(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&c(t,["role"],o),t}function bv(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=l(e,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const i=l(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);const a=l(e,["contents"]);if(t!==void 0&&a!=null){let p=Nt(a);Array.isArray(p)&&(p=p.map(h=>rf(h))),c(t,["contents"],p)}const d=l(e,["systemInstruction"]);t!==void 0&&d!=null&&c(t,["systemInstruction"],rf($e(d)));const u=l(e,["tools"]);if(t!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>zv(h))),c(t,["tools"],p)}const f=l(e,["toolConfig"]);if(t!==void 0&&f!=null&&c(t,["toolConfig"],$v(f)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Sv(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=l(e,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const i=l(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);const a=l(e,["contents"]);if(t!==void 0&&a!=null){let h=Nt(a);Array.isArray(h)&&(h=h.map(m=>m)),c(t,["contents"],h)}const d=l(e,["systemInstruction"]);t!==void 0&&d!=null&&c(t,["systemInstruction"],$e(d));const u=l(e,["tools"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>Jv(m))),c(t,["tools"],h)}const f=l(e,["toolConfig"]);t!==void 0&&f!=null&&c(t,["toolConfig"],f);const p=l(e,["kmsKeyName"]);return t!==void 0&&p!=null&&c(t,["encryption_spec","kmsKeyName"],p),n}function Cv(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["model"],ih(e,o));const r=l(t,["config"]);return r!=null&&bv(r,n),n}function Ev(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["model"],ih(e,o));const r=l(t,["config"]);return r!=null&&Sv(r,n),n}function Tv(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],an(e,o)),n}function Iv(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],an(e,o)),n}function jv(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function _v(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function kv(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function Av(e){const t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);const o=l(e,["args"]);o!=null&&c(t,["args"],o);const r=l(e,["name"]);if(r!=null&&c(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Pv(e){const t={},n=l(e,["mode"]);n!=null&&c(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&c(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Rv(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&c(t,["description"],n);const o=l(e,["name"]);o!=null&&c(t,["name"],o);const r=l(e,["parameters"]);r!=null&&c(t,["parameters"],r);const i=l(e,["parametersJsonSchema"]);i!=null&&c(t,["parametersJsonSchema"],i);const a=l(e,["response"]);a!=null&&c(t,["response"],a);const d=l(e,["responseJsonSchema"]);return d!=null&&c(t,["responseJsonSchema"],d),t}function Mv(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],an(e,o)),n}function Dv(e,t){const n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],an(e,o)),n}function Lv(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function Uv(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function Fv(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function Vv(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function Gv(e){const t={},n=l(e,["config"]);return n!=null&&Fv(n,t),t}function Bv(e){const t={},n=l(e,["config"]);return n!=null&&Vv(n,t),t}function Ov(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["cachedContents"],i)}return t}function qv(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["cachedContents"],i)}return t}function Hv(e){const t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&c(t,["fileData"],kv(i));const a=l(e,["functionCall"]);a!=null&&c(t,["functionCall"],Av(a));const d=l(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);const u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],wv(u));const f=l(e,["text"]);f!=null&&c(t,["text"],f);const p=l(e,["thought"]);p!=null&&c(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&c(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&c(t,["videoMetadata"],m),t}function $v(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&c(t,["functionCallingConfig"],Pv(n));const o=l(e,["retrievalConfig"]);return o!=null&&c(t,["retrievalConfig"],o),t}function zv(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),c(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&c(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const a=l(e,["codeExecution"]);if(a!=null&&c(t,["codeExecution"],a),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=l(e,["googleMaps"]);d!=null&&c(t,["googleMaps"],Lv(d));const u=l(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],Uv(u));const f=l(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function Jv(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>Rv(m))),c(t,["functionDeclarations"],h)}const o=l(e,["retrieval"]);o!=null&&c(t,["retrieval"],o);const r=l(e,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const i=l(e,["computerUse"]);if(i!=null&&c(t,["computerUse"],i),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=l(e,["codeExecution"]);a!=null&&c(t,["codeExecution"],a);const d=l(e,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const u=l(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const f=l(e,["googleSearch"]);f!=null&&c(t,["googleSearch"],f);const p=l(e,["urlContext"]);return p!=null&&c(t,["urlContext"],p),t}function Wv(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=l(e,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),n}function Yv(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=l(e,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),n}function Kv(e,t){const n={},o=l(t,["name"]);o!=null&&c(n,["_url","name"],an(e,o));const r=l(t,["config"]);return r!=null&&Wv(r,n),n}function Qv(e,t){const n={},o=l(t,["name"]);o!=null&&c(n,["_url","name"],an(e,o));const r=l(t,["config"]);return r!=null&&Yv(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xv extends ln{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new os(sn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Ev(this.apiClient,t);return d=$("cachedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const f=Cv(this.apiClient,t);return d=$("cachedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async get(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Dv(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const f=Mv(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async delete(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Iv(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=_v(p),m=new Xu;return Object.assign(m,h),m})}else{const f=Tv(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=jv(p),m=new Xu;return Object.assign(m,h),m})}}async update(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Qv(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const f=Kv(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async listInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Bv(t);return d=$("cachedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=qv(p),m=new Zu;return Object.assign(m,h),m})}else{const f=Gv(t);return d=$("cachedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=Ov(p),m=new Zu;return Object.assign(m,h),m})}}}function lf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(e){return this instanceof fe?(this.v=e,this):new fe(e)}function _s(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(y){return function(w){return Promise.resolve(w).then(y,h)}}function d(y,w){o[y]&&(r[y]=function(E){return new Promise(function(j,v){i.push([y,E,j,v])>1||u(y,E)})},w&&(r[y]=w(r[y])))}function u(y,w){try{f(o[y](w))}catch(E){m(i[0][3],E)}}function f(y){y.value instanceof fe?Promise.resolve(y.value.v).then(p,h):m(i[0][2],y)}function p(y){u("next",y)}function h(y){u("throw",y)}function m(y,w){y(w),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Eo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof lf=="function"?lf(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(a){return new Promise(function(d,u){a=e[i](a),r(d,u,a.done,a.value)})}}function r(i,a,d,u){Promise.resolve(u).then(function(f){i({value:f,done:d})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:vh(n)}function vh(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function eN(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function af(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!vh(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class tN{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new nN(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class nN{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),eN(i)}async sendMessage(t){var n;await this.sendPromise;const o=$e(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,a,d;const u=await r,f=(a=(i=u.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content,p=u.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];p!=null&&(m=(d=p.slice(h))!==null&&d!==void 0?d:[]);const y=f?[f]:[];this.recordHistory(o,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=$e(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?af(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var o,r;return _s(this,arguments,function*(){var a,d,u,f;const p=[];try{for(var h=!0,m=Eo(t),y;y=yield fe(m.next()),a=y.done,!a;h=!0){f=y.value,h=!1;const w=f;if(Zv(w)){const E=(r=(o=w.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;E!==void 0&&p.push(E)}yield yield fe(w)}}catch(w){d={error:w}}finally{try{!h&&!a&&(u=m.return)&&(yield fe(u.call(m)))}finally{if(d)throw d.error}}this.recordHistory(n,p)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...af(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ai extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ai.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sN(e){const t={},n=l(e,["file"]);return n!=null&&c(t,["file"],n),t}function oN(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function rN(e){const t={},n=l(e,["name"]);return n!=null&&c(t,["_url","file"],fh(n)),t}function iN(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function lN(e){const t={},n=l(e,["name"]);return n!=null&&c(t,["_url","file"],fh(n)),t}function aN(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function cN(e){const t={},n=l(e,["config"]);return n!=null&&aN(n,t),t}function dN(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uN extends ln{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new os(sn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=cN(t);return i=$("files",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),r.then(u=>{const f=dN(u),p=new hy;return Object.assign(p,f),p})}}async createInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=sN(t);return i=$("upload/v1beta/files",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{const f=oN(u),p=new xy;return Object.assign(p,f),p})}}async get(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=lN(t);return i=$("files/{file}",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=rN(t);return i=$("files/{file}",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),r.then(u=>{const f=iN(u),p=new gy;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dr(e){const t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function fN(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jN(i))),c(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&c(t,["role"],o),t}function pN(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function mN(e){const t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);const o=l(e,["args"]);o!=null&&c(t,["args"],o);const r=l(e,["name"]);if(r!=null&&c(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hN(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&c(t,["description"],n);const o=l(e,["name"]);o!=null&&c(t,["name"],o);const r=l(e,["parameters"]);r!=null&&c(t,["parameters"],r);const i=l(e,["parametersJsonSchema"]);i!=null&&c(t,["parametersJsonSchema"],i);const a=l(e,["response"]);a!=null&&c(t,["response"],a);const d=l(e,["responseJsonSchema"]);return d!=null&&c(t,["responseJsonSchema"],d),t}function xN(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const o=l(e,["responseJsonSchema"]);o!=null&&c(t,["responseJsonSchema"],o);const r=l(e,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const i=l(e,["candidateCount"]);i!=null&&c(t,["candidateCount"],i);const a=l(e,["enableAffectiveDialog"]);a!=null&&c(t,["enableAffectiveDialog"],a);const d=l(e,["frequencyPenalty"]);d!=null&&c(t,["frequencyPenalty"],d);const u=l(e,["logprobs"]);u!=null&&c(t,["logprobs"],u);const f=l(e,["maxOutputTokens"]);f!=null&&c(t,["maxOutputTokens"],f);const p=l(e,["mediaResolution"]);p!=null&&c(t,["mediaResolution"],p);const h=l(e,["presencePenalty"]);h!=null&&c(t,["presencePenalty"],h);const m=l(e,["responseLogprobs"]);m!=null&&c(t,["responseLogprobs"],m);const y=l(e,["responseMimeType"]);y!=null&&c(t,["responseMimeType"],y);const w=l(e,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const E=l(e,["responseSchema"]);E!=null&&c(t,["responseSchema"],E);const j=l(e,["routingConfig"]);j!=null&&c(t,["routingConfig"],j);const v=l(e,["seed"]);v!=null&&c(t,["seed"],v);const g=l(e,["speechConfig"]);g!=null&&c(t,["speechConfig"],Nh(g));const x=l(e,["stopSequences"]);x!=null&&c(t,["stopSequences"],x);const b=l(e,["temperature"]);b!=null&&c(t,["temperature"],b);const C=l(e,["thinkingConfig"]);C!=null&&c(t,["thinkingConfig"],C);const A=l(e,["topK"]);A!=null&&c(t,["topK"],A);const I=l(e,["topP"]);if(I!=null&&c(t,["topP"],I),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function gN(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function yN(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function vN(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],o);const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","temperature"],i);const a=l(e,["topP"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","topP"],a);const d=l(e,["topK"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","topK"],d);const u=l(e,["maxOutputTokens"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","maxOutputTokens"],u);const f=l(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","speechConfig"],Ic(h));const m=l(e,["thinkingConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","thinkingConfig"],m);const y=l(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],y);const w=l(e,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],fN($e(w)));const E=l(e,["tools"]);if(t!==void 0&&E!=null){let A=Ws(E);Array.isArray(A)&&(A=A.map(I=>kN(Js(I)))),c(t,["setup","tools"],A)}const j=l(e,["sessionResumption"]);t!==void 0&&j!=null&&c(t,["setup","sessionResumption"],_N(j));const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&c(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&c(t,["setup","outputAudioTranscription"],g);const x=l(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&c(t,["setup","realtimeInputConfig"],x);const b=l(e,["contextWindowCompression"]);t!==void 0&&b!=null&&c(t,["setup","contextWindowCompression"],b);const C=l(e,["proactivity"]);return t!==void 0&&C!=null&&c(t,["setup","proactivity"],C),n}function NN(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],xN(o));const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","temperature"],i);const a=l(e,["topP"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","topP"],a);const d=l(e,["topK"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","topK"],d);const u=l(e,["maxOutputTokens"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","maxOutputTokens"],u);const f=l(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","speechConfig"],Nh(Ic(h)));const m=l(e,["thinkingConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","thinkingConfig"],m);const y=l(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],y);const w=l(e,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],$e(w));const E=l(e,["tools"]);if(t!==void 0&&E!=null){let A=Ws(E);Array.isArray(A)&&(A=A.map(I=>AN(Js(I)))),c(t,["setup","tools"],A)}const j=l(e,["sessionResumption"]);t!==void 0&&j!=null&&c(t,["setup","sessionResumption"],j);const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&c(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&c(t,["setup","outputAudioTranscription"],g);const x=l(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&c(t,["setup","realtimeInputConfig"],x);const b=l(e,["contextWindowCompression"]);t!==void 0&&b!=null&&c(t,["setup","contextWindowCompression"],b);const C=l(e,["proactivity"]);return t!==void 0&&C!=null&&c(t,["setup","proactivity"],C),n}function wN(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["setup","model"],oe(e,o));const r=l(t,["config"]);return r!=null&&c(n,["config"],vN(r,n)),n}function bN(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["setup","model"],oe(e,o));const r=l(t,["config"]);return r!=null&&c(n,["config"],NN(r,n)),n}function SN(e){const t={},n=l(e,["musicGenerationConfig"]);return n!=null&&c(t,["musicGenerationConfig"],n),t}function CN(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["weightedPrompts"],o)}return t}function EN(e){const t={},n=l(e,["media"]);if(n!=null){let f=lh(n);Array.isArray(f)&&(f=f.map(p=>Dr(p))),c(t,["mediaChunks"],f)}const o=l(e,["audio"]);o!=null&&c(t,["audio"],Dr(ch(o)));const r=l(e,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const i=l(e,["video"]);i!=null&&c(t,["video"],Dr(ah(i)));const a=l(e,["text"]);a!=null&&c(t,["text"],a);const d=l(e,["activityStart"]);d!=null&&c(t,["activityStart"],d);const u=l(e,["activityEnd"]);return u!=null&&c(t,["activityEnd"],u),t}function TN(e){const t={},n=l(e,["media"]);if(n!=null){let f=lh(n);Array.isArray(f)&&(f=f.map(p=>p)),c(t,["mediaChunks"],f)}const o=l(e,["audio"]);o!=null&&c(t,["audio"],ch(o));const r=l(e,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const i=l(e,["video"]);i!=null&&c(t,["video"],ah(i));const a=l(e,["text"]);a!=null&&c(t,["text"],a);const d=l(e,["activityStart"]);d!=null&&c(t,["activityStart"],d);const u=l(e,["activityEnd"]);return u!=null&&c(t,["activityEnd"],u),t}function IN(e){const t={},n=l(e,["setupComplete"]);n!=null&&c(t,["setupComplete"],n);const o=l(e,["serverContent"]);o!=null&&c(t,["serverContent"],o);const r=l(e,["toolCall"]);r!=null&&c(t,["toolCall"],r);const i=l(e,["toolCallCancellation"]);i!=null&&c(t,["toolCallCancellation"],i);const a=l(e,["usageMetadata"]);a!=null&&c(t,["usageMetadata"],PN(a));const d=l(e,["goAway"]);d!=null&&c(t,["goAway"],d);const u=l(e,["sessionResumptionUpdate"]);return u!=null&&c(t,["sessionResumptionUpdate"],u),t}function jN(e){const t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&c(t,["fileData"],pN(i));const a=l(e,["functionCall"]);a!=null&&c(t,["functionCall"],mN(a));const d=l(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);const u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],Dr(u));const f=l(e,["text"]);f!=null&&c(t,["text"],f);const p=l(e,["thought"]);p!=null&&c(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&c(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&c(t,["videoMetadata"],m),t}function _N(e){const t={},n=l(e,["handle"]);if(n!=null&&c(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Nh(e){const t={},n=l(e,["languageCode"]);n!=null&&c(t,["languageCode"],n);const o=l(e,["voiceConfig"]);if(o!=null&&c(t,["voiceConfig"],o),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function kN(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),c(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&c(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const a=l(e,["codeExecution"]);if(a!=null&&c(t,["codeExecution"],a),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=l(e,["googleMaps"]);d!=null&&c(t,["googleMaps"],gN(d));const u=l(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],yN(u));const f=l(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function AN(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>hN(m))),c(t,["functionDeclarations"],h)}const o=l(e,["retrieval"]);o!=null&&c(t,["retrieval"],o);const r=l(e,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const i=l(e,["computerUse"]);if(i!=null&&c(t,["computerUse"],i),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=l(e,["codeExecution"]);a!=null&&c(t,["codeExecution"],a);const d=l(e,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const u=l(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const f=l(e,["googleSearch"]);f!=null&&c(t,["googleSearch"],f);const p=l(e,["urlContext"]);return p!=null&&c(t,["urlContext"],p),t}function PN(e){const t={},n=l(e,["promptTokenCount"]);n!=null&&c(t,["promptTokenCount"],n);const o=l(e,["cachedContentTokenCount"]);o!=null&&c(t,["cachedContentTokenCount"],o);const r=l(e,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const i=l(e,["toolUsePromptTokenCount"]);i!=null&&c(t,["toolUsePromptTokenCount"],i);const a=l(e,["thoughtsTokenCount"]);a!=null&&c(t,["thoughtsTokenCount"],a);const d=l(e,["totalTokenCount"]);d!=null&&c(t,["totalTokenCount"],d);const u=l(e,["promptTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(w=>w)),c(t,["promptTokensDetails"],y)}const f=l(e,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(w=>w)),c(t,["cacheTokensDetails"],y)}const p=l(e,["candidatesTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(w=>w)),c(t,["responseTokensDetails"],y)}const h=l(e,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(w=>w)),c(t,["toolUsePromptTokensDetails"],y)}const m=l(e,["trafficType"]);return m!=null&&c(t,["trafficType"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RN(e){const t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function MN(e){const t={},n=l(e,["content"]);n!=null&&c(t,["content"],n);const o=l(e,["citationMetadata"]);o!=null&&c(t,["citationMetadata"],DN(o));const r=l(e,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const i=l(e,["finishReason"]);i!=null&&c(t,["finishReason"],i);const a=l(e,["avgLogprobs"]);a!=null&&c(t,["avgLogprobs"],a);const d=l(e,["groundingMetadata"]);d!=null&&c(t,["groundingMetadata"],d);const u=l(e,["index"]);u!=null&&c(t,["index"],u);const f=l(e,["logprobsResult"]);f!=null&&c(t,["logprobsResult"],f);const p=l(e,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>y)),c(t,["safetyRatings"],m)}const h=l(e,["urlContextMetadata"]);return h!=null&&c(t,["urlContextMetadata"],h),t}function DN(e){const t={},n=l(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["citations"],o)}return t}function LN(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["contents"]);if(r!=null){let i=Nt(r);Array.isArray(i)&&(i=i.map(a=>a)),c(n,["contents"],i)}return n}function UN(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),c(t,["tokensInfo"],r)}return t}function FN(e){const t={},n=l(e,["values"]);n!=null&&c(t,["values"],n);const o=l(e,["statistics"]);return o!=null&&c(t,["statistics"],VN(o)),t}function VN(e){const t={},n=l(e,["truncated"]);n!=null&&c(t,["truncated"],n);const o=l(e,["token_count"]);return o!=null&&c(t,["tokenCount"],o),t}function Pi(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ww(i))),c(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&c(t,["role"],o),t}function GN(e){const t={},n=l(e,["controlType"]);n!=null&&c(t,["controlType"],n);const o=l(e,["enableControlImageComputation"]);return o!=null&&c(t,["computeControl"],o),t}function BN(e){const t={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function ON(e,t){const n={},o=l(e,["systemInstruction"]);t!==void 0&&o!=null&&c(t,["systemInstruction"],$e(o));const r=l(e,["tools"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>Eh(d))),c(t,["tools"],a)}const i=l(e,["generationConfig"]);return t!==void 0&&i!=null&&c(t,["generationConfig"],Rw(i)),n}function qN(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["contents"]);if(r!=null){let a=Nt(r);Array.isArray(a)&&(a=a.map(d=>Pi(d))),c(n,["contents"],a)}const i=l(t,["config"]);return i!=null&&BN(i),n}function HN(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["contents"]);if(r!=null){let a=Nt(r);Array.isArray(a)&&(a=a.map(d=>d)),c(n,["contents"],a)}const i=l(t,["config"]);return i!=null&&ON(i,n),n}function $N(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["totalTokens"]);o!=null&&c(t,["totalTokens"],o);const r=l(e,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function zN(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["totalTokens"]);return o!=null&&c(t,["totalTokens"],o),t}function JN(e,t){const n={},o=l(t,["model"]);return o!=null&&c(n,["_url","name"],oe(e,o)),n}function WN(e,t){const n={},o=l(t,["model"]);return o!=null&&c(n,["_url","name"],oe(e,o)),n}function YN(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function KN(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function QN(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);const r=l(e,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i);const a=l(e,["aspectRatio"]);t!==void 0&&a!=null&&c(t,["parameters","aspectRatio"],a);const d=l(e,["guidanceScale"]);t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d);const u=l(e,["seed"]);t!==void 0&&u!=null&&c(t,["parameters","seed"],u);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&c(t,["parameters","includeSafetyAttributes"],h);const m=l(e,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const y=l(e,["language"]);t!==void 0&&y!=null&&c(t,["parameters","language"],y);const w=l(e,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const E=l(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const j=l(e,["addWatermark"]);t!==void 0&&j!=null&&c(t,["parameters","addWatermark"],j);const v=l(e,["labels"]);t!==void 0&&v!=null&&c(t,["labels"],v);const g=l(e,["editMode"]);t!==void 0&&g!=null&&c(t,["parameters","editMode"],g);const x=l(e,["baseSteps"]);return t!==void 0&&x!=null&&c(t,["parameters","editConfig","baseSteps"],x),n}function XN(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const i=l(t,["referenceImages"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(u=>eb(u))),c(n,["instances[0]","referenceImages"],d)}const a=l(t,["config"]);return a!=null&&QN(a,n),n}function ZN(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ri(i))),c(t,["generatedImages"],r)}return t}function ew(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&c(t,["requests[]","taskType"],o);const r=l(e,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const i=l(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&c(t,["requests[]","outputDimensionality"],i),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tw(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&c(t,["instances[]","task_type"],o);const r=l(e,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const i=l(e,["outputDimensionality"]);t!==void 0&&i!=null&&c(t,["parameters","outputDimensionality"],i);const a=l(e,["mimeType"]);t!==void 0&&a!=null&&c(t,["instances[]","mimeType"],a);const d=l(e,["autoTruncate"]);return t!==void 0&&d!=null&&c(t,["parameters","autoTruncate"],d),n}function nw(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["contents"]);if(r!=null){let d=Cc(e,r);Array.isArray(d)&&(d=d.map(u=>u)),c(n,["requests[]","content"],d)}const i=l(t,["config"]);i!=null&&ew(i,n);const a=l(t,["model"]);return a!==void 0&&c(n,["requests[]","model"],oe(e,a)),n}function sw(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["contents"]);if(r!=null){let a=Cc(e,r);Array.isArray(a)&&(a=a.map(d=>d)),c(n,["instances[]","content"],a)}const i=l(t,["config"]);return i!=null&&tw(i,n),n}function ow(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["embeddings"],i)}const r=l(e,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function rw(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>FN(a))),c(t,["embeddings"],i)}const r=l(e,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function iw(e){const t={},n=l(e,["endpoint"]);n!=null&&c(t,["name"],n);const o=l(e,["deployedModelId"]);return o!=null&&c(t,["deployedModelId"],o),t}function lw(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function aw(e){const t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);const o=l(e,["args"]);o!=null&&c(t,["args"],o);const r=l(e,["name"]);if(r!=null&&c(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cw(e){const t={},n=l(e,["mode"]);n!=null&&c(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);if(o!=null&&c(t,["allowedFunctionNames"],o),l(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function dw(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&c(t,["description"],n);const o=l(e,["name"]);o!=null&&c(t,["name"],o);const r=l(e,["parameters"]);r!=null&&c(t,["parameters"],r);const i=l(e,["parametersJsonSchema"]);i!=null&&c(t,["parametersJsonSchema"],i);const a=l(e,["response"]);a!=null&&c(t,["response"],a);const d=l(e,["responseJsonSchema"]);return d!=null&&c(t,["responseJsonSchema"],d),t}function uw(e,t,n){const o={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Pi($e(r)));const i=l(t,["temperature"]);i!=null&&c(o,["temperature"],i);const a=l(t,["topP"]);a!=null&&c(o,["topP"],a);const d=l(t,["topK"]);d!=null&&c(o,["topK"],d);const u=l(t,["candidateCount"]);u!=null&&c(o,["candidateCount"],u);const f=l(t,["maxOutputTokens"]);f!=null&&c(o,["maxOutputTokens"],f);const p=l(t,["stopSequences"]);p!=null&&c(o,["stopSequences"],p);const h=l(t,["responseLogprobs"]);h!=null&&c(o,["responseLogprobs"],h);const m=l(t,["logprobs"]);m!=null&&c(o,["logprobs"],m);const y=l(t,["presencePenalty"]);y!=null&&c(o,["presencePenalty"],y);const w=l(t,["frequencyPenalty"]);w!=null&&c(o,["frequencyPenalty"],w);const E=l(t,["seed"]);E!=null&&c(o,["seed"],E);const j=l(t,["responseMimeType"]);j!=null&&c(o,["responseMimeType"],j);const v=l(t,["responseSchema"]);v!=null&&c(o,["responseSchema"],Ec(v));const g=l(t,["responseJsonSchema"]);if(g!=null&&c(o,["responseJsonSchema"],g),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(t,["safetySettings"]);if(n!==void 0&&x!=null){let L=x;Array.isArray(L)&&(L=L.map(O=>tb(O))),c(n,["safetySettings"],L)}const b=l(t,["tools"]);if(n!==void 0&&b!=null){let L=Ws(b);Array.isArray(L)&&(L=L.map(O=>ab(Js(O)))),c(n,["tools"],L)}const C=l(t,["toolConfig"]);if(n!==void 0&&C!=null&&c(n,["toolConfig"],lb(C)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=l(t,["cachedContent"]);n!==void 0&&A!=null&&c(n,["cachedContent"],an(e,A));const I=l(t,["responseModalities"]);I!=null&&c(o,["responseModalities"],I);const T=l(t,["mediaResolution"]);T!=null&&c(o,["mediaResolution"],T);const R=l(t,["speechConfig"]);if(R!=null&&c(o,["speechConfig"],Tc(R)),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _=l(t,["thinkingConfig"]);_!=null&&c(o,["thinkingConfig"],_);const P=l(t,["imageConfig"]);return P!=null&&c(o,["imageConfig"],Fw(P)),o}function fw(e,t,n){const o={},r=l(t,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],$e(r));const i=l(t,["temperature"]);i!=null&&c(o,["temperature"],i);const a=l(t,["topP"]);a!=null&&c(o,["topP"],a);const d=l(t,["topK"]);d!=null&&c(o,["topK"],d);const u=l(t,["candidateCount"]);u!=null&&c(o,["candidateCount"],u);const f=l(t,["maxOutputTokens"]);f!=null&&c(o,["maxOutputTokens"],f);const p=l(t,["stopSequences"]);p!=null&&c(o,["stopSequences"],p);const h=l(t,["responseLogprobs"]);h!=null&&c(o,["responseLogprobs"],h);const m=l(t,["logprobs"]);m!=null&&c(o,["logprobs"],m);const y=l(t,["presencePenalty"]);y!=null&&c(o,["presencePenalty"],y);const w=l(t,["frequencyPenalty"]);w!=null&&c(o,["frequencyPenalty"],w);const E=l(t,["seed"]);E!=null&&c(o,["seed"],E);const j=l(t,["responseMimeType"]);j!=null&&c(o,["responseMimeType"],j);const v=l(t,["responseSchema"]);v!=null&&c(o,["responseSchema"],Ec(v));const g=l(t,["responseJsonSchema"]);g!=null&&c(o,["responseJsonSchema"],g);const x=l(t,["routingConfig"]);x!=null&&c(o,["routingConfig"],x);const b=l(t,["modelSelectionConfig"]);b!=null&&c(o,["modelConfig"],b);const C=l(t,["safetySettings"]);if(n!==void 0&&C!=null){let S=C;Array.isArray(S)&&(S=S.map(B=>B)),c(n,["safetySettings"],S)}const A=l(t,["tools"]);if(n!==void 0&&A!=null){let S=Ws(A);Array.isArray(S)&&(S=S.map(B=>Eh(Js(B)))),c(n,["tools"],S)}const I=l(t,["toolConfig"]);n!==void 0&&I!=null&&c(n,["toolConfig"],I);const T=l(t,["labels"]);n!==void 0&&T!=null&&c(n,["labels"],T);const R=l(t,["cachedContent"]);n!==void 0&&R!=null&&c(n,["cachedContent"],an(e,R));const _=l(t,["responseModalities"]);_!=null&&c(o,["responseModalities"],_);const P=l(t,["mediaResolution"]);P!=null&&c(o,["mediaResolution"],P);const L=l(t,["speechConfig"]);L!=null&&c(o,["speechConfig"],Ch(Tc(L)));const O=l(t,["audioTimestamp"]);O!=null&&c(o,["audioTimestamp"],O);const M=l(t,["thinkingConfig"]);M!=null&&c(o,["thinkingConfig"],M);const U=l(t,["imageConfig"]);return U!=null&&c(o,["imageConfig"],Vw(U)),o}function cf(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["contents"]);if(r!=null){let a=Nt(r);Array.isArray(a)&&(a=a.map(d=>Pi(d))),c(n,["contents"],a)}const i=l(t,["config"]);return i!=null&&c(n,["generationConfig"],uw(e,i,n)),n}function df(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["contents"]);if(r!=null){let a=Nt(r);Array.isArray(a)&&(a=a.map(d=>d)),c(n,["contents"],a)}const i=l(t,["config"]);return i!=null&&c(n,["generationConfig"],fw(e,i,n)),n}function uf(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>MN(f))),c(t,["candidates"],u)}const r=l(e,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const i=l(e,["promptFeedback"]);i!=null&&c(t,["promptFeedback"],i);const a=l(e,["responseId"]);a!=null&&c(t,["responseId"],a);const d=l(e,["usageMetadata"]);return d!=null&&c(t,["usageMetadata"],d),t}function ff(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["candidates"],f)}const r=l(e,["createTime"]);r!=null&&c(t,["createTime"],r);const i=l(e,["modelVersion"]);i!=null&&c(t,["modelVersion"],i);const a=l(e,["promptFeedback"]);a!=null&&c(t,["promptFeedback"],a);const d=l(e,["responseId"]);d!=null&&c(t,["responseId"],d);const u=l(e,["usageMetadata"]);return u!=null&&c(t,["usageMetadata"],u),t}function pw(e,t){const n={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const r=l(e,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const i=l(e,["guidanceScale"]);if(t!==void 0&&i!=null&&c(t,["parameters","guidanceScale"],i),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=l(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&c(t,["parameters","safetySetting"],a);const d=l(e,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const u=l(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&c(t,["parameters","includeSafetyAttributes"],u);const f=l(e,["includeRaiReason"]);t!==void 0&&f!=null&&c(t,["parameters","includeRaiReason"],f);const p=l(e,["language"]);t!==void 0&&p!=null&&c(t,["parameters","language"],p);const h=l(e,["outputMimeType"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","mimeType"],h);const m=l(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&c(t,["parameters","outputOptions","compressionQuality"],m),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=l(e,["imageSize"]);if(t!==void 0&&y!=null&&c(t,["parameters","sampleImageSize"],y),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function mw(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);const r=l(e,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i);const a=l(e,["aspectRatio"]);t!==void 0&&a!=null&&c(t,["parameters","aspectRatio"],a);const d=l(e,["guidanceScale"]);t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d);const u=l(e,["seed"]);t!==void 0&&u!=null&&c(t,["parameters","seed"],u);const f=l(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&c(t,["parameters","includeSafetyAttributes"],h);const m=l(e,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const y=l(e,["language"]);t!==void 0&&y!=null&&c(t,["parameters","language"],y);const w=l(e,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const E=l(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const j=l(e,["addWatermark"]);t!==void 0&&j!=null&&c(t,["parameters","addWatermark"],j);const v=l(e,["labels"]);t!==void 0&&v!=null&&c(t,["labels"],v);const g=l(e,["imageSize"]);t!==void 0&&g!=null&&c(t,["parameters","sampleImageSize"],g);const x=l(e,["enhancePrompt"]);return t!==void 0&&x!=null&&c(t,["parameters","enhancePrompt"],x),n}function hw(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const i=l(t,["config"]);return i!=null&&pw(i,n),n}function xw(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const i=l(t,["config"]);return i!=null&&mw(i,n),n}function gw(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>_w(a))),c(t,["generatedImages"],i)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],bh(r)),t}function yw(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Ri(a))),c(t,["generatedImages"],i)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Sh(r)),t}function vw(e,t){const n={},o=l(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=l(e,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=l(e,["aspectRatio"]);t!==void 0&&i!=null&&c(t,["parameters","aspectRatio"],i);const a=l(e,["resolution"]);t!==void 0&&a!=null&&c(t,["parameters","resolution"],a);const d=l(e,["personGeneration"]);if(t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=l(e,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const f=l(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&c(t,["parameters","enhancePrompt"],f),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=l(e,["lastFrame"]);t!==void 0&&p!=null&&c(t,["instances[0]","lastFrame"],Mi(p));const h=l(e,["referenceImages"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>wb(y))),c(t,["instances[0]","referenceImages"],m)}if(l(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Nw(e,t){const n={},o=l(e,["numberOfVideos"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const r=l(e,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const i=l(e,["fps"]);t!==void 0&&i!=null&&c(t,["parameters","fps"],i);const a=l(e,["durationSeconds"]);t!==void 0&&a!=null&&c(t,["parameters","durationSeconds"],a);const d=l(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&c(t,["parameters","aspectRatio"],u);const f=l(e,["resolution"]);t!==void 0&&f!=null&&c(t,["parameters","resolution"],f);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);const h=l(e,["pubsubTopic"]);t!==void 0&&h!=null&&c(t,["parameters","pubsubTopic"],h);const m=l(e,["negativePrompt"]);t!==void 0&&m!=null&&c(t,["parameters","negativePrompt"],m);const y=l(e,["enhancePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","enhancePrompt"],y);const w=l(e,["generateAudio"]);t!==void 0&&w!=null&&c(t,["parameters","generateAudio"],w);const E=l(e,["lastFrame"]);t!==void 0&&E!=null&&c(t,["instances[0]","lastFrame"],Lt(E));const j=l(e,["referenceImages"]);if(t!==void 0&&j!=null){let x=j;Array.isArray(x)&&(x=x.map(b=>bb(b))),c(t,["instances[0]","referenceImages"],x)}const v=l(e,["mask"]);t!==void 0&&v!=null&&c(t,["instances[0]","mask"],Nb(v));const g=l(e,["compressionQuality"]);return t!==void 0&&g!=null&&c(t,["parameters","compressionQuality"],g),n}function ww(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);i!=null&&c(t,["error"],i);const a=l(e,["response","generateVideoResponse"]);return a!=null&&c(t,["response"],Ew(a)),t}function bw(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);i!=null&&c(t,["error"],i);const a=l(e,["response"]);return a!=null&&c(t,["response"],Tw(a)),t}function Sw(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const i=l(t,["image"]);i!=null&&c(n,["instances[0]","image"],Mi(i));const a=l(t,["video"]);a!=null&&c(n,["instances[0]","video"],Th(a));const d=l(t,["source"]);d!=null&&Iw(d,n);const u=l(t,["config"]);return u!=null&&vw(u,n),n}function Cw(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const i=l(t,["image"]);i!=null&&c(n,["instances[0]","image"],Lt(i));const a=l(t,["video"]);a!=null&&c(n,["instances[0]","video"],Ih(a));const d=l(t,["source"]);d!=null&&jw(d,n);const u=l(t,["config"]);return u!=null&&Nw(u,n),n}function Ew(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Aw(a))),c(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Tw(e){const t={},n=l(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Pw(a))),c(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=l(e,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Iw(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);const r=l(e,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Mi(r));const i=l(e,["video"]);return t!==void 0&&i!=null&&c(t,["instances[0]","video"],Th(i)),n}function jw(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);const r=l(e,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Lt(r));const i=l(e,["video"]);return t!==void 0&&i!=null&&c(t,["instances[0]","video"],Ih(i)),n}function _w(e){const t={},n=l(e,["_self"]);n!=null&&c(t,["image"],Gw(n));const o=l(e,["raiFilteredReason"]);o!=null&&c(t,["raiFilteredReason"],o);const r=l(e,["_self"]);return r!=null&&c(t,["safetyAttributes"],bh(r)),t}function Ri(e){const t={},n=l(e,["_self"]);n!=null&&c(t,["image"],wh(n));const o=l(e,["raiFilteredReason"]);o!=null&&c(t,["raiFilteredReason"],o);const r=l(e,["_self"]);r!=null&&c(t,["safetyAttributes"],Sh(r));const i=l(e,["prompt"]);return i!=null&&c(t,["enhancedPrompt"],i),t}function kw(e){const t={},n=l(e,["_self"]);n!=null&&c(t,["mask"],wh(n));const o=l(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),c(t,["labels"],r)}return t}function Aw(e){const t={},n=l(e,["video"]);return n!=null&&c(t,["video"],yb(n)),t}function Pw(e){const t={},n=l(e,["_self"]);return n!=null&&c(t,["video"],vb(n)),t}function Rw(e){const t={},n=l(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const o=l(e,["responseJsonSchema"]);o!=null&&c(t,["responseJsonSchema"],o);const r=l(e,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const i=l(e,["candidateCount"]);i!=null&&c(t,["candidateCount"],i);const a=l(e,["enableAffectiveDialog"]);a!=null&&c(t,["enableAffectiveDialog"],a);const d=l(e,["frequencyPenalty"]);d!=null&&c(t,["frequencyPenalty"],d);const u=l(e,["logprobs"]);u!=null&&c(t,["logprobs"],u);const f=l(e,["maxOutputTokens"]);f!=null&&c(t,["maxOutputTokens"],f);const p=l(e,["mediaResolution"]);p!=null&&c(t,["mediaResolution"],p);const h=l(e,["presencePenalty"]);h!=null&&c(t,["presencePenalty"],h);const m=l(e,["responseLogprobs"]);m!=null&&c(t,["responseLogprobs"],m);const y=l(e,["responseMimeType"]);y!=null&&c(t,["responseMimeType"],y);const w=l(e,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const E=l(e,["responseSchema"]);E!=null&&c(t,["responseSchema"],E);const j=l(e,["routingConfig"]);j!=null&&c(t,["routingConfig"],j);const v=l(e,["seed"]);v!=null&&c(t,["seed"],v);const g=l(e,["speechConfig"]);g!=null&&c(t,["speechConfig"],Ch(g));const x=l(e,["stopSequences"]);x!=null&&c(t,["stopSequences"],x);const b=l(e,["temperature"]);b!=null&&c(t,["temperature"],b);const C=l(e,["thinkingConfig"]);C!=null&&c(t,["thinkingConfig"],C);const A=l(e,["topK"]);A!=null&&c(t,["topK"],A);const I=l(e,["topP"]);if(I!=null&&c(t,["topP"],I),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Mw(e,t){const n={},o=l(t,["model"]);return o!=null&&c(n,["_url","name"],oe(e,o)),n}function Dw(e,t){const n={},o=l(t,["model"]);return o!=null&&c(n,["_url","name"],oe(e,o)),n}function Lw(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function Uw(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function Fw(e){const t={},n=l(e,["aspectRatio"]);n!=null&&c(t,["aspectRatio"],n);const o=l(e,["imageSize"]);if(o!=null&&c(t,["imageSize"],o),l(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Vw(e){const t={},n=l(e,["aspectRatio"]);n!=null&&c(t,["aspectRatio"],n);const o=l(e,["imageSize"]);o!=null&&c(t,["imageSize"],o);const r=l(e,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const i=l(e,["outputCompressionQuality"]);return i!=null&&c(t,["imageOutputOptions","compressionQuality"],i),t}function Gw(e){const t={},n=l(e,["bytesBase64Encoded"]);n!=null&&c(t,["imageBytes"],Ln(n));const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function wh(e){const t={},n=l(e,["gcsUri"]);n!=null&&c(t,["gcsUri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Ln(o));const r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Mi(e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(e,["imageBytes"]);n!=null&&c(t,["bytesBase64Encoded"],Ln(n));const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function Lt(e){const t={},n=l(e,["gcsUri"]);n!=null&&c(t,["gcsUri"],n);const o=l(e,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Ln(o));const r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Bw(e,t,n){const o={},r=l(t,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const i=l(t,["pageToken"]);n!==void 0&&i!=null&&c(n,["_query","pageToken"],i);const a=l(t,["filter"]);n!==void 0&&a!=null&&c(n,["_query","filter"],a);const d=l(t,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],ph(e,d)),o}function Ow(e,t,n){const o={},r=l(t,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const i=l(t,["pageToken"]);n!==void 0&&i!=null&&c(n,["_query","pageToken"],i);const a=l(t,["filter"]);n!==void 0&&a!=null&&c(n,["_query","filter"],a);const d=l(t,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],ph(e,d)),o}function qw(e,t){const n={},o=l(t,["config"]);return o!=null&&Bw(e,o,n),n}function Hw(e,t){const n={},o=l(t,["config"]);return o!=null&&Ow(e,o,n),n}function $w(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["_self"]);if(r!=null){let i=mh(r);Array.isArray(i)&&(i=i.map(a=>Na(a))),c(t,["models"],i)}return t}function zw(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["_self"]);if(r!=null){let i=mh(r);Array.isArray(i)&&(i=i.map(a=>wa(a))),c(t,["models"],i)}return t}function Jw(e){const t={},n=l(e,["maskMode"]);n!=null&&c(t,["maskMode"],n);const o=l(e,["segmentationClasses"]);o!=null&&c(t,["maskClasses"],o);const r=l(e,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Na(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["displayName"]);o!=null&&c(t,["displayName"],o);const r=l(e,["description"]);r!=null&&c(t,["description"],r);const i=l(e,["version"]);i!=null&&c(t,["version"],i);const a=l(e,["_self"]);a!=null&&c(t,["tunedModelInfo"],cb(a));const d=l(e,["inputTokenLimit"]);d!=null&&c(t,["inputTokenLimit"],d);const u=l(e,["outputTokenLimit"]);u!=null&&c(t,["outputTokenLimit"],u);const f=l(e,["supportedGenerationMethods"]);f!=null&&c(t,["supportedActions"],f);const p=l(e,["temperature"]);p!=null&&c(t,["temperature"],p);const h=l(e,["maxTemperature"]);h!=null&&c(t,["maxTemperature"],h);const m=l(e,["topP"]);m!=null&&c(t,["topP"],m);const y=l(e,["topK"]);y!=null&&c(t,["topK"],y);const w=l(e,["thinking"]);return w!=null&&c(t,["thinking"],w),t}function wa(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["displayName"]);o!=null&&c(t,["displayName"],o);const r=l(e,["description"]);r!=null&&c(t,["description"],r);const i=l(e,["versionId"]);i!=null&&c(t,["version"],i);const a=l(e,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>iw(m))),c(t,["endpoints"],h)}const d=l(e,["labels"]);d!=null&&c(t,["labels"],d);const u=l(e,["_self"]);u!=null&&c(t,["tunedModelInfo"],db(u));const f=l(e,["defaultCheckpointId"]);f!=null&&c(t,["defaultCheckpointId"],f);const p=l(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>m)),c(t,["checkpoints"],h)}return t}function Ww(e){const t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&c(t,["fileData"],lw(i));const a=l(e,["functionCall"]);a!=null&&c(t,["functionCall"],aw(a));const d=l(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);const u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],RN(u));const f=l(e,["text"]);f!=null&&c(t,["text"],f);const p=l(e,["thought"]);p!=null&&c(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&c(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&c(t,["videoMetadata"],m),t}function Yw(e){const t={},n=l(e,["productImage"]);return n!=null&&c(t,["image"],Lt(n)),t}function Kw(e,t){const n={},o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const r=l(e,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);const a=l(e,["seed"]);t!==void 0&&a!=null&&c(t,["parameters","seed"],a);const d=l(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&c(t,["parameters","safetySetting"],d);const u=l(e,["personGeneration"]);t!==void 0&&u!=null&&c(t,["parameters","personGeneration"],u);const f=l(e,["addWatermark"]);t!==void 0&&f!=null&&c(t,["parameters","addWatermark"],f);const p=l(e,["outputMimeType"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","mimeType"],p);const h=l(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","compressionQuality"],h);const m=l(e,["enhancePrompt"]);t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m);const y=l(e,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),n}function Qw(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["source"]);r!=null&&Zw(r,n);const i=l(t,["config"]);return i!=null&&Kw(i,n),n}function Xw(e){const t={},n=l(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ri(r))),c(t,["generatedImages"],o)}return t}function Zw(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);const r=l(e,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Lt(r));const i=l(e,["productImages"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>Yw(d))),c(t,["instances[0]","productImages"],a)}return n}function eb(e){const t={},n=l(e,["referenceImage"]);n!=null&&c(t,["referenceImage"],Lt(n));const o=l(e,["referenceId"]);o!=null&&c(t,["referenceId"],o);const r=l(e,["referenceType"]);r!=null&&c(t,["referenceType"],r);const i=l(e,["maskImageConfig"]);i!=null&&c(t,["maskImageConfig"],Jw(i));const a=l(e,["controlImageConfig"]);a!=null&&c(t,["controlImageConfig"],GN(a));const d=l(e,["styleImageConfig"]);d!=null&&c(t,["styleImageConfig"],d);const u=l(e,["subjectImageConfig"]);return u!=null&&c(t,["subjectImageConfig"],u),t}function bh(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&c(t,["categories"],n);const o=l(e,["safetyAttributes","scores"]);o!=null&&c(t,["scores"],o);const r=l(e,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Sh(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&c(t,["categories"],n);const o=l(e,["safetyAttributes","scores"]);o!=null&&c(t,["scores"],o);const r=l(e,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function tb(e){const t={},n=l(e,["category"]);if(n!=null&&c(t,["category"],n),l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["threshold"]);return o!=null&&c(t,["threshold"],o),t}function nb(e){const t={},n=l(e,["image"]);return n!=null&&c(t,["image"],Lt(n)),t}function sb(e,t){const n={},o=l(e,["mode"]);t!==void 0&&o!=null&&c(t,["parameters","mode"],o);const r=l(e,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const i=l(e,["confidenceThreshold"]);t!==void 0&&i!=null&&c(t,["parameters","confidenceThreshold"],i);const a=l(e,["maskDilation"]);t!==void 0&&a!=null&&c(t,["parameters","maskDilation"],a);const d=l(e,["binaryColorThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","binaryColorThreshold"],d);const u=l(e,["labels"]);return t!==void 0&&u!=null&&c(t,["labels"],u),n}function ob(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["source"]);r!=null&&ib(r,n);const i=l(t,["config"]);return i!=null&&sb(i,n),n}function rb(e){const t={},n=l(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>kw(r))),c(t,["generatedMasks"],o)}return t}function ib(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);const r=l(e,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Lt(r));const i=l(e,["scribbleImage"]);return t!==void 0&&i!=null&&c(t,["instances[0]","scribble"],nb(i)),n}function Ch(e){const t={},n=l(e,["languageCode"]);n!=null&&c(t,["languageCode"],n);const o=l(e,["voiceConfig"]);if(o!=null&&c(t,["voiceConfig"],o),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function lb(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&c(t,["functionCallingConfig"],cw(n));const o=l(e,["retrievalConfig"]);return o!=null&&c(t,["retrievalConfig"],o),t}function ab(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),c(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&c(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const a=l(e,["codeExecution"]);if(a!=null&&c(t,["codeExecution"],a),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=l(e,["googleMaps"]);d!=null&&c(t,["googleMaps"],Lw(d));const u=l(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],Uw(u));const f=l(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function Eh(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>dw(m))),c(t,["functionDeclarations"],h)}const o=l(e,["retrieval"]);o!=null&&c(t,["retrieval"],o);const r=l(e,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const i=l(e,["computerUse"]);if(i!=null&&c(t,["computerUse"],i),l(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=l(e,["codeExecution"]);a!=null&&c(t,["codeExecution"],a);const d=l(e,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const u=l(e,["googleMaps"]);u!=null&&c(t,["googleMaps"],u);const f=l(e,["googleSearch"]);f!=null&&c(t,["googleSearch"],f);const p=l(e,["urlContext"]);return p!=null&&c(t,["urlContext"],p),t}function cb(e){const t={},n=l(e,["baseModel"]);n!=null&&c(t,["baseModel"],n);const o=l(e,["createTime"]);o!=null&&c(t,["createTime"],o);const r=l(e,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function db(e){const t={},n=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(t,["baseModel"],n);const o=l(e,["createTime"]);o!=null&&c(t,["createTime"],o);const r=l(e,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function ub(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const r=l(e,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const i=l(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&c(t,["defaultCheckpointId"],i),n}function fb(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const r=l(e,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const i=l(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&c(t,["defaultCheckpointId"],i),n}function pb(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","name"],oe(e,o));const r=l(t,["config"]);return r!=null&&ub(r,n),n}function mb(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["config"]);return r!=null&&fb(r,n),n}function hb(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);const r=l(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const i=l(e,["personGeneration"]);t!==void 0&&i!=null&&c(t,["parameters","personGeneration"],i);const a=l(e,["includeRaiReason"]);t!==void 0&&a!=null&&c(t,["parameters","includeRaiReason"],a);const d=l(e,["outputMimeType"]);t!==void 0&&d!=null&&c(t,["parameters","outputOptions","mimeType"],d);const u=l(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&c(t,["parameters","outputOptions","compressionQuality"],u);const f=l(e,["enhanceInputImage"]);t!==void 0&&f!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=l(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const h=l(e,["labels"]);t!==void 0&&h!=null&&c(t,["labels"],h);const m=l(e,["numberOfImages"]);t!==void 0&&m!=null&&c(t,["parameters","sampleCount"],m);const y=l(e,["mode"]);return t!==void 0&&y!=null&&c(t,["parameters","mode"],y),n}function xb(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["_url","model"],oe(e,o));const r=l(t,["image"]);r!=null&&c(n,["instances[0]","image"],Lt(r));const i=l(t,["upscaleFactor"]);i!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],i);const a=l(t,["config"]);return a!=null&&hb(a,n),n}function gb(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ri(i))),c(t,["generatedImages"],r)}return t}function yb(e){const t={},n=l(e,["uri"]);n!=null&&c(t,["uri"],n);const o=l(e,["encodedVideo"]);o!=null&&c(t,["videoBytes"],Ln(o));const r=l(e,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function vb(e){const t={},n=l(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&c(t,["videoBytes"],Ln(o));const r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Nb(e){const t={},n=l(e,["image"]);n!=null&&c(t,["_self"],Lt(n));const o=l(e,["maskMode"]);return o!=null&&c(t,["maskMode"],o),t}function wb(e){const t={},n=l(e,["image"]);n!=null&&c(t,["image"],Mi(n));const o=l(e,["referenceType"]);return o!=null&&c(t,["referenceType"],o),t}function bb(e){const t={},n=l(e,["image"]);n!=null&&c(t,["image"],Lt(n));const o=l(e,["referenceType"]);return o!=null&&c(t,["referenceType"],o),t}function Th(e){const t={},n=l(e,["uri"]);n!=null&&c(t,["uri"],n);const o=l(e,["videoBytes"]);o!=null&&c(t,["encodedVideo"],Ln(o));const r=l(e,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Ih(e){const t={},n=l(e,["uri"]);n!=null&&c(t,["gcsUri"],n);const o=l(e,["videoBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Ln(o));const r=l(e,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sb(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&c(t,["displayName"],o),n}function Cb(e){const t={},n=l(e,["config"]);return n!=null&&Sb(n,t),t}function Eb(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&c(t,["_query","force"],o),n}function Tb(e){const t={},n=l(e,["name"]);n!=null&&c(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&Eb(o,t),t}function Ib(e){const t={},n=l(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function jb(e,t){const n={},o=l(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["customMetadata"],i)}const r=l(e,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),n}function _b(e){const t={},n=l(e,["name"]);n!=null&&c(t,["name"],n);const o=l(e,["metadata"]);o!=null&&c(t,["metadata"],o);const r=l(e,["done"]);r!=null&&c(t,["done"],r);const i=l(e,["error"]);i!=null&&c(t,["error"],i);const a=l(e,["response"]);return a!=null&&c(t,["response"],Ab(a)),t}function kb(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&c(t,["_url","file_search_store_name"],n);const o=l(e,["fileName"]);o!=null&&c(t,["fileName"],o);const r=l(e,["config"]);return r!=null&&jb(r,t),t}function Ab(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["parent"]);o!=null&&c(t,["parent"],o);const r=l(e,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Pb(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function Rb(e){const t={},n=l(e,["config"]);return n!=null&&Pb(n,t),t}function Mb(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["fileSearchStores"],i)}return t}function jh(e,t){const n={},o=l(e,["mimeType"]);t!==void 0&&o!=null&&c(t,["mimeType"],o);const r=l(e,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const i=l(e,["customMetadata"]);if(t!==void 0&&i!=null){let d=i;Array.isArray(d)&&(d=d.map(u=>u)),c(t,["customMetadata"],d)}const a=l(e,["chunkingConfig"]);return t!==void 0&&a!=null&&c(t,["chunkingConfig"],a),n}function Db(e){const t={},n=l(e,["fileSearchStoreName"]);n!=null&&c(t,["_url","file_search_store_name"],n);const o=l(e,["config"]);return o!=null&&jh(o,t),t}function Lb(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ub="Content-Type",Fb="X-Server-Timeout",Vb="User-Agent",ba="x-goog-api-client",Gb="1.31.0",Bb=`google-genai-sdk/${Gb}`,Ob="v1beta1",qb="v1beta",pf=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Hb{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Ob,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:qb,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[a,d]of Object.entries(t.queryParams))r.searchParams.append(a,String(d));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>i.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=a}return n&&n.extraBody!==null&&$b(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await mf(r),new ga(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await mf(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var n;return _s(this,arguments,function*(){const r=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:d,value:u}=yield fe(r.read());if(d){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=i.decode(u,{stream:!0});try{const h=JSON.parse(f);if("error"in h){const m=JSON.parse(JSON.stringify(h.error)),y=m.status,w=m.code,E=`got status: ${y}. ${JSON.stringify(h)}`;if(w>=400&&w<600)throw new Ai({message:E,status:w})}}catch(h){if(h.name==="ApiError")throw h}a+=f;let p=a.match(pf);for(;p;){const h=p[1];try{const m=new Response(h,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield fe(new ga(m)),a=a.slice(p[0].length),p=a.match(pf)}catch(m){throw new Error(`exception parsing stream chunk ${h}. ${m}`)}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=Bb+" "+this.clientOptions.userAgentExtra;return t[Vb]=n,t[ba]=n,t[Ub]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(Fb,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,a=await i.stat(t);r.sizeBytes=String(a.size);const d=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:a.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const u={file:r},f=this.getFileName(t),p=$("upload/v1beta/files",u._url),h=await this.fetchUploadUrl(p,r.sizeBytes,r.mimeType,f,u,n==null?void 0:n.httpOptions);return i.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,a=await i.stat(n),d=String(a.size),u=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),h={};o!=null&&jh(o,h);const m=await this.fetchUploadUrl(f,d,u,p,h,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,a){var d;let u={};a?u=a:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const f=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:u});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(d=f==null?void 0:f.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function mf(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new Ai({message:r,status:n}):new Error(r)}}function $b(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,a){const d=Object.assign({},i);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u)){const f=a[u],p=d[u];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?d[u]=o(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),d[u]=f)}return d}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zb="mcp_used/unknown";let Jb=!1;function _h(e){for(const t of e)if(Wb(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Jb}function kh(e){var t;const n=(t=e[ba])!==null&&t!==void 0?t:"";e[ba]=(n+` ${zb}`).trimStart()}function Wb(e){return e!==null&&typeof e=="object"&&e instanceof jc}function Yb(e,t=100){return _s(this,arguments,function*(){let o,r=0;for(;r<t;){const i=yield fe(e.listTools({cursor:o}));for(const a of i.tools)yield yield fe(a),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class jc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new jc(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},a=[];for(const p of this.mcpClients)try{for(var d=!0,u=(n=void 0,Eo(Yb(p))),f;f=await u.next(),t=f.done,!t;d=!0){r=f.value,d=!1;const h=r;a.push(h);const m=h.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=p}}catch(h){n={error:h}}finally{try{!d&&!t&&(o=u.return)&&await o.call(u)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Iy(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const a=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Kb(e,t,n){const o=new vy;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class Qb{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),a=eS(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),u=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${d}`;let f=()=>{};const p=new Promise(x=>{f=x}),h=t.callbacks,m=function(){f({})},y=this.apiClient,w={onopen:m,onmessage:x=>{Kb(y,h.onmessage,x)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(x){}},E=this.webSocketFactory.create(u,Zb(a),w);E.connect(),await p;const g={setup:{model:oe(this.apiClient,t.model)}};return E.send(JSON.stringify(g)),new Xb(E,this.apiClient)}}class Xb{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=CN(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=SN(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ws.PLAY)}pause(){this.sendPlaybackControl(ws.PAUSE)}stop(){this.sendPlaybackControl(ws.STOP)}resetContext(){this.sendPlaybackControl(ws.RESET_CONTEXT)}close(){this.conn.close()}}function Zb(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function eS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nS(e,t,n){const o=new yy;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const a=IN(i);Object.assign(o,a)}else Object.assign(o,i);t(o)}class sS{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new Qb(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,a,d;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&_h(t.config.tools)&&kh(h);const m=lS(h);if(this.apiClient.isVertexAI())p=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,p);else{const R=this.apiClient.getApiKey();let _="BidiGenerateContent",P="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),_="BidiGenerateContentConstrained",P="access_token"),p=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.${_}?${P}=${R}`}let y=()=>{};const w=new Promise(R=>{y=R}),E=t.callbacks,j=function(){var R;(R=E==null?void 0:E.onopen)===null||R===void 0||R.call(E),y({})},v=this.apiClient,g={onopen:j,onmessage:R=>{nS(v,E.onmessage,R)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(R){},onclose:(o=E==null?void 0:E.onclose)!==null&&o!==void 0?o:function(R){}},x=this.webSocketFactory.create(p,iS(m),g);x.connect(),await w;let b=oe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&b.startsWith("publishers/")){const R=this.apiClient.getProject(),_=this.apiClient.getLocation();b=`projects/${R}/locations/${_}/`+b}let C={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ai.AUDIO]}:t.config.responseModalities=[ai.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(d=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&d!==void 0?d:[],I=[];for(const R of A)if(this.isCallableTool(R)){const _=R;I.push(await _.tool())}else I.push(R);I.length>0&&(t.config.tools=I);const T={model:b,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?C=bN(this.apiClient,T):C=wN(this.apiClient,T),delete C.config,x.send(JSON.stringify(C)),new rS(x,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const oS={turnComplete:!0};class rS{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Nt(n.turns),t.isVertexAI()||(o=o.map(r=>Pi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(tS)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},oS),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:TN(t)}:n={realtimeInput:EN(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function iS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function lS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hf=10;function xf(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(ks(a)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function ks(e){return"callTool"in e&&typeof e.callTool=="function"}function aS(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>ks(r)))!==null&&o!==void 0?o:!1}function gf(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(ks(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function yf(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cS extends ln{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,a,d;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!aS(n)||xf(n.config))return await this.generateContentInternal(u);const f=gf(n);if(f.length>0){const E=f.map(j=>`tools[${j}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let p,h;const m=Nt(u.contents),y=(i=(r=(o=u.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:hf;let w=0;for(;w<y&&(p=await this.generateContentInternal(u),!(!p.functionCalls||p.functionCalls.length===0));){const E=p.candidates[0].content,j=[];for(const v of(d=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&d!==void 0?d:[])if(ks(v)){const x=await v.callTool(p.functionCalls);j.push(...x)}w++,h={role:"user",parts:j},u.contents=Nt(u.contents),u.contents.push(E),u.contents.push(h),yf(u.config)&&(m.push(E),m.push(h))}return yf(u.config)&&(p.automaticFunctionCallingHistory=m),p},this.generateContentStream=async n=>{var o,r,i,a,d;if(this.maybeMoveToResponseJsonSchem(n),xf(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const u=gf(n);if(u.length>0){const h=u.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,p=(d=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const a=[];if(o!=null&&o.generatedImages)for(const u of o.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((r=u==null?void 0:u.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=u==null?void 0:u.safetyAttributes:a.push(u);let d;return i?d={generatedImages:a,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:d={generatedImages:a,sdkHttpResponse:o.sdkHttpResponse},d}),this.list=async n=>{var o;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((o=a.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new os(sn.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(a),a)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,a,d,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(i=n.source)===null||i===void 0?void 0:i.video)===null||a===void 0)&&a.uri&&(!((u=(d=n.source)===null||d===void 0?void 0:d.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const a=await Promise.all(i.map(async u=>ks(u)?await u.tool():u)),d={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(d.config.tools=a,t.config&&t.config.tools&&_h(t.config.tools)){const u=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},u);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),kh(f),d.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return d}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const a of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(ks(a)){const d=a,u=await d.tool();for(const f of(r=u.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(i.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);i.set(f.name,d)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:hf;let a=!1,d=0;const u=await this.initAfcToolsMap(t);return function(f,p,h){var m,y;return _s(this,arguments,function*(){for(var w,E,j,v;d<i;){a&&(d++,a=!1);const C=yield fe(f.processParamsMaybeAddMcpUsage(h)),A=yield fe(f.generateContentStreamInternal(C)),I=[],T=[];try{for(var g=!0,x=(E=void 0,Eo(A)),b;b=yield fe(x.next()),w=b.done,!w;g=!0){v=b.value,g=!1;const R=v;if(yield yield fe(R),R.candidates&&(!((m=R.candidates[0])===null||m===void 0)&&m.content)){T.push(R.candidates[0].content);for(const _ of(y=R.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(d<i&&_.functionCall){if(!_.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(_.functionCall.name)){const P=yield fe(p.get(_.functionCall.name).callTool([_.functionCall]));I.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${_.functionCall.name}`)}}}}catch(R){E={error:R}}finally{try{!g&&!w&&(j=x.return)&&(yield fe(j.call(x)))}finally{if(E)throw E.error}}if(I.length>0){a=!0;const R=new ro;R.candidates=[{content:{role:"user",parts:I}}],yield yield fe(R);const _=[];_.push(...T),_.push({role:"user",parts:I});const P=Nt(h.contents).concat(_);h.contents=P}else break}})}(this,u,t)}async generateContentInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=df(this.apiClient,t);return d=$("{model}:generateContent",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=ff(p),m=new ro;return Object.assign(m,h),m})}else{const f=cf(this.apiClient,t);return d=$("{model}:generateContent",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=uf(p),m=new ro;return Object.assign(m,h),m})}}async generateContentStreamInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=df(this.apiClient,t);return d=$("{model}:streamGenerateContent?alt=sse",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(h){return _s(this,arguments,function*(){var m,y,w,E;try{for(var j=!0,v=Eo(h),g;g=yield fe(v.next()),m=g.done,!m;j=!0){E=g.value,j=!1;const x=E,b=ff(yield fe(x.json()));b.sdkHttpResponse={headers:x.headers};const C=new ro;Object.assign(C,b),yield yield fe(C)}}catch(x){y={error:x}}finally{try{!j&&!m&&(w=v.return)&&(yield fe(w.call(v)))}finally{if(y)throw y.error}}})})}else{const f=cf(this.apiClient,t);return d=$("{model}:streamGenerateContent?alt=sse",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(h){return _s(this,arguments,function*(){var m,y,w,E;try{for(var j=!0,v=Eo(h),g;g=yield fe(v.next()),m=g.done,!m;j=!0){E=g.value,j=!1;const x=E,b=uf(yield fe(x.json()));b.sdkHttpResponse={headers:x.headers};const C=new ro;Object.assign(C,b),yield yield fe(C)}}catch(x){y={error:x}}finally{try{!j&&!m&&(w=v.return)&&(yield fe(w.call(v)))}finally{if(y)throw y.error}}})})}}async embedContent(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=sw(this.apiClient,t);return d=$("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=rw(p),m=new $u;return Object.assign(m,h),m})}else{const f=nw(this.apiClient,t);return d=$("{model}:batchEmbedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=ow(p),m=new $u;return Object.assign(m,h),m})}}async generateImagesInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=xw(this.apiClient,t);return d=$("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=yw(p),m=new zu;return Object.assign(m,h),m})}else{const f=hw(this.apiClient,t);return d=$("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=gw(p),m=new zu;return Object.assign(m,h),m})}}async editImageInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){const d=XN(this.apiClient,t);return i=$("{model}:predict",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),r.then(u=>{const f=ZN(u),p=new ly;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){const d=xb(this.apiClient,t);return i=$("{model}:predict",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),r.then(u=>{const f=gb(u),p=new ay;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){const d=Qw(this.apiClient,t);return i=$("{model}:predict",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{const f=Xw(u),p=new cy;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){const d=ob(this.apiClient,t);return i=$("{model}:predict",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{const f=rb(u),p=new dy;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Dw(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>wa(p))}else{const f=Mw(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>Na(p))}}async listInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Hw(this.apiClient,t);return d=$("{models_url}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=zw(p),m=new Ju;return Object.assign(m,h),m})}else{const f=qw(this.apiClient,t);return d=$("{models_url}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=$w(p),m=new Ju;return Object.assign(m,h),m})}}async update(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=mb(this.apiClient,t);return d=$("{model}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>wa(p))}else{const f=pb(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>Na(p))}}async delete(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=WN(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=KN(p),m=new Wu;return Object.assign(m,h),m})}else{const f=JN(this.apiClient,t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=YN(p),m=new Wu;return Object.assign(m,h),m})}}async countTokens(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=HN(this.apiClient,t);return d=$("{model}:countTokens",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=zN(p),m=new Yu;return Object.assign(m,h),m})}else{const f=qN(this.apiClient,t);return d=$("{model}:countTokens",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=$N(p),m=new Yu;return Object.assign(m,h),m})}}async computeTokens(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){const d=LN(this.apiClient,t);return i=$("{model}:computeTokens",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),r.then(u=>{const f=UN(u),p=new uy;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=Cw(this.apiClient,t);return d=$("{model}:predictLongRunning",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const h=bw(p),m=new ci;return Object.assign(m,h),m})}else{const f=Sw(this.apiClient,t);return d=$("{model}:predictLongRunning",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a.then(p=>{const h=ww(p),m=new ci;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dS extends ln{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=ty(t);return d=$("{operationName}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a}else{const f=ey(t);return d=$("{operationName}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),a}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){const d=Jg(t);return i=$("{resourceName}:fetchPredictOperation",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uS(e){const t={},n=l(e,["data"]);if(n!=null&&c(t,["data"],n),l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function fS(e){const t={},n=l(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wS(i))),c(t,["parts"],r)}const o=l(e,["role"]);return o!=null&&c(t,["role"],o),t}function pS(e,t,n){const o={},r=l(t,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const i=l(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&c(n,["newSessionExpireTime"],i);const a=l(t,["uses"]);n!==void 0&&a!=null&&c(n,["uses"],a);const d=l(t,["liveConnectConstraints"]);n!==void 0&&d!=null&&c(n,["bidiGenerateContentSetup"],NS(e,d));const u=l(t,["lockAdditionalFields"]);return n!==void 0&&u!=null&&c(n,["fieldMask"],u),o}function mS(e,t){const n={},o=l(t,["config"]);return o!=null&&c(n,["config"],pS(e,o,n)),n}function hS(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function xS(e){const t={},n=l(e,["id"]);n!=null&&c(t,["id"],n);const o=l(e,["args"]);o!=null&&c(t,["args"],o);const r=l(e,["name"]);if(r!=null&&c(t,["name"],r),l(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gS(e){const t={};if(l(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function yS(e){const t={};if(l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function vS(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],o);const r=l(e,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const i=l(e,["temperature"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig","temperature"],i);const a=l(e,["topP"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","topP"],a);const d=l(e,["topK"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","topK"],d);const u=l(e,["maxOutputTokens"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","maxOutputTokens"],u);const f=l(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","speechConfig"],Ic(h));const m=l(e,["thinkingConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","thinkingConfig"],m);const y=l(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],y);const w=l(e,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],fS($e(w)));const E=l(e,["tools"]);if(t!==void 0&&E!=null){let A=Ws(E);Array.isArray(A)&&(A=A.map(I=>SS(Js(I)))),c(t,["setup","tools"],A)}const j=l(e,["sessionResumption"]);t!==void 0&&j!=null&&c(t,["setup","sessionResumption"],bS(j));const v=l(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&c(t,["setup","inputAudioTranscription"],v);const g=l(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&c(t,["setup","outputAudioTranscription"],g);const x=l(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&c(t,["setup","realtimeInputConfig"],x);const b=l(e,["contextWindowCompression"]);t!==void 0&&b!=null&&c(t,["setup","contextWindowCompression"],b);const C=l(e,["proactivity"]);return t!==void 0&&C!=null&&c(t,["setup","proactivity"],C),n}function NS(e,t){const n={},o=l(t,["model"]);o!=null&&c(n,["setup","model"],oe(e,o));const r=l(t,["config"]);return r!=null&&c(n,["config"],vS(r,n)),n}function wS(e){const t={},n=l(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const o=l(e,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=l(e,["executableCode"]);r!=null&&c(t,["executableCode"],r);const i=l(e,["fileData"]);i!=null&&c(t,["fileData"],hS(i));const a=l(e,["functionCall"]);a!=null&&c(t,["functionCall"],xS(a));const d=l(e,["functionResponse"]);d!=null&&c(t,["functionResponse"],d);const u=l(e,["inlineData"]);u!=null&&c(t,["inlineData"],uS(u));const f=l(e,["text"]);f!=null&&c(t,["text"],f);const p=l(e,["thought"]);p!=null&&c(t,["thought"],p);const h=l(e,["thoughtSignature"]);h!=null&&c(t,["thoughtSignature"],h);const m=l(e,["videoMetadata"]);return m!=null&&c(t,["videoMetadata"],m),t}function bS(e){const t={},n=l(e,["handle"]);if(n!=null&&c(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function SS(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),c(t,["functionDeclarations"],p)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearchRetrieval"]);o!=null&&c(t,["googleSearchRetrieval"],o);const r=l(e,["computerUse"]);r!=null&&c(t,["computerUse"],r);const i=l(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const a=l(e,["codeExecution"]);if(a!=null&&c(t,["codeExecution"],a),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=l(e,["googleMaps"]);d!=null&&c(t,["googleMaps"],gS(d));const u=l(e,["googleSearch"]);u!=null&&c(t,["googleSearch"],yS(u));const f=l(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CS(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function ES(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=CS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(f=>a.includes(f)?`generationConfig.${f}`:f));const u=[];i&&u.push(i),d.length>0&&u.push(...d),u.length>0?e.fieldMask=u.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class TS extends ln{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=mS(this.apiClient,t);i=$("auth_tokens",d._url),a=d._query,delete d.config,delete d._url,delete d._query;const u=ES(d,t.config);return r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(e,t){const n={},o=l(e,["force"]);return t!==void 0&&o!=null&&c(t,["_query","force"],o),n}function jS(e){const t={},n=l(e,["name"]);n!=null&&c(t,["_url","name"],n);const o=l(e,["config"]);return o!=null&&IS(o,t),t}function _S(e){const t={},n=l(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function kS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=l(e,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),n}function AS(e){const t={},n=l(e,["parent"]);n!=null&&c(t,["_url","parent"],n);const o=l(e,["config"]);return o!=null&&kS(o,t),t}function PS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=l(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),c(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RS extends ln{constructor(t){super(),this.apiClient=t,this.list=async n=>new os(sn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=_S(t);return i=$("{name}",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jS(t);r=$("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=AS(t);return i=$("{parent}/documents",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{const f=PS(u),p=new fy;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MS extends ln{constructor(t,n=new RS(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new os(sn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Cb(t);return i=$("fileSearchStores",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async get(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Ib(t);return i=$("{name}",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Tb(t);r=$("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Rb(t);return i=$("fileSearchStores",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{const f=Mb(u),p=new py;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Db(t);return i=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{const f=Lb(u),p=new my;return Object.assign(p,f),p})}}async importFile(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=kb(t);return i=$("{file_search_store_name}:importFile",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{const f=_b(u),p=new bc;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DS(e,t){const n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],o),n}function LS(e,t){const n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],o),n}function US(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function FS(e,t){const n={},o=l(e,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function VS(e,t,n){const o={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(e,["epochCount"]);t!==void 0&&i!=null&&c(t,["tuningTask","hyperparameters","epochCount"],i);const a=l(e,["learningRateMultiplier"]);if(a!=null&&c(o,["tuningTask","hyperparameters","learningRateMultiplier"],a),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(e,["batchSize"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","batchSize"],d);const u=l(e,["learningRate"]);if(t!==void 0&&u!=null&&c(t,["tuningTask","hyperparameters","learningRate"],u),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function GS(e,t,n){const o={};let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const y=l(e,["validationDataset"]);t!==void 0&&y!=null&&c(t,["supervisedTuningSpec"],vf(y))}else if(r==="PREFERENCE_TUNING"){const y=l(e,["validationDataset"]);t!==void 0&&y!=null&&c(t,["preferenceOptimizationSpec"],vf(y))}const i=l(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&c(t,["tunedModelDisplayName"],i);const a=l(e,["description"]);t!==void 0&&a!=null&&c(t,["description"],a);let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=l(e,["epochCount"]);t!==void 0&&y!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(d==="PREFERENCE_TUNING"){const y=l(e,["epochCount"]);t!==void 0&&y!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=l(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(u==="PREFERENCE_TUNING"){const y=l(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=l(e,["exportLastCheckpointOnly"]);t!==void 0&&y!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(f==="PREFERENCE_TUNING"){const y=l(e,["exportLastCheckpointOnly"]);t!==void 0&&y!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let p=l(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const y=l(e,["adapterSize"]);t!==void 0&&y!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(p==="PREFERENCE_TUNING"){const y=l(e,["adapterSize"]);t!==void 0&&y!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=l(e,["labels"]);t!==void 0&&h!=null&&c(t,["labels"],h);const m=l(e,["beta"]);return t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function BS(e,t){const n={},o=l(e,["baseModel"]);o!=null&&c(n,["baseModel"],o);const r=l(e,["preTunedModel"]);r!=null&&c(n,["preTunedModel"],r);const i=l(e,["trainingDataset"]);i!=null&&XS(i);const a=l(e,["config"]);return a!=null&&VS(a,n),n}function OS(e,t){const n={},o=l(e,["baseModel"]);o!=null&&c(n,["baseModel"],o);const r=l(e,["preTunedModel"]);r!=null&&c(n,["preTunedModel"],r);const i=l(e,["trainingDataset"]);i!=null&&ZS(i,n,t);const a=l(e,["config"]);return a!=null&&GS(a,n,t),n}function qS(e,t){const n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],o),n}function HS(e,t){const n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],o),n}function $S(e,t,n){const o={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&c(t,["_query","pageToken"],i);const a=l(e,["filter"]);return t!==void 0&&a!=null&&c(t,["_query","filter"],a),o}function zS(e,t,n){const o={},r=l(e,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const i=l(e,["pageToken"]);t!==void 0&&i!=null&&c(t,["_query","pageToken"],i);const a=l(e,["filter"]);return t!==void 0&&a!=null&&c(t,["_query","filter"],a),o}function JS(e,t){const n={},o=l(e,["config"]);return o!=null&&$S(o,n),n}function WS(e,t){const n={},o=l(e,["config"]);return o!=null&&zS(o,n),n}function YS(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=l(e,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);const i=l(e,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>Ah(d))),c(n,["tuningJobs"],a)}return n}function KS(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=l(e,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);const i=l(e,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>Sa(d))),c(n,["tuningJobs"],a)}return n}function QS(e,t){const n={},o=l(e,["name"]);o!=null&&c(n,["model"],o);const r=l(e,["name"]);return r!=null&&c(n,["endpoint"],r),n}function XS(e,t){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=l(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),c(n,["examples","examples"],r)}return n}function ZS(e,t,n){const o={};let r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const a=l(e,["gcsUri"]);t!==void 0&&a!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(r==="PREFERENCE_TUNING"){const a=l(e,["gcsUri"]);t!==void 0&&a!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=l(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=l(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Ah(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&c(n,["name"],r);const i=l(e,["state"]);i!=null&&c(n,["state"],uh(i));const a=l(e,["createTime"]);a!=null&&c(n,["createTime"],a);const d=l(e,["tuningTask","startTime"]);d!=null&&c(n,["startTime"],d);const u=l(e,["tuningTask","completeTime"]);u!=null&&c(n,["endTime"],u);const f=l(e,["updateTime"]);f!=null&&c(n,["updateTime"],f);const p=l(e,["description"]);p!=null&&c(n,["description"],p);const h=l(e,["baseModel"]);h!=null&&c(n,["baseModel"],h);const m=l(e,["_self"]);return m!=null&&c(n,["tunedModel"],QS(m)),n}function Sa(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&c(n,["name"],r);const i=l(e,["state"]);i!=null&&c(n,["state"],uh(i));const a=l(e,["createTime"]);a!=null&&c(n,["createTime"],a);const d=l(e,["startTime"]);d!=null&&c(n,["startTime"],d);const u=l(e,["endTime"]);u!=null&&c(n,["endTime"],u);const f=l(e,["updateTime"]);f!=null&&c(n,["updateTime"],f);const p=l(e,["error"]);p!=null&&c(n,["error"],p);const h=l(e,["description"]);h!=null&&c(n,["description"],h);const m=l(e,["baseModel"]);m!=null&&c(n,["baseModel"],m);const y=l(e,["tunedModel"]);y!=null&&c(n,["tunedModel"],y);const w=l(e,["preTunedModel"]);w!=null&&c(n,["preTunedModel"],w);const E=l(e,["supervisedTuningSpec"]);E!=null&&c(n,["supervisedTuningSpec"],E);const j=l(e,["preferenceOptimizationSpec"]);j!=null&&c(n,["preferenceOptimizationSpec"],j);const v=l(e,["tuningDataStats"]);v!=null&&c(n,["tuningDataStats"],v);const g=l(e,["encryptionSpec"]);g!=null&&c(n,["encryptionSpec"],g);const x=l(e,["partnerModelTuningSpec"]);x!=null&&c(n,["partnerModelTuningSpec"],x);const b=l(e,["customBaseModel"]);b!=null&&c(n,["customBaseModel"],b);const C=l(e,["experiment"]);C!=null&&c(n,["experiment"],C);const A=l(e,["labels"]);A!=null&&c(n,["labels"],A);const I=l(e,["outputUri"]);I!=null&&c(n,["outputUri"],I);const T=l(e,["pipelineJob"]);T!=null&&c(n,["pipelineJob"],T);const R=l(e,["serviceAccount"]);R!=null&&c(n,["serviceAccount"],R);const _=l(e,["tunedModelDisplayName"]);_!=null&&c(n,["tunedModelDisplayName"],_);const P=l(e,["veoTuningSpec"]);return P!=null&&c(n,["veoTuningSpec"],P),n}function eC(e,t){const n={},o=l(e,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const r=l(e,["name"]);r!=null&&c(n,["name"],r);const i=l(e,["metadata"]);i!=null&&c(n,["metadata"],i);const a=l(e,["done"]);a!=null&&c(n,["done"],a);const d=l(e,["error"]);return d!=null&&c(n,["error"],d),n}function vf(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&c(n,["validationDatasetUri"],o);const r=l(e,["vertexDatasetResource"]);return r!=null&&c(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tC extends ln{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new os(sn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let a="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?a=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(a=i.name.split("/operations/")[0]),{name:a,state:xa.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=HS(t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>Sa(p))}else{const f=qS(t);return d=$("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>Ah(p))}}async listInternal(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=WS(t);return d=$("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=KS(p),m=new Ku;return Object.assign(m,h),m})}else{const f=JS(t);return d=$("tunedModels",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=YS(p),m=new Ku;return Object.assign(m,h),m})}}async cancel(t){var n,o,r,i;let a,d="",u={};if(this.apiClient.isVertexAI()){const f=LS(t);return d=$("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=FS(p),m=new Qu;return Object.assign(m,h),m})}else{const f=DS(t);return d=$("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const h=US(p),m=new Qu;return Object.assign(m,h),m})}}async tuneInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){const d=OS(t,t);return i=$("tuningJobs",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),r.then(u=>Sa(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=BS(t);return i=$("tunedModels",d._url),a=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:u.headers},p})),r.then(u=>eC(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nC{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sC=1024*1024*8,oC=3,rC=1e3,iC=2,ui="x-goog-upload-status";async function lC(e,t,n){var o;const r=await Ph(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ui])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function aC(e,t,n){var o;const r=await Ph(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ui])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=rh(i),d=new Sc;return Object.assign(d,a),d}async function Ph(e,t,n){var o,r;let i=0,a=0,d=new ga(new Response),u="upload";for(i=e.size;a<i;){const f=Math.min(sC,i-a),p=e.slice(a,a+f);a+f>=i&&(u+=", finalize");let h=0,m=rC;for(;h<oC&&(d=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((o=d==null?void 0:d.headers)===null||o===void 0)&&o[ui]));)h++,await dC(m),m=m*iC;if(a+=f,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[ui])!=="active")break;if(i<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function cC(e){return{size:e.size,type:e.type}}function dC(e){return new Promise(t=>setTimeout(t,e))}class uC{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lC(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await aC(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await cC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC{create(t,n,o){return new pC(t,n,o)}}class pC{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nf="x-goog-api-key";class mC{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Nf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Nf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hC="gl-node/";class xC{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=$g(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new mC(this.apiKey);this.apiClient=new Hb({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:hC+"web",uploader:new uC,downloader:new nC}),this.models=new cS(this.apiClient),this.live=new sS(this.apiClient,r,new fC),this.batches=new Nv(this.apiClient),this.chats=new tN(this.models,this.apiClient),this.caches=new Xv(this.apiClient),this.files=new uN(this.apiClient),this.operations=new dS(this.apiClient),this.authTokens=new TS(this.apiClient),this.tunings=new tC(this.apiClient),this.fileSearchStores=new MS(this.apiClient)}}const dl={},Rh=(dl==null?void 0:dl.VITE_API_KEY)||"",gC=new xC({apiKey:Rh}),yC={generateOnboardingGuidance:async(e,t,n)=>{try{if(!Rh)return console.warn("Gemini API Key missing. Skipping AI generation."),`Welcome ${e}! We are thrilled to have ${n} on board. As a ${t}, you play a vital role in our logistics network.`;const o="gemini-2.5-flash",r=`
        You are an expert logistics consultant.
        A new user named "${e}" has joined the platform.
        Role: ${t}
        Company: ${n}

        Please generate a concise 2-paragraph onboarding welcome message.
        1. First paragraph: Welcome them warmly and acknowledge their specific role importance.
        2. Second paragraph: List 3 key strategic implications or responsibilities they likely face in the current maritime/logistics climate (e.g., supply chain resilience, incoterms, digital documentation).
        
        Keep it professional, encouraging, and formatted in Markdown.
      `;return(await gC.models.generateContent({model:o,contents:r})).text||"Welcome to the platform. We are glad to have you here."}catch(o){return console.error("Gemini API Error:",o),"Welcome! We are currently unable to generate your personalized onboarding insights, but we are thrilled to have you aboard."}}},vC=({initialEmail:e,onSignupSuccess:t,onCancel:n})=>{const[o,r]=N.useState(!1),[i,a]=N.useState(""),[d,u]=N.useState({email:e,mobile:"",role:Yt.SHIPPER_EXPORTER,fullName:"",designation:"",companyName:"",address:"",photoBase64:null,logoBase64:null,plan:"FREE",subscriptionStatus:"ACTIVE",registrationDate:new Date().toISOString(),expiryDate:new Date().toISOString()}),f=m=>{const{name:y,value:w}=m.target;u(E=>({...E,[y]:w}))},p=(m,y)=>{var E;const w=(E=m.target.files)==null?void 0:E[0];if(w){const j=new FileReader;j.onloadend=()=>{u(v=>({...v,[y]:j.result}))},j.readAsDataURL(w)}},h=async m=>{m.preventDefault(),r(!0),a("Creating your account...");try{a("Consulting AI for role implications...");const y=await yC.generateOnboardingGuidance(d.fullName,d.role,d.companyName),w={...d,onboardingAnalysis:y,isMainUser:!0};a("Finalizing registration..."),ke.registerUser(w),t(w)}catch(y){console.error(y),a("Error during registration.")}finally{r(!1)}};return s.jsxs("div",{className:"w-full max-w-4xl bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-fade-in-up",children:[s.jsxs("div",{className:"w-full md:w-1/3 bg-ocean-900/60 p-8 flex flex-col justify-between border-r border-white/10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Join the Network"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-3 text-ocean-200",children:[s.jsx(Ke,{className:"w-6 h-6 text-ocean-400 mt-1 shrink-0"}),s.jsx("p",{className:"text-sm",children:"Connect with global shippers and forwarders in a unified ecosystem."})]}),s.jsxs("div",{className:"flex items-start space-x-3 text-ocean-200",children:[s.jsx(Dn,{className:"w-6 h-6 text-ocean-400 mt-1 shrink-0"}),s.jsx("p",{className:"text-sm",children:"AI-powered insights tailored to your specific role in the supply chain."})]}),s.jsxs("div",{className:"flex items-start space-x-3 text-ocean-200",children:[s.jsx(Mt,{className:"w-6 h-6 text-ocean-400 mt-1 shrink-0"}),s.jsx("p",{className:"text-sm",children:"Secure, verified document exchange and tracking."})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[s.jsx("p",{className:"text-xs text-ocean-400 mb-2",children:"Need to sign in instead?"}),s.jsx("button",{onClick:n,className:"text-sm font-semibold text-white hover:text-ocean-300 transition-colors",children:" Back to Login"})]})]}),s.jsxs("div",{className:"w-full md:w-2/3 p-8 bg-white/5",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6 border-b border-white/10 pb-4",children:"Onboarding Details"}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"Role"}),s.jsx("select",{name:"role",value:d.role,onChange:f,className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-ocean-500 focus:border-transparent outline-none",children:Object.values(Yt).map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(ct,{className:"absolute left-3 top-2.5 h-5 w-5 text-ocean-500"}),s.jsx("input",{type:"text",name:"fullName",required:!0,value:d.fullName,onChange:f,className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2.5 text-white focus:ring-2 focus:ring-ocean-500 outline-none",placeholder:"John Doe"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"Email"}),s.jsx("input",{type:"email",value:d.email,disabled:!0,className:"w-full bg-ocean-950/30 border border-ocean-800 rounded-lg px-4 py-2.5 text-ocean-400 cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"Mobile"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fg,{className:"absolute left-3 top-2.5 h-5 w-5 text-ocean-500"}),s.jsx("input",{type:"tel",name:"mobile",required:!0,value:d.mobile,onChange:f,className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2.5 text-white focus:ring-2 focus:ring-ocean-500 outline-none",placeholder:"+1 234 567 890"})]})]})]}),s.jsxs("div",{className:"border-t border-white/10 pt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-ocean-200 mb-4",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"Company Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Je,{className:"absolute left-3 top-2.5 h-5 w-5 text-ocean-500"}),s.jsx("input",{type:"text",name:"companyName",required:!0,value:d.companyName,onChange:f,className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2.5 text-white focus:ring-2 focus:ring-ocean-500 outline-none",placeholder:"Oceanic Global Ltd"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"Designation"}),s.jsx("input",{type:"text",name:"designation",required:!0,value:d.designation,onChange:f,className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg px-4 py-2.5 text-white focus:ring-2 focus:ring-ocean-500 outline-none",placeholder:"Operations Manager"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"Company Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(be,{className:"absolute left-3 top-3 h-5 w-5 text-ocean-500"}),s.jsx("textarea",{name:"address",required:!0,rows:2,value:d.address,onChange:f,className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2.5 text-white focus:ring-2 focus:ring-ocean-500 outline-none resize-none",placeholder:"123 Port Road, Maritime City"})]})]})]}),s.jsxs("div",{className:"border-t border-white/10 pt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-ocean-200 mb-4",children:"Documents & Branding"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"User Photo"}),s.jsxs("div",{className:"relative h-24 w-full border-2 border-dashed border-ocean-700 rounded-lg flex flex-col items-center justify-center bg-ocean-950/30 hover:bg-ocean-900/50 transition-colors",children:[d.photoBase64?s.jsx("img",{src:d.photoBase64,alt:"Preview",className:"h-full w-full object-cover rounded-lg opacity-80"}):s.jsxs("div",{className:"text-center p-2",children:[s.jsx(Ho,{className:"h-6 w-6 text-ocean-500 mx-auto mb-1"}),s.jsx("span",{className:"text-[10px] text-ocean-400",children:"Click to upload photo"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:m=>p(m,"photoBase64"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]}),s.jsxs("div",{className:"relative group",children:[s.jsx("label",{className:"block text-xs font-semibold text-ocean-300 uppercase tracking-wider mb-1",children:"Company Logo"}),s.jsxs("div",{className:"relative h-24 w-full border-2 border-dashed border-ocean-700 rounded-lg flex flex-col items-center justify-center bg-ocean-950/30 hover:bg-ocean-900/50 transition-colors",children:[d.logoBase64?s.jsx("img",{src:d.logoBase64,alt:"Preview",className:"h-full w-full object-contain p-2 rounded-lg opacity-80"}):s.jsxs("div",{className:"text-center p-2",children:[s.jsx(Ho,{className:"h-6 w-6 text-ocean-500 mx-auto mb-1"}),s.jsx("span",{className:"text-[10px] text-ocean-400",children:"Click to upload logo"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:m=>p(m,"logoBase64"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]})]})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center py-4 px-6 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold rounded-xl shadow-lg shadow-cyan-900/50 transition-all transform hover:scale-[1.01] mt-6",children:o?s.jsxs(s.Fragment,{children:[s.jsx(li,{className:"w-5 h-5 animate-spin mr-3"}),i]}):s.jsxs(s.Fragment,{children:["Complete Registration ",s.jsx(Hs,{className:"ml-2 w-5 h-5"})]})})]})]})]})},mr="ocean_branches",hr="ocean_subusers",xr="ocean_charges",gr="ocean_shipping_lines",wf=[{id:"b1",branchName:"Head Office",country:"India",city:"Mumbai",status:"ACTIVE",isMainBranch:!0,createdBy:"main"},{id:"b2",branchName:"Dubai Branch",country:"UAE",city:"Dubai",status:"ACTIVE",isMainBranch:!1,createdBy:"main"}],bf=[{id:"sub1@ocean.com",fullName:"Rohit Sharma",email:"sub1@ocean.com",mobile:"+919876543210",role:Yt.FORWARDER_AGENT,branchId:"b1",status:"ACTIVE",designation:"Operations Executive",createdBy:"main"}],Sf=[{id:"ch1",headName:"20 Feet Box Contain - Mundra Port",status:"ACTIVE",items:[{id:"ci1",name:"THC",amount:8500,matrix:"Per Container",currency:"INR"},{id:"ci2",name:"Documentation Charges",amount:2500,matrix:"Per Container",currency:"INR"}],createdBy:"main"}],Cf=[{id:"sl1",lineName:"Maersk Line",unitName:"MAEU",country:"Denmark",status:"ACTIVE",createdBy:"main"},{id:"sl2",lineName:"MSC",unitName:"MSCU",country:"Switzerland",status:"ACTIVE",createdBy:"main"},{id:"sl3",lineName:"CMA CGM",unitName:"CMDU",country:"France",status:"ACTIVE",createdBy:"main"}],te={getBranches:()=>{const e=localStorage.getItem(mr);return e?JSON.parse(e):(localStorage.setItem(mr,JSON.stringify(wf)),wf)},saveBranch:e=>{const t=te.getBranches(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem(mr,JSON.stringify(t))},toggleBranchStatus:e=>{const t=te.getBranches(),n=t.find(o=>o.id===e);n&&!n.isMainBranch&&(n.status=n.status==="ACTIVE"?"SUSPENDED":"ACTIVE",localStorage.setItem(mr,JSON.stringify(t)))},getSubUsers:()=>{const e=localStorage.getItem(hr);return e?JSON.parse(e):(localStorage.setItem(hr,JSON.stringify(bf)),bf)},saveSubUser:e=>{const t=te.getSubUsers(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem(hr,JSON.stringify(t))},toggleSubUserStatus:e=>{const t=te.getSubUsers(),n=t.find(o=>o.id===e);if(n){const o=n.status==="ACTIVE"?"SUSPENDED":"ACTIVE";n.status=o,localStorage.setItem(hr,JSON.stringify(t)),ke.updateUserStatus(n.email,o)}},getChargeHeads:()=>{const e=localStorage.getItem(xr);return e?JSON.parse(e):(localStorage.setItem(xr,JSON.stringify(Sf)),Sf)},saveChargeHead:e=>{const t=te.getChargeHeads(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem(xr,JSON.stringify(t))},deleteChargeHead:e=>{const t=te.getChargeHeads().filter(n=>n.id!==e);localStorage.setItem(xr,JSON.stringify(t))},getShippingLines:()=>{const e=localStorage.getItem(gr);return e?JSON.parse(e):(localStorage.setItem(gr,JSON.stringify(Cf)),Cf)},saveShippingLine:e=>{const t=te.getShippingLines(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem(gr,JSON.stringify(t))},toggleShippingLineStatus:e=>{const t=te.getShippingLines(),n=t.find(o=>o.id===e);n&&(n.status=n.status==="ACTIVE"?"SUSPENDED":"ACTIVE",localStorage.setItem(gr,JSON.stringify(t)))},sendVerificationOtp:async e=>(await new Promise(t=>setTimeout(t,1e3)),console.log(`OTP for ${e}: 1234`),"1234"),verifyOtp:async e=>(await new Promise(t=>setTimeout(t,500)),e==="1234")},NC=[{id:"1",name:"Rahul Verma",company:"Global Logistics Pvt Ltd",designation:"Senior Manager",mobile:"+91 98765 43210",email:"rahul.v@globallogistics.com",city:"Mumbai",photoUrl:null,createdBy:"main"},{id:"2",name:"Sarah Jenkins",company:"Oceanic Freight",designation:"Director",mobile:"+1 202 555 0123",email:"s.jenkins@oceanic.com",city:"London",photoUrl:null,createdBy:"sub1@ocean.com"},{id:"3",name:"David Chen",company:"Pacific Shipping Co.",designation:"Operations Head",mobile:"+86 139 1234 5678",email:"david.c@pacificship.cn",city:"Shanghai",photoUrl:null,createdBy:"main"},{id:"4",name:"Mohammed Al-Fayed",company:"Gulf Transport",designation:"CEO",mobile:"+971 50 123 4567",email:"m.fayed@gulftrans.ae",city:"Dubai",photoUrl:null,createdBy:"sub1@ocean.com"},{id:"5",name:"Elena Petrova",company:"Baltic Forwarders",designation:"Logistics Coordinator",mobile:"+7 916 123 45 67",email:"elena.p@balticfwd.ru",city:"St. Petersburg",photoUrl:null,createdBy:"main"}],wC=({onBack:e,onSendRequest:t,currentUser:n,onViewProfile:o})=>{const[r,i]=N.useState(NC),[a,d]=N.useState([]),[u,f]=N.useState(""),[p,h]=N.useState("ME"),[m,y]=N.useState(!1),w=te.getSubUsers();N.useEffect(()=>{E()},[]);const E=()=>{y(!0),setTimeout(()=>{const g=r.filter(x=>{const b=x.name.toLowerCase().includes(u.toLowerCase());return(n==null?void 0:n.isMainUser)!==!1?p==="ALL"?b:p==="ME"?b&&x.createdBy==="main":b&&x.createdBy===p:b&&x.createdBy===(n==null?void 0:n.email)});d(g),y(!1)},300)},j=(g,x)=>{x.stopPropagation(),window.confirm("Are you sure you want to remove this party from your network?")&&(i(b=>b.filter(C=>C.id!==g)),d(b=>b.filter(C=>C.id!==g)))},v=g=>{o&&o({fullName:g.name,companyName:g.company,designation:g.designation,email:g.email,mobile:g.mobile,address:g.city,photoBase64:g.photoUrl,role:"Network Partner"})};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg text-blue-400",children:s.jsx(kg,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"My Network"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",title:"Back to Dashboard",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"shrink-0 px-6 pt-6 pb-2 flex flex-col sm:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-1 gap-4 max-w-2xl",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(le,{className:"absolute left-3 top-3 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search by User Name...",value:u,onChange:g=>f(g.target.value),className:"w-full bg-ocean-900/50 border border-ocean-700 rounded-xl pl-10 pr-4 py-2.5 text-white placeholder-ocean-500 focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),(!n||n.isMainUser)&&s.jsxs("select",{className:"bg-ocean-900/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-blue-500 outline-none",value:p,onChange:g=>h(g.target.value),children:[s.jsx("option",{value:"ME",children:"My Data (Main)"}),s.jsx("option",{value:"ALL",children:"All Users"}),w.map(g=>s.jsx("option",{value:g.id,children:g.fullName},g.id))]}),s.jsx("button",{onClick:E,disabled:m,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-emerald-900/20 transition-all hover:scale-105 disabled:opacity-50 flex items-center",children:m?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]}),s.jsxs("button",{onClick:t,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2.5 rounded-xl font-medium flex items-center shadow-lg shadow-blue-900/20 transition-all hover:scale-105",children:[s.jsx(ma,{className:"w-4 h-4 mr-2"}),"Network Request"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s.jsx("div",{className:"bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"User Name"}),s.jsx("th",{className:"px-6 py-4",children:"Company"}),s.jsx("th",{className:"px-6 py-4",children:"Contact Info"}),s.jsx("th",{className:"px-6 py-4",children:"Location"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:a.length>0?a.map(g=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors group cursor-pointer",onClick:()=>v(g),children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-ocean-800 border border-ocean-600 flex items-center justify-center shrink-0 text-sm font-bold text-white overflow-hidden",children:g.photoUrl?s.jsx("img",{src:g.photoUrl,alt:g.name,className:"w-full h-full object-cover"}):g.name.charAt(0)}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-white group-hover:text-cyan-400 transition-colors underline decoration-dotted decoration-ocean-600 underline-offset-4",children:g.name}),s.jsxs("span",{className:"text-[11px] text-ocean-400 flex items-center mt-0.5",children:[s.jsx(Je,{className:"w-3 h-3 mr-1 opacity-70"})," ",g.designation]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-white font-medium",children:g.company})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center text-ocean-200",children:[s.jsx(ss,{className:"w-3.5 h-3.5 mr-2 text-ocean-500"}),s.jsx("span",{className:"truncate max-w-[150px]",title:g.email,children:g.email})]}),s.jsxs("div",{className:"flex items-center text-ocean-200",children:[s.jsx(_i,{className:"w-3.5 h-3.5 mr-2 text-ocean-500"}),s.jsx("span",{children:g.mobile})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-ocean-300",children:[s.jsx(be,{className:"w-4 h-4 mr-2 text-ocean-600"}),g.city]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("button",{onClick:x=>j(g.id,x),className:"inline-flex items-center px-3 py-1.5 bg-rose-900/20 hover:bg-rose-900/40 text-rose-300 border border-rose-900/30 rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Vs,{className:"w-3.5 h-3.5 mr-1.5"}),"De-Network"]})})]},g.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(le,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No parties found. Click GO to refresh."})]})})})})]})})})]})},bC=[{id:"101",user:{id:"u1",name:"John Smith",company:"TransAtlantic Log.",designation:"Manager",photoUrl:null},date:"2024-05-14",status:"PENDING"},{id:"102",user:{id:"u2",name:"Alice Wong",company:"Asia Pacific Freight",designation:"Director",photoUrl:null},date:"2024-05-13",status:"PENDING"}],SC=[{id:"201",user:{id:"u3",name:"Carlos Ruiz",company:"Latam Cargo",designation:"Operations",photoUrl:null},date:"2024-05-15",status:"PENDING"}],CC=({onBack:e})=>{const[t,n]=N.useState("RECEIVED"),[o,r]=N.useState(""),[i,a]=N.useState(null),[d,u]=N.useState(!1),[f,p]=N.useState(bC),[h,m]=N.useState(SC),[y,w]=N.useState(""),E=C=>{C.preventDefault(),o.trim()&&(u(!0),a(null),w(""),setTimeout(()=>{u(!1),o.length>3&&a({id:`new-${Date.now()}`,name:"Michael Scott",company:"Dunder Mifflin Logistics",designation:"Regional Manager",photoUrl:null})},800))},j=()=>{if(!i)return;const C={id:Date.now().toString(),user:i,date:new Date().toISOString().split("T")[0],status:"PENDING"};p([C,...f]),a(null),r(""),w(`Request sent to ${i.name}!`),setTimeout(()=>w(""),3e3)},v=C=>{m(A=>A.filter(I=>I.id!==C))},g=C=>{m(A=>A.filter(I=>I.id!==C))},x=C=>{p(A=>A.filter(I=>I.id!==C))},b=(C,A)=>C.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ocean-900/50 rounded-full flex items-center justify-center mb-3",children:A==="RECEIVED"?s.jsx(aa,{className:"w-6 h-6 opacity-50"}):s.jsx(ca,{className:"w-6 h-6 opacity-50"})}),s.jsxs("p",{children:["No pending ",A.toLowerCase()," requests."]})]})})}):C.map(I=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-ocean-800 rounded-full flex items-center justify-center text-sm font-bold text-white border border-ocean-600 shrink-0",children:I.user.name.charAt(0)}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h5",{className:"font-bold text-white text-sm",children:I.user.name}),s.jsxs("span",{className:"text-[11px] text-ocean-400 flex items-center mt-0.5",children:[s.jsx(Je,{className:"w-3 h-3 mr-1 opacity-70"})," ",I.user.designation]})]})]})}),s.jsx("td",{className:"px-6 py-4 text-white font-medium",children:I.user.company}),s.jsx("td",{className:"px-6 py-4 text-ocean-300 text-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ht,{className:"w-3.5 h-3.5 mr-1.5"})," ",I.date]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:A==="RECEIVED"?s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs("button",{onClick:()=>v(I.id),className:"px-3 py-1.5 bg-emerald-600/20 text-emerald-400 hover:bg-emerald-600 hover:text-white border border-emerald-900/30 rounded-lg transition-all text-xs font-medium flex items-center",title:"Accept",children:[s.jsx(Xm,{className:"w-3.5 h-3.5 mr-1"})," Accept"]}),s.jsxs("button",{onClick:()=>g(I.id),className:"px-3 py-1.5 bg-rose-600/20 text-rose-400 hover:bg-rose-600 hover:text-white border border-rose-900/30 rounded-lg transition-all text-xs font-medium flex items-center",title:"Reject",children:[s.jsx(Dt,{className:"w-3.5 h-3.5 mr-1"})," Reject"]})]}):s.jsxs("button",{onClick:()=>x(I.id),className:"px-3 py-1.5 bg-white/5 hover:bg-white/10 text-ocean-300 hover:text-white rounded-lg text-xs font-medium border border-white/10 transition-colors inline-flex items-center",children:[s.jsx(Dt,{className:"w-3.5 h-3.5 mr-1.5"})," Cancel Request"]})})]},I.id));return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-cyan-600/20 rounded-lg text-cyan-400",children:s.jsx(ma,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Network Requests"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",title:"Back to Dashboard",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-8",children:[s.jsxs("div",{className:"bg-ocean-900/40 border border-white/10 rounded-2xl p-6 shadow-xl",children:[s.jsxs("h3",{className:"text-white font-medium mb-4 flex items-center",children:[s.jsx(le,{className:"w-4 h-4 mr-2 text-ocean-400"}),"Find & Connect"]}),s.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:s.jsxs("form",{onSubmit:E,className:"flex-1 flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Search by Mobile or Email...",className:"flex-1 bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white placeholder-ocean-500 focus:ring-2 focus:ring-cyan-500/50 outline-none transition-all",value:o,onChange:C=>r(C.target.value)}),s.jsx("button",{type:"submit",disabled:d,className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 rounded-xl font-medium transition-colors disabled:opacity-50",children:d?"Searching...":"Search"})]})}),i&&s.jsxs("div",{className:"mt-6 bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col sm:flex-row items-center justify-between animate-fade-in-up",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[s.jsx("div",{className:"w-16 h-16 bg-ocean-800 rounded-full flex items-center justify-center text-2xl font-bold text-ocean-400 border-2 border-ocean-600",children:i.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold text-white",children:i.name}),s.jsx("p",{className:"text-sm text-cyan-400 font-medium",children:i.company}),s.jsxs("p",{className:"text-xs text-ocean-400 flex items-center mt-1",children:[s.jsx(Je,{className:"w-3 h-3 mr-1"})," ",i.designation]})]})]}),s.jsxs("button",{onClick:j,className:"bg-green-600 hover:bg-green-500 text-white px-5 py-2.5 rounded-lg font-semibold flex items-center shadow-lg shadow-green-900/20",children:[s.jsx(ma,{className:"w-4 h-4 mr-2"}),"Send Request"]})]}),y&&s.jsx("div",{className:"mt-4 p-3 bg-green-500/20 border border-green-500/30 text-green-300 rounded-xl text-center text-sm animate-pulse",children:y})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex bg-ocean-900/50 p-1 rounded-xl border border-white/5 self-start w-fit",children:[s.jsxs("button",{onClick:()=>n("RECEIVED"),className:`px-6 py-2 rounded-lg text-sm font-medium flex items-center transition-all ${t==="RECEIVED"?"bg-ocean-700 text-white shadow-md":"text-ocean-400 hover:text-white"}`,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Received (",h.length,")"]}),s.jsxs("button",{onClick:()=>n("SENT"),className:`px-6 py-2 rounded-lg text-sm font-medium flex items-center transition-all ${t==="SENT"?"bg-ocean-700 text-white shadow-md":"text-ocean-400 hover:text-white"}`,children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Sent (",f.length,")"]})]}),s.jsx("div",{className:"bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden shadow-xl min-h-[300px]",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"User Details"}),s.jsx("th",{className:"px-6 py-4",children:"Company"}),s.jsx("th",{className:"px-6 py-4",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:b(t==="RECEIVED"?h:f,t)})]})})]})]})]})},yr="ocean_internal_parties",Ef=[{id:"1",contactPerson:"Amit Patel",email:"amit.p@apexlogistics.com",companyName:"Apex Logistics",designation:"Manager",mobile:"+91 9876543210",address:"101, Cargo Complex, Port Road",city:"Mumbai"},{id:"2",contactPerson:"John Dsouza",email:"john@oceanblue.com",companyName:"Ocean Blue Inc",designation:"Director",mobile:"+91 9822334455",address:"45, Marine Drive, South Block",city:"Chennai"},{id:"3",contactPerson:"Sneha Gupta",email:"sneha.ops@fasttrack.in",companyName:"FastTrack Forwarders",designation:"Ops Head",mobile:"+91 9988776655",address:"B-22, Industrial Area, Phase 2",city:"Delhi"}],An={getParties:()=>{const e=localStorage.getItem(yr);return e?JSON.parse(e):(localStorage.setItem(yr,JSON.stringify(Ef)),Ef)},saveParty:e=>{const t=An.getParties(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.unshift(e),localStorage.setItem(yr,JSON.stringify(t))},deleteParty:e=>{const t=An.getParties().filter(n=>n.id!==e);localStorage.setItem(yr,JSON.stringify(t))}},EC=({onBack:e,onEdit:t,onCreateNew:n,currentUser:o,onViewProfile:r})=>{const[i,a]=N.useState([]),[d,u]=N.useState([]),[f,p]=N.useState(""),[h,m]=N.useState("ME"),[y,w]=N.useState(!1),E=te.getSubUsers();N.useEffect(()=>{const b=An.getParties().map((C,A)=>({...C,createdBy:C.createdBy||(A%2===0?"main":"sub1@ocean.com")}));a(b)},[]),N.useEffect(()=>{i.length>0&&j()},[i]);const j=()=>{w(!0),setTimeout(()=>{const x=i.filter(b=>{const C=b.contactPerson.toLowerCase().includes(f.toLowerCase())||b.companyName.toLowerCase().includes(f.toLowerCase());return(o==null?void 0:o.isMainUser)!==!1?h==="ALL"?C:h==="ME"?C&&b.createdBy==="main":C&&b.createdBy===h:C&&b.createdBy===(o==null?void 0:o.email)});u(x),w(!1)},300)},v=x=>{window.confirm("Are you sure you want to delete this party?")&&(An.deleteParty(x),a(b=>b.filter(C=>C.id!==x)),u(b=>b.filter(C=>C.id!==x)))},g=x=>{r&&r({fullName:x.contactPerson,companyName:x.companyName,designation:x.designation,email:x.email,mobile:x.mobile,address:`${x.address}, ${x.city}`,role:"Internal Party"})};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-emerald-600/20 rounded-lg text-emerald-400",children:s.jsx(qo,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Internal Party List"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",title:"Back to Dashboard",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"shrink-0 px-6 pt-6 pb-2 flex flex-col sm:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-1 gap-4 max-w-2xl",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(le,{className:"absolute left-3 top-3 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search parties...",value:f,onChange:x=>p(x.target.value),className:"w-full bg-ocean-900/50 border border-ocean-700 rounded-xl pl-10 pr-4 py-2.5 text-white placeholder-ocean-500 focus:ring-2 focus:ring-emerald-500 outline-none transition-all"})]}),(!o||o.isMainUser)&&s.jsxs("select",{className:"bg-ocean-900/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500 outline-none",value:h,onChange:x=>m(x.target.value),children:[s.jsx("option",{value:"ME",children:"My Data (Main)"}),s.jsx("option",{value:"ALL",children:"All Users"}),E.map(x=>s.jsx("option",{value:x.id,children:x.fullName},x.id))]}),s.jsx("button",{onClick:j,disabled:y,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-emerald-900/20 transition-all hover:scale-105 disabled:opacity-50 flex items-center",children:y?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]}),s.jsxs("button",{onClick:n,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2.5 rounded-xl font-medium flex items-center shadow-lg shadow-emerald-900/20 transition-all hover:scale-105",children:[s.jsx($t,{className:"w-4 h-4 mr-2"}),"Create Party"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s.jsx("div",{className:"bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Contact Person"}),s.jsx("th",{className:"px-6 py-4",children:"Company Name"}),s.jsx("th",{className:"px-6 py-4",children:"Email"}),s.jsx("th",{className:"px-6 py-4",children:"Mobile"}),s.jsx("th",{className:"px-6 py-4",children:"City"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:d.length>0?d.map(x=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[s.jsx("td",{className:"px-6 py-4 cursor-pointer",onClick:()=>g(x),children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-ocean-800 flex items-center justify-center shrink-0 text-sm font-bold text-white border border-white/10",children:x.contactPerson.charAt(0)}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-white hover:text-cyan-400 transition-colors underline decoration-dotted decoration-ocean-600 underline-offset-4",children:x.contactPerson}),x.designation&&s.jsxs("span",{className:"text-[11px] text-ocean-400 flex items-center mt-0.5",children:[s.jsx(Je,{className:"w-3 h-3 mr-1 opacity-70"}),x.designation]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-ocean-100 font-medium",children:x.companyName})}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ss,{className:"w-3.5 h-3.5 mr-2 text-ocean-500"}),s.jsx("span",{className:"truncate max-w-[150px]",children:x.email||"-"})]})}),s.jsx("td",{className:"px-6 py-4 text-ocean-300 font-mono text-xs",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_i,{className:"w-3.5 h-3.5 mr-2 text-ocean-500"}),x.mobile]})}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-ocean-950 border border-ocean-800 text-xs",children:[s.jsx(be,{className:"w-3 h-3 mr-1 text-ocean-500"}),x.city]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>t(x),className:"p-1.5 text-cyan-400 hover:bg-cyan-400/10 rounded transition-colors",title:"Edit",children:s.jsx(Fs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>v(x.id),className:"p-1.5 text-rose-400 hover:bg-rose-400/10 rounded transition-colors",title:"Remove",children:s.jsx(Vs,{className:"w-4 h-4"})})]})})]},x.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(qo,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No parties found. Click GO to refresh."})]})})})})]})})})]})},TC=({initialData:e,onBack:t,onSaveSuccess:n})=>{const[o,r]=N.useState({id:"",contactPerson:"",email:"",companyName:"",designation:"",mobile:"",address:"",city:""});N.useEffect(()=>{r(e||{id:Date.now().toString(),contactPerson:"",email:"",companyName:"",designation:"",mobile:"",address:"",city:""})},[e]);const i=d=>{const{name:u,value:f}=d.target;r(p=>({...p,[u]:f}))},a=d=>{d.preventDefault(),An.saveParty(o),n()};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-emerald-600/20 rounded-lg text-emerald-400",children:e?s.jsx(IC,{className:"w-5 h-5"}):s.jsx(qo,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:e?"Edit Internal Party":"Create Internal Party"})]}),s.jsx("button",{onClick:t,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",title:"Back to Dashboard",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-12 flex justify-center custom-scrollbar",children:s.jsx("div",{className:"w-full max-w-3xl bg-ocean-900/40 border border-white/10 rounded-2xl p-8 shadow-2xl",children:s.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Contact Person"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ct,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500 group-focus-within:text-emerald-500 transition-colors"}),s.jsx("input",{type:"text",name:"contactPerson",required:!0,value:o.contactPerson,onChange:i,className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 outline-none transition-all",placeholder:"John Doe"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Company Name"}),s.jsxs("div",{className:"relative group",children:[s.jsx(qo,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500 group-focus-within:text-emerald-500 transition-colors"}),s.jsx("input",{type:"text",name:"companyName",required:!0,value:o.companyName,onChange:i,className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 outline-none transition-all",placeholder:"Company Ltd"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Email Address"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ss,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500 group-focus-within:text-emerald-500 transition-colors"}),s.jsx("input",{type:"email",name:"email",value:o.email,onChange:i,className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 outline-none transition-all",placeholder:"contact@company.com"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Mobile Number"}),s.jsxs("div",{className:"relative group",children:[s.jsx(_i,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500 group-focus-within:text-emerald-500 transition-colors"}),s.jsx("input",{type:"tel",name:"mobile",required:!0,value:o.mobile,onChange:i,className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 outline-none transition-all",placeholder:"+1 234 567 890"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Designation"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Je,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500 group-focus-within:text-emerald-500 transition-colors"}),s.jsx("input",{type:"text",name:"designation",value:o.designation,onChange:i,className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 outline-none transition-all",placeholder:"Manager"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"City"}),s.jsxs("div",{className:"relative group",children:[s.jsx(be,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500 group-focus-within:text-emerald-500 transition-colors"}),s.jsx("input",{type:"text",name:"city",required:!0,value:o.city,onChange:i,className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 outline-none transition-all",placeholder:"New York"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Address"}),s.jsxs("div",{className:"relative group",children:[s.jsx(be,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500 group-focus-within:text-emerald-500 transition-colors"}),s.jsx("textarea",{name:"address",rows:3,value:o.address,onChange:i,className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 outline-none transition-all resize-none",placeholder:"Street Address, Area..."})]})]}),s.jsxs("div",{className:"pt-8 flex items-center justify-end space-x-4 border-t border-white/10 mt-8",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 text-ocean-300 hover:text-white hover:bg-white/5 rounded-xl transition-colors font-medium",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold rounded-xl shadow-lg transform hover:scale-[1.02] transition-all flex items-center",children:[s.jsx(Tn,{className:"w-5 h-5 mr-2"}),"Save Party"]})]})]})})})]})},IC=({className:e})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),s.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),io="ocean_ecrm_tickets",Tf=[{id:"1",ticketNumber:"TKT-2024-001",type:"SENT",partyType:"NETWORK",partyName:"Rahul Verma (Global Logistics)",subject:"Delay in Shipment Document",message:"We have not received the BL draft yet.",status:"PENDING",date:"2024-05-15",history:[{date:"2024-05-15 10:00 AM",action:"Ticket Created",by:"You"}],createdBy:"main"},{id:"2",ticketNumber:"TKT-2024-002",type:"RECEIVED",partyType:"INTERNAL",partyName:"Amit Patel (Apex Logistics)",subject:"Invoice Discrepancy",message:"The amount in invoice #992 does not match the PO.",status:"PENDING",date:"2024-05-14",history:[{date:"2024-05-14 09:30 AM",action:"Ticket Received",by:"System"},{date:"2024-05-14 11:00 AM",action:"Response Added",by:"You"}],createdBy:"main"},{id:"3",ticketNumber:"TKT-2024-003",type:"RECEIVED",partyType:"NETWORK",partyName:"Sarah Jenkins",subject:"Container Damage Report",message:"Container arrived with dent on left side.",status:"RESOLVED",date:"2024-05-10",history:[{date:"2024-05-10 02:00 PM",action:"Ticket Received",by:"System"},{date:"2024-05-11 10:00 AM",action:"Marked as Resolved",by:"You"}],createdBy:"sub1@ocean.com"}],Gt={getTickets:()=>{const e=localStorage.getItem(io);return e?JSON.parse(e):(localStorage.setItem(io,JSON.stringify(Tf)),Tf)},getTicketById:e=>Gt.getTickets().find(t=>t.id===e),createTicket:e=>{const t=Gt.getTickets();t.unshift(e),localStorage.setItem(io,JSON.stringify(t))},updateStatus:(e,t)=>{const n=Gt.getTickets(),o=n.find(r=>r.id===e);o&&(o.status=t,o.history.push({date:new Date().toLocaleString(),action:`Status changed to ${t}`,by:"System"}),localStorage.setItem(io,JSON.stringify(n)))},addResponse:(e,t,n)=>{const o=Gt.getTickets(),r=o.find(i=>i.id===e);r&&(r.history.push({date:new Date().toLocaleString(),action:`Response: ${t}`,by:n}),localStorage.setItem(io,JSON.stringify(o)))},generateId:()=>`TKT-${new Date().getFullYear()}-${Math.floor(1e3+Math.random()*9e3)}`},jC=({onBack:e,onCreateNew:t,onSelectTicket:n,currentUser:o,onViewProfile:r})=>{const[i,a]=N.useState([]),[d,u]=N.useState([]),[f,p]=N.useState("RECEIVED"),[h,m]=N.useState("PENDING"),[y,w]=N.useState(null),[E,j]=N.useState(""),[v,g]=N.useState("ME"),[x,b]=N.useState(!1),C=te.getSubUsers();N.useEffect(()=>{a(Gt.getTickets())},[]),N.useEffect(()=>{i.length>0&&A()},[i]);const A=()=>{b(!0),setTimeout(()=>{const T=i.filter(R=>{const _=R.type===f,P=h==="ALL"||R.status===h,L=R.ticketNumber.toLowerCase().includes(E.toLowerCase())||R.subject.toLowerCase().includes(E.toLowerCase())||R.partyName.toLowerCase().includes(E.toLowerCase());let O=!0;return(o==null?void 0:o.isMainUser)!==!1?v==="ME"?O=R.createdBy==="main":v!=="ALL"&&(O=R.createdBy===v):O=R.createdBy===(o==null?void 0:o.email),_&&P&&O&&L});u(T),b(!1)},300)},I=T=>new Date(T).toLocaleDateString("en-GB");return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up relative",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-rose-600/20 rounded-lg text-rose-400",children:s.jsx(At,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"ECRM Tickets"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",title:"Back to Dashboard",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"shrink-0 px-6 pt-6 pb-2 space-y-4",children:[s.jsxs("div",{className:"flex flex-col xl:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"flex bg-ocean-900/50 p-1 rounded-xl border border-white/5 self-start shrink-0",children:[s.jsxs("button",{onClick:()=>p("RECEIVED"),className:`px-6 py-2 rounded-lg text-sm font-medium flex items-center transition-all ${f==="RECEIVED"?"bg-ocean-700 text-white shadow-md":"text-ocean-400 hover:text-white"}`,children:[s.jsx(aa,{className:"w-4 h-4 mr-2"}),"Received"]}),s.jsxs("button",{onClick:()=>p("SENT"),className:`px-6 py-2 rounded-lg text-sm font-medium flex items-center transition-all ${f==="SENT"?"bg-ocean-700 text-white shadow-md":"text-ocean-400 hover:text-white"}`,children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Sent"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full xl:w-auto",children:[s.jsxs("div",{className:"relative flex-1 w-full sm:max-w-xs",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search tickets...",value:E,onChange:T=>j(T.target.value),className:"w-full bg-ocean-900/50 border border-ocean-700 rounded-xl pl-10 pr-4 py-2 text-white placeholder-ocean-500 focus:ring-2 focus:ring-rose-500 outline-none transition-all text-sm h-10"})]}),(!o||o.isMainUser)&&s.jsxs("select",{className:"bg-ocean-900/50 border border-ocean-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-rose-500 outline-none text-sm h-10 w-full sm:w-auto",value:v,onChange:T=>g(T.target.value),children:[s.jsx("option",{value:"ME",children:"My Data (Main)"}),s.jsx("option",{value:"ALL",children:"All Users"}),C.map(T=>s.jsx("option",{value:T.id,children:T.fullName},T.id))]}),s.jsx("button",{onClick:A,disabled:x,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-xl font-bold shadow-lg shadow-emerald-900/20 transition-all hover:scale-105 h-10 disabled:opacity-50",children:x?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"}),s.jsxs("button",{onClick:t,className:"bg-rose-600 hover:bg-rose-500 text-white px-4 py-2 rounded-xl font-medium flex items-center shadow-lg shadow-rose-900/20 transition-all hover:scale-105 h-10 whitespace-nowrap w-full sm:w-auto justify-center text-sm",children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"Create Ticket"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto custom-scrollbar pb-2",children:[s.jsx(Pg,{className:"w-4 h-4 text-ocean-500 mr-2 shrink-0"}),["PENDING","ALL","RESOLVED"].map(T=>s.jsx("button",{onClick:()=>m(T),className:`px-3 py-1 rounded-full text-xs font-medium border transition-colors whitespace-nowrap
                 ${h===T?"bg-ocean-100 text-ocean-900 border-ocean-100":"bg-transparent text-ocean-400 border-ocean-700 hover:border-ocean-500"}
               `,children:T==="ALL"?"All Tickets":T.charAt(0)+T.slice(1).toLowerCase()},T))]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s.jsx("div",{className:"bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Ticket ID"}),s.jsx("th",{className:"px-6 py-4",children:"Date"}),s.jsx("th",{className:"px-6 py-4",children:"Party"}),s.jsx("th",{className:"px-6 py-4",children:"Subject"}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:d.length>0?d.map(T=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors group cursor-pointer",onClick:()=>n(T.id),children:[s.jsx("td",{className:"px-6 py-4 font-mono text-ocean-300 text-xs",children:T.ticketNumber}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:I(T.date)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-white font-medium",children:T.partyName}),s.jsx("span",{className:"text-[10px] text-ocean-500 uppercase",children:T.partyType})]})}),s.jsx("td",{className:"px-6 py-4 text-ocean-100 font-medium",children:T.subject}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border
                                 ${T.status==="RESOLVED"?"bg-emerald-900/20 text-emerald-400 border-emerald-900/30":"bg-amber-900/20 text-amber-400 border-amber-900/30"}
                               `,children:[T.status==="RESOLVED"?s.jsx(we,{className:"w-3 h-3 mr-1"}):s.jsx(Ht,{className:"w-3 h-3 mr-1"}),T.status]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs("button",{title:"Response / Update",onClick:R=>{R.stopPropagation(),n(T.id)},className:"p-1.5 text-cyan-400 hover:bg-cyan-900/30 rounded transition-colors flex items-center bg-cyan-950/30 border border-cyan-900/50",children:[s.jsx(jg,{className:"w-3.5 h-3.5 mr-1"}),s.jsx("span",{className:"text-xs",children:"Response"})]}),s.jsx("button",{title:"View History",onClick:R=>{R.stopPropagation(),w(T)},className:"p-1.5 text-ocean-400 hover:text-white hover:bg-white/10 rounded transition-colors",children:s.jsx(fa,{className:"w-4 h-4"})})]})})]},T.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(At,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No tickets found. Click GO to refresh."})]})})})})]})})}),y&&s.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-ocean-900 border border-white/20 rounded-2xl w-full max-w-lg shadow-2xl animate-fade-in-up",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[s.jsxs("h3",{className:"text-white font-bold flex items-center",children:[s.jsx(fa,{className:"w-4 h-4 mr-2 text-cyan-400"}),"Record History: ",y.ticketNumber]}),s.jsx("button",{onClick:()=>w(null),className:"text-ocean-400 hover:text-white",children:s.jsx(Dt,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:s.jsx("div",{className:"space-y-6 relative before:absolute before:inset-0 before:ml-2.5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-ocean-700 before:to-transparent",children:y.history.map((T,R)=>s.jsxs("div",{className:"relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full border border-ocean-600 bg-ocean-800 group-[.is-active]:bg-cyan-500 text-white shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 text-[10px]",children:R+1}),s.jsxs("div",{className:"w-[calc(100%-3rem)] md:w-[calc(50%-2.5rem)] p-3 rounded-xl border border-white/10 bg-white/5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-1",children:[s.jsx("span",{className:"font-bold text-ocean-200 text-sm",children:T.action}),s.jsx("time",{className:"font-mono text-[10px] text-ocean-500",children:I(T.date)})]}),s.jsxs("div",{className:"text-xs text-ocean-400",children:["By: ",s.jsx("span",{className:"text-cyan-400",children:T.by})]})]})]},R))})})]})})]})},_C=({onBack:e,onSaveSuccess:t,currentUser:n})=>{const[o,r]=N.useState(""),[i,a]=N.useState("NETWORK"),[d,u]=N.useState(""),[f,p]=N.useState(""),[h,m]=N.useState(""),[y,w]=N.useState(""),E=An.getParties(),j=[{id:"1",name:"Rahul Verma (Global Logistics)"},{id:"2",name:"Sarah Jenkins (Oceanic Freight)"},{id:"3",name:"David Chen (Pacific Shipping)"}];N.useEffect(()=>{r(Gt.generateId())},[]);const v=g=>{g.preventDefault();let x="";if(i==="INTERNAL"){const A=E.find(I=>I.id===d);x=A?`${A.contactPerson} (${A.companyName})`:"Unknown Internal"}else if(i==="NETWORK"){const A=j.find(I=>I.id===d);x=A?A.name:"Unknown Network"}else i==="ADMIN"&&(x="SEAFREX (Admin)");const b=(n==null?void 0:n.isMainUser)!==!1?"main":(n==null?void 0:n.email)||"main",C={id:Date.now().toString(),ticketNumber:o,type:"SENT",partyType:i,partyName:x,subject:f,message:h,status:"PENDING",date:new Date().toISOString().split("T")[0],history:[{date:new Date().toLocaleString(),action:"Ticket Created",by:"You"}],createdBy:b,targetAdmin:i==="ADMIN"};Gt.createTicket(C),t()};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-rose-600/20 rounded-lg text-rose-400",children:s.jsx(At,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Create New Ticket"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",title:"Back to Dashboard",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-12 flex justify-center custom-scrollbar",children:s.jsx("div",{className:"w-full max-w-3xl bg-ocean-900/40 border border-white/10 rounded-2xl p-8 shadow-2xl",children:s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-ocean-950/50 rounded-xl border border-white/5 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-ocean-400 uppercase font-bold",children:"Ticket ID"}),s.jsx("p",{className:"text-xl font-mono text-cyan-400 font-bold",children:o})]}),s.jsx("div",{className:"px-3 py-1 bg-amber-900/30 text-amber-400 text-xs rounded-full border border-amber-900/50",children:"Status: Pending"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Select Party Type"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>{a("NETWORK"),u("")},className:`p-3 rounded-xl border flex flex-col items-center justify-center transition-all ${i==="NETWORK"?"bg-rose-600 text-white border-rose-500 shadow-lg":"bg-black/20 text-ocean-400 border-ocean-700 hover:bg-white/5"}`,children:[s.jsx(Mt,{className:"w-5 h-5 mb-1"}),s.jsx("span",{className:"text-xs font-bold",children:"Network Party"})]}),s.jsxs("button",{type:"button",onClick:()=>{a("INTERNAL"),u("")},className:`p-3 rounded-xl border flex flex-col items-center justify-center transition-all ${i==="INTERNAL"?"bg-rose-600 text-white border-rose-500 shadow-lg":"bg-black/20 text-ocean-400 border-ocean-700 hover:bg-white/5"}`,children:[s.jsx(Wn,{className:"w-5 h-5 mb-1"}),s.jsx("span",{className:"text-xs font-bold",children:"Internal Party"})]}),s.jsxs("button",{type:"button",onClick:()=>{a("ADMIN"),u("admin")},className:`p-3 rounded-xl border flex flex-col items-center justify-center transition-all ${i==="ADMIN"?"bg-rose-600 text-white border-rose-500 shadow-lg":"bg-black/20 text-ocean-400 border-ocean-700 hover:bg-white/5"}`,children:[s.jsx(Nc,{className:"w-5 h-5 mb-1"}),s.jsx("span",{className:"text-xs font-bold",children:"SEAFREX (Admin)"})]})]})]}),i!=="ADMIN"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Select Party"}),s.jsxs("select",{required:!0,value:d,onChange:g=>u(g.target.value),className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500 outline-none transition-all appearance-none",children:[s.jsxs("option",{value:"",disabled:!0,children:["-- Choose ",i==="NETWORK"?"Network":"Internal"," Party --"]}),i==="INTERNAL"?E.map(g=>s.jsxs("option",{value:g.id,children:[g.contactPerson," - ",g.companyName]},g.id)):j.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Subject"}),s.jsx("input",{type:"text",required:!0,value:f,onChange:g=>p(g.target.value),className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500 outline-none transition-all",placeholder:"Brief summary of the issue..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Detailed Message"}),s.jsx("textarea",{required:!0,rows:5,value:h,onChange:g=>m(g.target.value),className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500 outline-none transition-all resize-none",placeholder:"Describe the query or issue in detail..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Attachment (Optional)"}),s.jsxs("div",{className:"border-2 border-dashed border-ocean-700 rounded-xl p-6 flex flex-col items-center justify-center text-ocean-400 hover:bg-white/5 transition-colors relative",children:[y?s.jsxs("div",{className:"flex items-center text-white",children:[s.jsx("span",{className:"mr-2 font-medium",children:y}),s.jsx("button",{type:"button",onClick:()=>w(""),className:"p-1 hover:bg-white/10 rounded-full",children:s.jsx(Dt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ho,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("span",{className:"text-sm",children:"Click to upload document or image"})]}),s.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:g=>{var x,b;return w(((b=(x=g.target.files)==null?void 0:x[0])==null?void 0:b.name)||"")}})]})]}),s.jsxs("div",{className:"pt-6 flex items-center justify-end space-x-4 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-ocean-300 hover:text-white hover:bg-white/5 rounded-xl transition-colors font-medium text-sm",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-500 hover:to-pink-500 text-white font-bold rounded-xl shadow-lg transform hover:scale-[1.02] transition-all flex items-center text-sm",children:[s.jsx(ki,{className:"w-4 h-4 mr-2"}),"Submit Ticket"]})]})]})})})]})},Mh=({ticketId:e,onBack:t,onUpdateSuccess:n,currentUser:o,isAdminView:r=!1})=>{const[i,a]=N.useState(null),[d,u]=N.useState(""),[f,p]=N.useState("");N.useEffect(()=>{const b=Gt.getTicketById(e);b&&a(b)},[e]);const h=b=>{var C,A;if(o&&!r&&!Fe.getPermission(o.plan).allowFileUpload){alert("Your current plan (FREE) does not allow file uploads in ticket responses. Please upgrade to Office or Corporate."),b.target.value="";return}p(((A=(C=b.target.files)==null?void 0:C[0])==null?void 0:A.name)||"")};if(!i)return s.jsx("div",{className:"p-8 text-center text-white",children:"Loading ticket details..."});let m=!1;r?m=i.createdBy==="main":(o==null?void 0:o.isMainUser)!==!1?m=i.createdBy==="main"||i.createdBy===(o==null?void 0:o.email):m=i.createdBy===(o==null?void 0:o.email);const y=i.status==="PENDING"&&!m||i.status==="RESOLVED"&&m,w=i.status==="PENDING"?"RESOLVED":"PENDING",E=i.status==="PENDING"?"Submit Response & Resolve":"Re-open Ticket (Set Pending)",j=i.status==="PENDING"?"bg-emerald-600 hover:bg-emerald-500":"bg-amber-600 hover:bg-amber-500",v=i.status==="PENDING"?we:Ct,g=b=>{if(b.preventDefault(),!d.trim()||!i||!y)return;const C=r?"Admin":(o==null?void 0:o.fullName)||"User";Gt.addResponse(i.id,d+(f?` (Attached: ${f})`:""),C),Gt.updateStatus(i.id,w),n()},x=b=>new Date(b).toLocaleDateString("en-GB");return s.jsxs("div",{className:`flex flex-col h-full w-full ${r?"bg-transparent":"bg-ocean-950/80"} overflow-hidden animate-fade-in-up`,children:[!r&&s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-rose-600/20 rounded-lg text-rose-400",children:s.jsx(At,{className:"w-5 h-5"})}),s.jsxs("span",{className:"font-semibold text-lg text-white",children:["Update Ticket: ",i.ticketNumber]})]}),s.jsx("button",{onClick:t,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",title:"Back to List",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:`border rounded-2xl p-6 shadow-xl ${r?"bg-slate-900 border-slate-800":"bg-ocean-900/40 border-white/10"}`,children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6 border-b border-white/10 pb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:i.subject}),s.jsxs("p",{className:"text-ocean-300 text-sm",children:["Party: ",s.jsx("span",{className:"text-cyan-400 font-semibold",children:i.partyName})," ",s.jsxs("span",{className:"text-ocean-500 text-xs",children:["(",i.partyType,")"]})]})]}),s.jsx("div",{className:"mt-4 md:mt-0 flex items-center space-x-4",children:s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xs text-ocean-500 font-mono",children:["Date: ",x(i.date)]}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 mt-1 rounded-full text-xs font-bold border
                            ${i.status==="PENDING"?"bg-amber-900/20 text-amber-400 border-amber-900/30":i.status==="RESOLVED"?"bg-emerald-900/20 text-emerald-400 border-emerald-900/30":"bg-blue-900/20 text-blue-400 border-blue-900/30"}
                        `,children:i.status})]})})]}),s.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5",children:[s.jsx("p",{className:"text-xs text-ocean-500 uppercase font-bold mb-2",children:"Original Message"}),s.jsx("p",{className:"text-ocean-100 leading-relaxed whitespace-pre-wrap",children:i.message})]})]}),y?s.jsxs("div",{className:`border rounded-2xl p-6 shadow-xl ${r?"bg-slate-900 border-slate-800":"bg-ocean-900/40 border-white/10"}`,children:[s.jsxs("h3",{className:"text-white font-medium mb-4 flex items-center",children:[s.jsx(At,{className:"w-4 h-4 mr-2 text-rose-400"}),i.status==="RESOLVED"?"Re-open Ticket":"Provide Resolution"]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsx("textarea",{value:d,onChange:b=>u(b.target.value),rows:4,className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500 outline-none transition-all resize-none placeholder-ocean-500",placeholder:"Type your response here...",required:!0}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("div",{className:"w-full sm:w-auto flex-1",children:s.jsxs("label",{className:"flex items-center justify-between px-4 py-2 bg-ocean-950/50 border border-ocean-700 rounded-lg cursor-pointer hover:bg-ocean-900 transition-colors group",children:[s.jsxs("div",{className:"flex items-center truncate",children:[s.jsx(Ho,{className:"w-4 h-4 mr-2 text-ocean-400 group-hover:text-rose-400"}),s.jsx("span",{className:"text-sm text-ocean-300 truncate max-w-[200px]",children:f||"Attach File (Optional)"})]}),s.jsx("input",{type:"file",className:"hidden",onChange:h}),f&&s.jsx("button",{type:"button",onClick:b=>{b.preventDefault(),p("")},children:s.jsx(Dt,{className:"w-4 h-4 text-ocean-500 hover:text-white"})})]})}),s.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto justify-end",children:[r&&s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-ocean-400 hover:text-white border border-transparent hover:border-ocean-600 rounded-xl text-sm font-medium transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:`px-6 py-2 rounded-xl font-bold shadow-lg transition-all flex items-center ${j} text-white`,children:[s.jsx(v,{className:"w-4 h-4 mr-2"}),E]})]})]})]})]}):s.jsxs("div",{className:`border rounded-2xl p-6 shadow-xl flex items-center justify-between ${r?"bg-slate-900 border-slate-800":"bg-ocean-900/40 border-white/10"}`,children:[s.jsx("div",{className:"flex items-center",children:i.status==="PENDING"?s.jsxs("div",{className:"flex items-center text-amber-400",children:[s.jsx(Ht,{className:"w-8 h-8 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold",children:"Waiting for Response"}),s.jsx("p",{className:"text-sm text-ocean-400",children:"You created this ticket. Please wait for the receiver to reply and resolve it."})]})]}):s.jsxs("div",{className:"flex items-center text-emerald-400",children:[s.jsx(Ee,{className:"w-8 h-8 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold",children:"Ticket is Resolved"}),s.jsx("p",{className:"text-sm text-ocean-400",children:"Only the ticket creator can re-open this ticket."})]})]})}),r&&s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-ocean-400 hover:text-white border border-ocean-700 hover:border-ocean-500 rounded-xl text-sm font-medium transition-colors",children:"Back to List"})]}),s.jsxs("div",{className:`border rounded-2xl p-6 shadow-xl ${r?"bg-slate-900 border-slate-800":"bg-ocean-900/40 border-white/10"}`,children:[s.jsxs("h3",{className:"text-white font-medium mb-6 flex items-center border-b border-white/5 pb-4",children:[s.jsx(fa,{className:"w-4 h-4 mr-2 text-cyan-400"}),"Ticket History"]}),s.jsx("div",{className:"space-y-8 relative before:absolute before:inset-0 before:ml-2.5 before:-translate-x-px before:h-full before:w-0.5 before:bg-gradient-to-b before:from-ocean-800 before:via-ocean-700 before:to-transparent",children:i.history.slice().reverse().map((b,C)=>s.jsxs("div",{className:"relative flex group pl-8",children:[s.jsx("div",{className:`absolute left-0 top-1 w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 z-10 bg-ocean-950
                             ${b.action.includes("Created")?"border-blue-500 text-blue-500":b.action.includes("Response")?"border-cyan-500 text-cyan-500":b.action.includes("Resolved")?"border-emerald-500 text-emerald-500":"border-ocean-600 text-ocean-400"}
                        `,children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-current"})}),s.jsxs("div",{className:"flex-1 bg-white/5 p-4 rounded-xl border border-white/5 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"text-xs font-mono text-ocean-500",children:x(b.date)}),s.jsx("span",{className:"text-xs font-bold text-white px-2 py-0.5 rounded bg-ocean-950/50",children:b.by})]}),s.jsx("p",{className:"text-sm text-ocean-200",children:b.action})]})]},C))})]})]})})]})},kC=({onBack:e,currentUser:t})=>{const[n,o]=N.useState("LIST"),[r,i]=N.useState([]),[a,d]=N.useState(""),[u,f]=N.useState({id:"",branchName:"",country:"",city:"",status:"ACTIVE",isMainBranch:!1});N.useEffect(()=>{p()},[]);const p=()=>{i(te.getBranches())},h=r.filter(j=>j.branchName.toLowerCase().includes(a.toLowerCase())||j.city.toLowerCase().includes(a.toLowerCase())||j.country.toLowerCase().includes(a.toLowerCase())),m=j=>{te.toggleBranchStatus(j),p()},y=j=>{j.preventDefault();const v={...u,id:u.id||Date.now().toString(),createdBy:t.email||"main"};te.saveBranch(v),p(),o("LIST")},w=()=>{f({id:"",branchName:"",country:"",city:"",status:"ACTIVE",isMainBranch:!1}),o("CREATE")},E=t.isMainUser!==!1;return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg text-purple-400",children:s.jsx(Mt,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Branch Management"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:n==="LIST"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Branches...",value:a,onChange:j=>d(j.target.value),className:"w-full bg-ocean-900/50 border border-ocean-700 rounded-xl pl-10 pr-4 py-2 text-white placeholder-ocean-500 focus:ring-2 focus:ring-purple-500 outline-none transition-all"})]}),E&&s.jsxs("button",{onClick:w,className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-xl font-medium flex items-center shadow-lg transition-all",children:[s.jsx($t,{className:"w-4 h-4 mr-2"})," Create Branch"]})]}),s.jsx("div",{className:"bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Branch Name"}),s.jsx("th",{className:"px-6 py-4",children:"Country"}),s.jsx("th",{className:"px-6 py-4",children:"City / Location"}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:h.map(j=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 font-medium text-white flex items-center",children:[j.isMainBranch&&s.jsx("span",{className:"mr-2 px-2 py-0.5 bg-blue-600 text-white text-[10px] rounded",children:"MAIN"}),j.branchName]}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:j.country}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:j.city}),s.jsx("td",{className:"px-6 py-4",children:j.status==="ACTIVE"?s.jsxs("span",{className:"inline-flex items-center text-emerald-400 text-xs font-bold",children:[s.jsx(we,{className:"w-3 h-3 mr-1"})," Active"]}):s.jsxs("span",{className:"inline-flex items-center text-rose-400 text-xs font-bold",children:[s.jsx(zs,{className:"w-3 h-3 mr-1"})," Suspended"]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:!j.isMainBranch&&E&&s.jsx("button",{onClick:()=>m(j.id),className:`p-2 rounded-lg border transition-colors ${j.status==="ACTIVE"?"border-rose-900/50 text-rose-400 hover:bg-rose-900/20":"border-emerald-900/50 text-emerald-400 hover:bg-emerald-900/20"}`,title:j.status==="ACTIVE"?"Suspend Branch":"Activate Branch",children:s.jsx(vc,{className:"w-4 h-4"})})})]},j.id))})]})})]}):s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"w-full max-w-2xl bg-ocean-900/40 border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Create New Branch"}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Branch Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ig,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500"}),s.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"e.g. London Office",value:u.branchName,onChange:j=>f({...u,branchName:j.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Country"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500"}),s.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"e.g. UK",value:u.country,onChange:j=>f({...u,country:j.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"City / Location"}),s.jsxs("div",{className:"relative",children:[s.jsx(be,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500"}),s.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"e.g. London",value:u.city,onChange:j=>f({...u,city:j.target.value})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>o("LIST"),className:"px-6 py-2 text-ocean-300 hover:text-white",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-xl font-bold shadow-lg",children:"Save Branch"})]})]})]})})})]})},AC=({onBack:e,currentUser:t,onViewProfile:n})=>{const[o,r]=N.useState("LIST"),[i,a]=N.useState([]),[d,u]=N.useState([]),[f,p]=N.useState(""),[h,m]=N.useState("EMAIL"),[y,w]=N.useState(""),[E,j]=N.useState(""),[v,g]=N.useState(!1),[x,b]=N.useState({});N.useEffect(()=>{C()},[]);const C=()=>{a(te.getSubUsers()),u(te.getBranches())},A=i.filter(S=>S.fullName.toLowerCase().includes(f.toLowerCase())||S.email.toLowerCase().includes(f.toLowerCase())||S.mobile.toLowerCase().includes(f.toLowerCase())),I=S=>{te.toggleSubUserStatus(S),C()},T=S=>{n&&n({fullName:S.fullName,email:S.email,mobile:S.mobile,role:S.role,designation:S.designation,photoBase64:S.photoBase64,companyName:t.companyName,isMainUser:!1})},R=()=>{const S=i.filter(k=>k.createdBy==="main"||k.createdBy===t.email),B=Fe.getPermission(t.plan).maxSubUsers;if(S.length>=B){alert(`You have reached the maximum number of sub-users (${B}) allowed on your ${t.plan} plan. Upgrade to add more.`);return}M(),r("CREATE")},_=async S=>{S.preventDefault(),g(!0),await te.sendVerificationOtp(y),g(!1),m("OTP")},P=async S=>{S.preventDefault(),g(!0);const B=await te.verifyOtp(E);g(!1),B?(m("DETAILS"),b(k=>({...k,email:y}))):alert("Invalid OTP (Try 1234)")},L=S=>{var k;const B=(k=S.target.files)==null?void 0:k[0];if(B){const H=new FileReader;H.onloadend=()=>{b(G=>({...G,photoBase64:H.result}))},H.readAsDataURL(B)}},O=S=>{S.preventDefault();const B={id:x.email,email:x.email,fullName:x.fullName||"",mobile:x.mobile||"",role:t.role,designation:x.designation||"",branchId:x.branchId||"",photoBase64:x.photoBase64,status:"ACTIVE",createdBy:t.email||"main"};te.saveSubUser(B);const k={email:x.email,mobile:x.mobile||"",role:t.role,fullName:x.fullName||"",designation:x.designation||"",companyName:t.companyName||"",address:"",photoBase64:x.photoBase64||null,logoBase64:t.logoBase64||null,isMainUser:!1,branchId:x.branchId,status:"ACTIVE",plan:t.plan,subscriptionStatus:t.subscriptionStatus,registrationDate:t.registrationDate,expiryDate:t.expiryDate};ke.registerUser(k),C(),M(),r("LIST")},M=()=>{w(""),j(""),m("EMAIL"),b({})},U=t.isMainUser!==!1;return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-orange-600/20 rounded-lg text-orange-400",children:s.jsx(ct,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Sub-User Management"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:o==="LIST"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Sub-Users...",value:f,onChange:S=>p(S.target.value),className:"w-full bg-ocean-900/50 border border-ocean-700 rounded-xl pl-10 pr-4 py-2 text-white placeholder-ocean-500 focus:ring-2 focus:ring-orange-500 outline-none transition-all"})]}),U&&s.jsxs("button",{onClick:R,className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded-xl font-medium flex items-center shadow-lg transition-all",children:[s.jsx($t,{className:"w-4 h-4 mr-2"})," Create Sub-User"]})]}),s.jsx("div",{className:"bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"User"}),s.jsx("th",{className:"px-6 py-4",children:"Role"}),s.jsx("th",{className:"px-6 py-4",children:"Branch"}),s.jsx("th",{className:"px-6 py-4",children:"Contact"}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:A.map(S=>{const B=d.find(k=>k.id===S.branchId);return s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-white cursor-pointer",onClick:()=>T(S),children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-ocean-800 border border-ocean-600 overflow-hidden shrink-0 flex items-center justify-center",children:S.photoBase64?s.jsx("img",{src:S.photoBase64,alt:S.fullName,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-xs font-bold text-ocean-400",children:S.fullName.charAt(0)})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium hover:text-orange-400 transition-colors underline decoration-dotted decoration-ocean-600 underline-offset-4",children:S.fullName}),s.jsxs("div",{className:"text-[11px] text-ocean-400 flex items-center mt-0.5",children:[s.jsx(Je,{className:"w-3 h-3 mr-1 opacity-70"}),S.designation]})]})]})}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:S.role}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:(B==null?void 0:B.branchName)||"-"}),s.jsxs("td",{className:"px-6 py-4 text-ocean-400 text-xs",children:[s.jsx("div",{children:S.email}),s.jsx("div",{children:S.mobile})]}),s.jsx("td",{className:"px-6 py-4",children:S.status==="ACTIVE"?s.jsxs("span",{className:"inline-flex items-center text-emerald-400 text-xs font-bold",children:[s.jsx(we,{className:"w-3 h-3 mr-1"})," Active"]}):s.jsxs("span",{className:"inline-flex items-center text-rose-400 text-xs font-bold",children:[s.jsx(zs,{className:"w-3 h-3 mr-1"})," Suspended"]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:U&&s.jsx("button",{onClick:()=>I(S.id),className:`p-2 rounded-lg border transition-colors ${S.status==="ACTIVE"?"border-rose-900/50 text-rose-400 hover:bg-rose-900/20":"border-emerald-900/50 text-emerald-400 hover:bg-emerald-900/20"}`,title:S.status==="ACTIVE"?"Suspend User":"Activate User",children:s.jsx(vc,{className:"w-4 h-4"})})})]},S.id)})})]})})]}):s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"w-full max-w-xl bg-ocean-900/40 border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Create New Sub-User"}),h==="EMAIL"&&s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-ocean-300 mb-4",children:"Enter the email address of the new user to verify."}),s.jsxs("div",{className:"relative",children:[s.jsx(ss,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500"}),s.jsx("input",{required:!0,type:"email",value:y,onChange:S=>w(S.target.value),className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"user@company.com"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"px-4 py-2 text-ocean-300",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-orange-600 text-white rounded-xl font-bold flex items-center",children:[v&&s.jsx(li,{className:"w-4 h-4 mr-2 animate-spin"})," Send OTP"]})]})]}),h==="OTP"&&s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-ocean-300 mb-2",children:["OTP sent to ",y]}),s.jsx("input",{required:!0,type:"text",value:E,onChange:S=>j(S.target.value),className:"w-full text-center text-2xl tracking-widest bg-black/20 border border-ocean-700 rounded-xl py-3 text-white focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"1234"}),s.jsx("button",{type:"submit",disabled:v,className:"w-full px-6 py-3 bg-orange-600 text-white rounded-xl font-bold",children:v?"Verifying...":"Verify OTP"})]}),h==="DETAILS"&&s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-24 h-24 rounded-full border-2 border-dashed border-ocean-600 flex items-center justify-center bg-black/20 overflow-hidden",children:x.photoBase64?s.jsx("img",{src:x.photoBase64,alt:"Preview",className:"w-full h-full object-cover"}):s.jsx(ct,{className:"w-8 h-8 text-ocean-500"})}),s.jsxs("label",{className:"absolute inset-0 w-full h-full cursor-pointer flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-full",children:[s.jsx(Ho,{className:"w-6 h-6 text-white"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:L})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase",children:"Full Name"}),s.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-orange-500 outline-none",onChange:S=>b({...x,fullName:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase",children:"Designation"}),s.jsxs("div",{className:"relative",children:[s.jsx(Je,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500"}),s.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-orange-500 outline-none",onChange:S=>b({...x,designation:S.target.value}),placeholder:"e.g. Sales Executive"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase",children:"Mobile"}),s.jsx("input",{required:!0,type:"tel",className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-orange-500 outline-none",onChange:S=>b({...x,mobile:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase",children:"Role"}),s.jsxs("div",{className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-ocean-400 italic",children:[t.role," (Auto-Assigned)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase",children:"Assign Branch"}),s.jsxs("select",{required:!0,className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-orange-500 outline-none appearance-none",onChange:S=>b({...x,branchId:S.target.value}),defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Select Branch"}),d.filter(S=>S.status==="ACTIVE").map(S=>s.jsxs("option",{value:S.id,children:[S.branchName," (",S.city,")"]},S.id))]})]}),s.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-orange-600 hover:bg-orange-500 text-white rounded-xl font-bold shadow-lg",children:"Create Sub-User"})]})]})})})]})},Ie={PORTS:"ocean_admin_ports",LOAD_TYPES:"ocean_admin_load_types",CURRENCY:"ocean_admin_currency",MATRIX:"ocean_admin_matrix"},ul=[{id:"1",name:"Mundra",shortName:"INMUN",fullName:"Adani Port Mundra",country:"India"},{id:"2",name:"Jebel Ali",shortName:"AEJEA",fullName:"Jebel Ali Port",country:"UAE"},{id:"3",name:"Singapore",shortName:"SGSIN",fullName:"Port of Singapore",country:"Singapore"},{id:"4",name:"Shanghai",shortName:"CNSHA",fullName:"Port of Shanghai",country:"China"},{id:"5",name:"Dubai",shortName:"AEDXB",fullName:"Dubai Port",country:"UAE"},{id:"6",name:"Nhava Sheva",shortName:"INNSA",fullName:"Jawaharlal Nehru Port",country:"India"},{id:"7",name:"Colombo",shortName:"LKCMB",fullName:"Port of Colombo",country:"Sri Lanka"},{id:"8",name:"Salalah",shortName:"OMSLL",fullName:"Port of Salalah",country:"Oman"},{id:"9",name:"Rotterdam",shortName:"NLRTM",fullName:"Port of Rotterdam",country:"Netherlands"},{id:"10",name:"New York",shortName:"USNYC",fullName:"Port of New York",country:"USA"}],fl=[{id:"1",loadType:"20 Feet Box",detail:""},{id:"2",loadType:"40 Feet Box",detail:""},{id:"3",loadType:"20 Feet Tanker",detail:""},{id:"4",loadType:"40 Feet Tanker",detail:""},{id:"5",loadType:"20 Feet Reefer",detail:""},{id:"6",loadType:"40 Feet Reefer",detail:""},{id:"7",loadType:"Bulk Vessel Dry",detail:""},{id:"8",loadType:"Break Bulk Dry",detail:""},{id:"9",loadType:"Bulk Oil",detail:""}],pl=[{id:"1",currency:"INR",country:"India"},{id:"2",currency:"USD",country:"USA"}],ml=[{id:"1",name:"Container"},{id:"2",name:"Tone"},{id:"3",name:"Box"},{id:"4",name:"Kg"},{id:"5",name:"Cartons"},{id:"6",name:"Bags"}];function ht(e,t){const n=localStorage.getItem(e);return n?JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),t)}function dn(e,t){localStorage.setItem(e,JSON.stringify(t))}const pe={getPorts:()=>ht(Ie.PORTS,ul),savePort:e=>{const t=ht(Ie.PORTS,ul),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),dn(Ie.PORTS,t)},deletePort:e=>{const t=ht(Ie.PORTS,ul).filter(n=>n.id!==e);dn(Ie.PORTS,t)},getLoadTypes:()=>ht(Ie.LOAD_TYPES,fl),saveLoadType:e=>{const t=ht(Ie.LOAD_TYPES,fl),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),dn(Ie.LOAD_TYPES,t)},deleteLoadType:e=>{const t=ht(Ie.LOAD_TYPES,fl).filter(n=>n.id!==e);dn(Ie.LOAD_TYPES,t)},getCurrencies:()=>ht(Ie.CURRENCY,pl),saveCurrency:e=>{const t=ht(Ie.CURRENCY,pl),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),dn(Ie.CURRENCY,t)},deleteCurrency:e=>{const t=ht(Ie.CURRENCY,pl).filter(n=>n.id!==e);dn(Ie.CURRENCY,t)},getMatrices:()=>ht(Ie.MATRIX,ml),saveMatrix:e=>{const t=ht(Ie.MATRIX,ml),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),dn(Ie.MATRIX,t)},deleteMatrix:e=>{const t=ht(Ie.MATRIX,ml).filter(n=>n.id!==e);dn(Ie.MATRIX,t)}},PC=({onBack:e,currentUser:t})=>{const[n,o]=N.useState("LIST"),[r,i]=N.useState([]),[a,d]=N.useState([]),[u,f]=N.useState(null),[p,h]=N.useState(""),[m,y]=N.useState("ME"),[w,E]=N.useState(!1),j=te.getSubUsers(),[v,g]=N.useState(""),[x,b]=N.useState([]),[C,A]=N.useState(null),[I,T]=N.useState([]),[R,_]=N.useState([]);N.useEffect(()=>{P(),T(pe.getCurrencies().map(G=>G.currency)),_(pe.getMatrices().map(G=>G.name))},[]);const P=()=>{i(te.getChargeHeads())};N.useEffect(()=>{r.length>0&&L()},[r]);const L=()=>{E(!0),setTimeout(()=>{const G=r.filter(K=>K.headName.toLowerCase().includes(p.toLowerCase())?t.isMainUser!==!1?m==="ME"?K.createdBy==="main"||!K.createdBy:m==="ALL"?!0:K.createdBy===m:K.createdBy===t.email:!1);d(G),E(!1)},300)},O=()=>{A(null),g(""),b([{id:Date.now().toString(),name:"",amount:0,matrix:"Container",currency:"INR"}]),o("CREATE")},M=G=>{A(G.id),g(G.headName),b(G.items.map(K=>({...K}))),o("CREATE")},U=()=>{b(G=>[...G,{id:Date.now().toString(),name:"",amount:0,matrix:"Container",currency:"INR"}])},S=G=>{b(K=>K.filter(W=>W.id!==G))},B=(G,K,W)=>{b(he=>he.map(ee=>ee.id===G?{...ee,[K]:W}:ee))},k=G=>{var he;if(G.preventDefault(),!v.trim()||x.length===0)return;const K=t.isMainUser!==!1?"main":t.email||"main",W={id:C||Date.now().toString(),headName:v,items:x,status:"ACTIVE",createdBy:C&&((he=r.find(ee=>ee.id===C))==null?void 0:he.createdBy)||K};te.saveChargeHead(W),P(),o("LIST")},H=G=>{window.confirm("Are you sure you want to delete this Charge Head?")&&(te.deleteChargeHead(G),P(),f(null))};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up relative",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-yellow-600/20 rounded-lg text-yellow-400",children:s.jsx(ii,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Charges Master"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:n==="LIST"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-ocean-900/40 p-4 rounded-xl border border-white/5 shadow-lg",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center text-ocean-300 text-sm whitespace-nowrap",children:[s.jsx(Rg,{className:"w-4 h-4 mr-2"})," Standard Charges"]}),s.jsxs("div",{className:"relative flex-1 w-full max-w-sm",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Charges...",value:p,onChange:G=>h(G.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2 text-white text-sm focus:ring-2 focus:ring-yellow-500 outline-none transition-all"})]}),t.isMainUser!==!1&&s.jsxs("select",{className:"bg-ocean-950/50 border border-ocean-700 rounded-lg px-3 py-1.5 text-white text-sm focus:ring-2 focus:ring-yellow-500 outline-none w-full sm:w-auto",value:m,onChange:G=>y(G.target.value),children:[s.jsx("option",{value:"ME",children:"My Data (Main)"}),s.jsx("option",{value:"ALL",children:"All Users"}),j.map(G=>s.jsx("option",{value:G.id,children:G.fullName},G.id))]}),s.jsx("button",{onClick:L,disabled:w,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-emerald-900/20 transition-all hover:scale-105 disabled:opacity-50 flex items-center",children:w?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]}),s.jsxs("button",{onClick:O,className:"bg-yellow-600 hover:bg-yellow-500 text-white px-4 py-2 rounded-xl font-medium flex items-center shadow-lg transition-all w-full sm:w-auto justify-center whitespace-nowrap",children:[s.jsx($t,{className:"w-4 h-4 mr-2"})," Create Charge Head"]})]}),s.jsx("div",{className:"bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Charge Head Name"}),s.jsx("th",{className:"px-6 py-4",children:"Items"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:a.length>0?a.map(G=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-white",children:G.headName}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full bg-ocean-800 text-ocean-200 text-xs",children:[G.items.length," Items"]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs("button",{onClick:()=>f(G),className:"px-3 py-1.5 bg-cyan-900/20 hover:bg-cyan-900/40 text-cyan-400 border border-cyan-900/30 rounded-lg text-xs font-medium flex items-center transition-colors",children:[s.jsx(Zm,{className:"w-3.5 h-3.5 mr-1.5"})," View"]}),s.jsx("button",{onClick:()=>M(G),className:"p-1.5 text-yellow-400 hover:bg-yellow-900/20 rounded transition-colors",children:s.jsx(Fs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>H(G.id),className:"p-1.5 text-rose-400 hover:bg-rose-900/20 rounded transition-colors",children:s.jsx(Vs,{className:"w-4 h-4"})})]})})]},G.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-ocean-400",children:"No charge heads found matching criteria. Click GO to refresh."})})})]})})]}):s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"w-full max-w-4xl bg-ocean-900/40 border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6 border-b border-white/10 pb-4",children:C?"Edit Charge Structure":"Create New Charge Structure"}),s.jsxs("form",{onSubmit:k,className:"space-y-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Charges Head Name"}),s.jsx("input",{required:!0,type:"text",value:v,onChange:G=>g(G.target.value),className:"w-full bg-black/20 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-yellow-500 outline-none placeholder-ocean-500",placeholder:"e.g. 20 Feet Box Contain - Mudra Port"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Charge Details List"}),s.jsxs("button",{type:"button",onClick:U,className:"text-xs text-yellow-400 hover:text-white flex items-center font-bold uppercase tracking-wider",children:[s.jsx($t,{className:"w-4 h-4 mr-1"})," Add More Charges"]})]}),s.jsx("div",{className:"space-y-3",children:x.map((G,K)=>s.jsxs("div",{className:"grid grid-cols-12 gap-4 bg-white/5 p-4 rounded-xl border border-white/5 items-end relative group",children:[s.jsx("span",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 bg-ocean-800 rounded-full flex items-center justify-center text-[10px] text-ocean-400 border border-ocean-600",children:K+1}),s.jsxs("div",{className:"col-span-4 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-semibold text-ocean-400 uppercase",children:"Charge Name"}),s.jsx("input",{required:!0,type:"text",value:G.name,onChange:W=>B(G.id,"name",W.target.value),className:"w-full bg-black/20 border border-ocean-700 rounded-lg px-3 py-2 text-sm text-white focus:ring-1 focus:ring-yellow-500 outline-none",placeholder:"e.g. THC"})]}),s.jsxs("div",{className:"col-span-3 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-semibold text-ocean-400 uppercase",children:"Amount"}),s.jsx("input",{required:!0,type:"number",value:G.amount||"",onChange:W=>B(G.id,"amount",parseFloat(W.target.value)),className:"w-full bg-black/20 border border-ocean-700 rounded-lg px-3 py-2 text-sm text-white focus:ring-1 focus:ring-yellow-500 outline-none",placeholder:"0.00"})]}),s.jsxs("div",{className:"col-span-2 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-semibold text-ocean-400 uppercase",children:"Currency"}),s.jsx("select",{value:G.currency,onChange:W=>B(G.id,"currency",W.target.value),className:"w-full bg-black/20 border border-ocean-700 rounded-lg px-2 py-2 text-sm text-white focus:ring-1 focus:ring-yellow-500 outline-none",children:I.map(W=>s.jsx("option",{value:W,children:W},W))})]}),s.jsxs("div",{className:"col-span-2 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-semibold text-ocean-400 uppercase",children:"Matrix"}),s.jsx("select",{value:G.matrix,onChange:W=>B(G.id,"matrix",W.target.value),className:"w-full bg-black/20 border border-ocean-700 rounded-lg px-2 py-2 text-sm text-white focus:ring-1 focus:ring-yellow-500 outline-none",children:R.map(W=>s.jsx("option",{value:W,children:W},W))})]}),s.jsx("div",{className:"col-span-1 flex justify-center pb-1",children:x.length>1&&s.jsx("button",{type:"button",onClick:()=>S(G.id),className:"text-rose-400 hover:text-white hover:bg-rose-900/50 p-1.5 rounded transition-colors",children:s.jsx(Vs,{className:"w-4 h-4"})})})]},G.id))})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:()=>o("LIST"),className:"px-6 py-3 text-ocean-300 hover:text-white font-medium",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-8 py-3 bg-yellow-600 hover:bg-yellow-500 text-white rounded-xl font-bold shadow-lg flex items-center",children:[s.jsx(Tn,{className:"w-5 h-5 mr-2"})," Save Charges"]})]})]})]})})}),u&&s.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-ocean-900 border border-white/20 rounded-2xl w-full max-w-2xl shadow-2xl animate-fade-in-up",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold text-lg",children:u.headName}),s.jsx("p",{className:"text-xs text-ocean-400 uppercase mt-1",children:"Charge Breakdown"})]}),s.jsx("button",{onClick:()=>f(null),className:"text-ocean-400 hover:text-white bg-white/5 p-2 rounded-lg transition-colors",children:s.jsx(Dt,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto custom-scrollbar",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Charge Name"}),s.jsx("th",{className:"px-4 py-3",children:"Amount"}),s.jsx("th",{className:"px-4 py-3",children:"Currency"}),s.jsx("th",{className:"px-4 py-3 rounded-r-lg",children:"Matrix"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:u.items.map(G=>s.jsxs("tr",{className:"hover:bg-white/5",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:G.name}),s.jsx("td",{className:"px-4 py-3 font-mono text-white",children:G.amount.toFixed(2)}),s.jsx("td",{className:"px-4 py-3 text-xs font-bold text-ocean-400",children:G.currency}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-2 py-1 rounded bg-ocean-950 border border-ocean-700 text-xs",children:G.matrix})})]},G.id))})]})}),s.jsx("div",{className:"p-4 border-t border-white/10 bg-black/20 rounded-b-2xl flex justify-end",children:s.jsx("button",{onClick:()=>f(null),className:"text-sm text-ocean-300 hover:text-white",children:"Close"})})]})})]})},RC=({onBack:e,currentUser:t})=>{const[n,o]=N.useState("LIST"),[r,i]=N.useState([]),[a,d]=N.useState(""),[u,f]=N.useState({id:"",lineName:"",unitName:"",country:"",status:"ACTIVE"});N.useEffect(()=>{p()},[]);const p=()=>{i(te.getShippingLines())},h=r.filter(j=>j.lineName.toLowerCase().includes(a.toLowerCase())||j.unitName.toLowerCase().includes(a.toLowerCase())||j.country.toLowerCase().includes(a.toLowerCase())),m=j=>{te.toggleShippingLineStatus(j),p()},y=j=>{j.preventDefault();const v={...u,id:u.id||Date.now().toString(),createdBy:t.email||"main"};te.saveShippingLine(v),p(),o("LIST")},w=()=>{f({id:"",lineName:"",unitName:"",country:"",status:"ACTIVE"}),o("CREATE")},E=t.isMainUser!==!1;return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg text-blue-400",children:s.jsx(Ke,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Shipping Lines"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:n==="LIST"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Shipping Lines...",value:a,onChange:j=>d(j.target.value),className:"w-full bg-ocean-900/50 border border-ocean-700 rounded-xl pl-10 pr-4 py-2 text-white placeholder-ocean-500 focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),E&&s.jsxs("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-xl font-medium flex items-center shadow-lg transition-all",children:[s.jsx($t,{className:"w-4 h-4 mr-2"})," Create Shipping Line"]})]}),s.jsx("div",{className:"bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 font-semibold tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Line Name"}),s.jsx("th",{className:"px-6 py-4",children:"Unit Name (Code)"}),s.jsx("th",{className:"px-6 py-4",children:"Country"}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:h.length>0?h.map(j=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 font-medium text-white flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 mr-2 text-ocean-500"}),j.lineName]}),s.jsx("td",{className:"px-6 py-4 text-ocean-300 font-mono",children:j.unitName}),s.jsx("td",{className:"px-6 py-4 text-ocean-300",children:j.country}),s.jsx("td",{className:"px-6 py-4",children:j.status==="ACTIVE"?s.jsxs("span",{className:"inline-flex items-center text-emerald-400 text-xs font-bold",children:[s.jsx(we,{className:"w-3 h-3 mr-1"})," Active"]}):s.jsxs("span",{className:"inline-flex items-center text-rose-400 text-xs font-bold",children:[s.jsx(zs,{className:"w-3 h-3 mr-1"})," Suspended"]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:E&&s.jsx("button",{onClick:()=>m(j.id),className:`p-2 rounded-lg border transition-colors ${j.status==="ACTIVE"?"border-rose-900/50 text-rose-400 hover:bg-rose-900/20":"border-emerald-900/50 text-emerald-400 hover:bg-emerald-900/20"}`,title:j.status==="ACTIVE"?"Suspend Line":"Activate Line",children:s.jsx(vc,{className:"w-4 h-4"})})})]},j.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-ocean-400",children:"No shipping lines found."})})})]})})]}):s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"w-full max-w-2xl bg-ocean-900/40 border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Create Shipping Line"}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Shipping Line Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ke,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500"}),s.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Maersk Line",value:u.lineName,onChange:j=>f({...u,lineName:j.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Unit Name / Code"}),s.jsxs("div",{className:"relative",children:[s.jsx(St,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500"}),s.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. MAEU",value:u.unitName,onChange:j=>f({...u,unitName:j.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider",children:"Country"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{className:"absolute left-3 top-3 w-5 h-5 text-ocean-500"}),s.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Denmark",value:u.country,onChange:j=>f({...u,country:j.target.value})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>o("LIST"),className:"px-6 py-2 text-ocean-300 hover:text-white",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold shadow-lg",children:"Save Line"})]})]})]})})})]})},lo="ocean_inquiries",as=()=>{const e=new Date,t=e.toLocaleString("default",{month:"short"}).toUpperCase(),n=e.getFullYear().toString().slice(-2),o=e.getDate();let r="LAST";return o<=7?r="1ST":o<=14?r="2ND":o<=21&&(r="3RD"),`${r}-WEEK-${t}-${n}`},MC=[{id:"1",inquiryNumber:"INQ-2024-001",inquiryType:"GENERAL",inquiryGroup:"GLOBAL",pol:"Mundra (INMUN)",pod:"Jebel Ali (AEJEA)",loadType:"20 Feet Box",cargoDetail:"Basmati Rice",quantity:10,matrix:"Container",shipmentSchedule:as(),shipmentScheduleEnd:"",isHazardous:!1,validUntil:new Date(Date.now()+864e5*7).toISOString().split("T")[0],status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_01"},{id:"2",inquiryNumber:"INQ-2024-002",inquiryType:"SPECIFIC",inquiryGroup:"NETWORK_PARTY",pol:"Shanghai (CNSHA)",pod:"Rotterdam (NLRTM)",loadType:"40 Feet HC",cargoDetail:"Electronics",quantity:5,matrix:"Box",shipmentSchedule:as(),shipmentScheduleEnd:"",isHazardous:!0,hazardousDetail:"Lithium Batteries, Class 9",validUntil:new Date(Date.now()+864e5*3).toISOString().split("T")[0],status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_02"},{id:"3",inquiryNumber:"INQ-2024-003",inquiryType:"SPECIFIC",inquiryGroup:"NETWORK_PARTY",targetPartyName:"My Company",targetUserName:"Demo User (Manager)",targetPartyDisplay:"Demo User (Manager) - My Company",pol:"Singapore (SGSIN)",pod:"Mundra (INMUN)",loadType:"20 Feet Box",cargoDetail:"Machinery Parts",quantity:2,matrix:"Container",shipmentSchedule:as(),shipmentScheduleEnd:"",isHazardous:!1,validUntil:new Date(Date.now()+864e5*5).toISOString().split("T")[0],status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_01"},{id:"4",inquiryNumber:"INQ-2024-004",inquiryType:"SPECIFIC",inquiryGroup:"NETWORK_PARTY",targetPartyName:"Oceanic Global Ltd",targetUserName:"John Doe (Manager)",targetPartyDisplay:"John Doe (Manager) - Oceanic Global Ltd",pol:"Rotterdam (NLRTM)",pod:"Jebel Ali (AEJEA)",loadType:"40 Feet HC",cargoDetail:"Automotive Components",quantity:4,matrix:"Container",shipmentSchedule:as(),shipmentScheduleEnd:"",isHazardous:!1,validUntil:new Date(Date.now()+864e5*10).toISOString().split("T")[0],status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_02"},{id:"5",inquiryNumber:"INQ-2024-005",inquiryType:"SPECIFIC",inquiryGroup:"NETWORK_PARTY",targetPartyName:"My Company",targetUserName:"Demo User",targetPartyDisplay:"Demo User - My Company",pol:"New York (USNYC)",pod:"Mundra (INMUN)",loadType:"LCL",cargoDetail:"Medical Equipment",quantity:15,matrix:"Box",shipmentSchedule:as(),shipmentScheduleEnd:"",isHazardous:!0,hazardousDetail:"Sensitive, Temp Controlled",validUntil:new Date(Date.now()+864e5*2).toISOString().split("T")[0],status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_01"},{id:"6",inquiryNumber:"INQ-2024-006",inquiryType:"SPECIFIC",inquiryGroup:"NETWORK_PARTY",targetPartyName:"Oceanic Global Ltd",targetUserName:"John Doe",targetPartyDisplay:"John Doe - Oceanic Global Ltd",pol:"Jebel Ali (AEJEA)",pod:"Singapore (SGSIN)",loadType:"20 ft Tanker",cargoDetail:"Liquid Chemicals",quantity:1,matrix:"Container",shipmentSchedule:as(),shipmentScheduleEnd:"",isHazardous:!0,hazardousDetail:"Corrosive Class 8",validUntil:new Date(Date.now()+864e5*4).toISOString().split("T")[0],status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_02"}],lt={getInquiries:()=>{const e=localStorage.getItem(lo);let t=e?JSON.parse(e):MC;const n=new Date;return n.setHours(0,0,0,0),t=t.map(o=>{const r=new Date(o.validUntil);return o.status==="LIVE"&&r<n?{...o,status:"EXPIRED"}:o}),localStorage.setItem(lo,JSON.stringify(t)),t},saveInquiry:e=>{const t=lt.getInquiries();t.unshift(e),localStorage.setItem(lo,JSON.stringify(t))},suspendInquiry:e=>{const t=lt.getInquiries(),n=t.find(o=>o.id===e);n&&(n.status="SUSPENDED",localStorage.setItem(lo,JSON.stringify(t)))},updateStatus:(e,t)=>{const n=lt.getInquiries(),o=n.find(r=>r.id===e);o&&(o.status=t,localStorage.setItem(lo,JSON.stringify(n)))},generateInquiryNumber:()=>`INQ-${new Date().getFullYear()}-${Math.floor(1e4+Math.random()*9e4)}`},If=[{id:"1",name:"Rahul Verma",designation:"Senior Manager",company:"Global Logistics Pvt Ltd"},{id:"2",name:"Sarah Jenkins",designation:"Director",company:"Oceanic Freight"},{id:"3",name:"David Chen",designation:"Operations Head",company:"Pacific Shipping Co."}],DC=()=>{const e=[];let t=new Date;for(;e.length<12;){const n=t.getDate(),o=t.toLocaleString("default",{month:"short"}).toUpperCase(),r=t.getFullYear().toString().slice(-2);let i="";n<=7?i="1ST":n<=14?i="2ND":n<=21?i="3RD":i="LAST";const a=`${i}-WEEK-${o}-${r}`;(e.length===0||e[e.length-1]!==a)&&e.push(a),t.setDate(t.getDate()+7)}return e},jf=({label:e,value:t,onChange:n,options:o,iconColor:r,disabled:i})=>{const[a,d]=N.useState(!1),u=o.filter(f=>f.toLowerCase().includes(t.toLowerCase()));return s.jsxs("div",{className:"space-y-1 relative",children:[s.jsxs("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:[e,i&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(be,{className:`absolute left-3 top-2.5 w-3.5 h-3.5 ${r} ${i?"opacity-50":""}`}),s.jsx("input",{type:"text",required:!0,value:t,onChange:f=>{n(f.target.value),d(!0)},onFocus:()=>!i&&d(!0),onBlur:()=>setTimeout(()=>d(!1),200),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl pl-9 pr-8 text-white focus:ring-2 focus:ring-indigo-500 outline-none text-xs h-[38px] placeholder-ocean-500 transition-all ${i?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,placeholder:"Search port...",autoComplete:"off",disabled:i}),!i&&s.jsx(le,{className:"absolute right-3 top-2.5 w-3.5 h-3.5 text-ocean-600 pointer-events-none"})]}),a&&!i&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 bg-ocean-900 border border-ocean-700 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto custom-scrollbar animate-fade-in-up",children:u.length>0?u.map((f,p)=>s.jsx("div",{className:"px-4 py-2.5 text-xs text-ocean-100 hover:bg-ocean-800 hover:text-white cursor-pointer transition-colors border-b border-white/5 last:border-0 flex items-center",onMouseDown:h=>{h.preventDefault(),n(f),d(!1)},children:f},p)):s.jsx("div",{className:"px-4 py-3 text-xs text-ocean-400 italic text-center",children:"No matching ports found"})})]})},LC=({onBack:e,onSaveSuccess:t,currentUser:n,initialData:o,isResponseMode:r=!1})=>{const[i,a]=N.useState(1),[d,u]=N.useState("GENERAL"),[f,p]=N.useState("GLOBAL"),[h,m]=N.useState(""),[y,w]=N.useState(""),[E,j]=N.useState(""),[v,g]=N.useState("20 Feet Box"),[x,b]=N.useState(""),[C,A]=N.useState(1),[I,T]=N.useState("Container"),[R,_]=N.useState(""),[P,L]=N.useState(!1),[O,M]=N.useState(""),[U,S]=N.useState(""),[B,k]=N.useState([]),[H,G]=N.useState([]),[K,W]=N.useState([]),he=An.getParties(),ee=DC();N.useEffect(()=>{const D=pe.getPorts().map(Ce=>`${Ce.name} (${Ce.shortName})`),Q=pe.getLoadTypes().map(Ce=>Ce.loadType),ce=pe.getMatrices().map(Ce=>Ce.name);k(D),G(Q),W(ce)},[]),N.useEffect(()=>{o&&(u(o.inquiryType),p(o.inquiryGroup),m(o.targetPartyId||""),w(o.pol),j(o.pod),g(o.loadType),b(o.cargoDetail),A(o.quantity),T(o.matrix),_(o.shipmentSchedule),L(o.isHazardous),M(o.hazardousDetail||""))},[o]),N.useEffect(()=>{!r&&!o&&(p(d==="GENERAL"?"GLOBAL":"NETWORK_PARTY"),m(""))},[d,r,o]);const Be=()=>d==="SPECIFIC"&&!h&&!(o!=null&&o.targetPartyDisplay)?(alert("Please select a Target Party."),!1):y.trim()?E.trim()?!0:(alert("Please select Port of Discharge (POD)."),!1):(alert("Please select Port of Loading (POL)."),!1),ne=()=>{Be()&&a(2)},Me=D=>{D.preventDefault();const Q=new Date().toISOString().split("T")[0],ce=lt.getInquiries().filter(Le=>Le.createdBy===(n.email||"main")&&Le.createdAt.startsWith(Q)).length,Ce=Fe.getPermission(n.plan).maxDailyTransactions;if(ce>=Ce){alert(`Daily limit of ${Ce} inquiries reached for your ${n.plan} plan.`);return}let De=(o==null?void 0:o.targetPartyName)||"",V=(o==null?void 0:o.targetUserName)||"";if(!r||!De&&h){if(f==="INTERNAL_PARTY"){const Le=he.find(pt=>pt.id===h);Le&&(De=Le.companyName,V=`${Le.contactPerson} (${Le.designation})`)}else if(f==="NETWORK_PARTY"){const Le=If.find(pt=>pt.id===h);Le&&(De=Le.company,V=`${Le.name} (${Le.designation})`)}}r&&(o!=null&&o.targetPartyDisplay)&&(De||(De=o.targetPartyName||"Unknown"),V||(V=o.targetUserName||"Unknown"));const Y=n.isMainUser!==!1?"main":n.email||"main",re={id:Date.now().toString(),inquiryNumber:lt.generateInquiryNumber(),inquiryType:d,inquiryGroup:f,targetPartyId:d==="SPECIFIC"?h:void 0,targetPartyName:De,targetUserName:V,targetPartyDisplay:V?`${V} - ${De}`:o==null?void 0:o.targetPartyDisplay,pol:y,pod:E,loadType:v,cargoDetail:x,quantity:C,matrix:I,shipmentSchedule:R,shipmentScheduleEnd:"",isHazardous:P,hazardousDetail:P?O:void 0,validUntil:U,status:"LIVE",createdAt:new Date().toISOString(),createdBy:Y};lt.saveInquiry(re),t()},X=r;return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-indigo-600/20 rounded-lg text-indigo-400",children:s.jsx(le,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:r?"Send Inquiry against Offer":"Create New Inquiry"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar flex justify-center",children:s.jsxs("div",{className:"w-full max-w-4xl bg-ocean-900/40 border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${i>=1?"text-indigo-400":"text-ocean-600"}`,children:"Step 1: Scope & Route"}),s.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${i>=2?"text-indigo-400":"text-ocean-600"}`,children:"Step 2: Cargo Details"})]}),s.jsx("div",{className:"w-full h-2 bg-ocean-950 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300 ease-in-out",style:{width:i===1?"50%":"100%"}})})]}),s.jsxs("form",{onSubmit:Me,className:"space-y-8",children:[i===1&&s.jsx("div",{className:"animate-fade-in-up",children:s.jsxs("div",{className:"bg-black/20 p-5 rounded-xl border border-white/5 space-y-4",children:[s.jsxs("h3",{className:"text-white font-bold flex items-center border-b border-white/10 pb-2",children:[s.jsx(Ke,{className:"w-4 h-4 mr-2 text-indigo-400"})," Inquiry Scope & Route",X&&s.jsxs("span",{className:"ml-2 text-xs text-rose-400 font-normal italic flex items-center",children:[s.jsx(Ee,{className:"w-3 h-3 mr-1"})," (Locked to Offer)"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Inquiry Type"}),s.jsxs("div",{className:"flex bg-ocean-950 rounded-lg p-1 border border-ocean-700 h-[38px]",children:[s.jsx("button",{type:"button",disabled:X,onClick:()=>u("GENERAL"),className:`flex-1 text-xs font-medium rounded-md transition-all ${d==="GENERAL"?"bg-indigo-600 text-white shadow":"text-ocean-400 hover:text-white"} ${X?"opacity-50 cursor-not-allowed":""}`,children:"General"}),s.jsx("button",{type:"button",disabled:X,onClick:()=>u("SPECIFIC"),className:`flex-1 text-xs font-medium rounded-md transition-all ${d==="SPECIFIC"?"bg-indigo-600 text-white shadow":"text-ocean-400 hover:text-white"} ${X?"opacity-50 cursor-not-allowed":""}`,children:"Specific"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Inquiry Group"}),s.jsx("select",{disabled:X,value:f,onChange:D=>p(D.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 text-white focus:ring-2 focus:ring-indigo-500 outline-none h-[38px] text-xs ${X?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,children:d==="GENERAL"?s.jsxs(s.Fragment,{children:[" ",s.jsx("option",{value:"GLOBAL",children:"Global"})," ",s.jsx("option",{value:"NETWORK",children:"My Network (All)"})," "]}):s.jsxs(s.Fragment,{children:[" ",s.jsx("option",{value:"NETWORK_PARTY",children:"Network Party"})," ",s.jsx("option",{value:"INTERNAL_PARTY",children:"Internal Party"})," "]})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Send To"}),r?s.jsxs("div",{className:"w-full bg-ocean-900/30 border border-ocean-700 rounded-xl px-4 py-2.5 text-white flex items-center text-xs h-[38px] cursor-not-allowed",children:[s.jsx(we,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"}),s.jsx("span",{className:"font-semibold",children:(o==null?void 0:o.targetPartyDisplay)||"Offer Creator"}),s.jsx("span",{className:"ml-auto text-ocean-500 text-[10px] italic",children:"Locked"})]}):d==="GENERAL"?s.jsxs("div",{className:"w-full bg-ocean-800/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-ocean-300 italic flex items-center text-xs h-[38px]",children:[s.jsx(we,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"}),f==="GLOBAL"?"Broadcast to All Global Partners":"Broadcast to All My Network Connections"]}):s.jsxs("select",{required:!0,value:h,onChange:D=>m(D.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 text-white focus:ring-2 focus:ring-indigo-500 outline-none text-xs h-[38px]",children:[s.jsxs("option",{value:"",disabled:!0,children:["Select ",f==="NETWORK_PARTY"?"Network":"Internal"," Party"]}),f==="NETWORK_PARTY"?If.map(D=>s.jsxs("option",{value:D.id,children:[D.name," - ",D.company]},D.id)):he.map(D=>s.jsxs("option",{value:D.id,children:[D.contactPerson," - ",D.companyName]},D.id))]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx(jf,{label:"Port of Loading (POL)",value:y,onChange:w,options:B,iconColor:"text-emerald-500",disabled:X}),s.jsx(jf,{label:"Port of Discharge (POD)",value:E,onChange:j,options:B,iconColor:"text-rose-500",disabled:X})]})]})}),i===2&&s.jsx("div",{className:"animate-fade-in-up space-y-8",children:s.jsxs("div",{className:"bg-black/20 p-6 rounded-xl border border-white/5 space-y-6",children:[s.jsxs("h3",{className:"text-white font-bold flex items-center border-b border-white/10 pb-2",children:[s.jsx(St,{className:"w-4 h-4 mr-2 text-indigo-400"})," Cargo & Schedule",X&&s.jsxs("span",{className:"ml-2 text-xs text-rose-400 font-normal italic flex items-center",children:[s.jsx(Ee,{className:"w-3 h-3 mr-1"})," (Pre-filled from Offer)"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:["Load Type ",X&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsx("select",{disabled:X,value:v,onChange:D=>g(D.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500 outline-none ${X?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,children:H.map(D=>s.jsx("option",{value:D,children:D},D))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:["Quantity ",X&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsx("input",{type:"number",min:"1",required:!0,disabled:X,value:C,onChange:D=>A(parseInt(D.target.value)),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500 outline-none ${X?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:["Matrix ",X&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsx("select",{disabled:X,value:I,onChange:D=>T(D.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500 outline-none ${X?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,children:K.map(D=>s.jsx("option",{value:D,children:D},D))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:["Cargo Details ",X&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsx("textarea",{required:!0,rows:1,disabled:X,value:x,onChange:D=>b(D.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500 outline-none resize-none ${X?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,placeholder:"E.g. Rice Bags"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider flex items-center",children:[s.jsx(Ht,{className:"w-3 h-3 mr-1"})," Shipment Schedule ",X&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500 ml-2"})]}),s.jsxs("select",{required:!0,disabled:X,value:R,onChange:D=>_(D.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white text-xs focus:ring-2 focus:ring-indigo-500 outline-none ${X?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,children:[s.jsx("option",{value:"",disabled:!0,children:"Select Schedule"}),ee.map((D,Q)=>s.jsx("option",{value:D,children:D},Q))]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider flex items-center",children:["Hazardous ? ",X&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500 ml-2"})]}),s.jsxs("div",{className:`flex items-center space-x-4 bg-ocean-950 px-3 py-1 rounded-lg border border-ocean-700 ${X?"opacity-60 pointer-events-none":""}`,children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:!P,onChange:()=>L(!1),className:"text-indigo-500"}),s.jsx("span",{className:"text-sm text-white",children:"No"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:P,onChange:()=>L(!0),className:"text-indigo-500"}),s.jsx("span",{className:"text-sm text-white",children:"Yes"})]})]})]}),P&&s.jsxs("div",{className:"animate-fade-in-up",children:[s.jsxs("label",{className:"text-xs font-bold text-rose-400 uppercase tracking-wider flex items-center mb-2",children:[s.jsx(qs,{className:"w-3 h-3 mr-1"})," Hazardous Details"]}),s.jsx("textarea",{required:!0,rows:2,disabled:X,value:O,onChange:D=>M(D.target.value),className:`w-full bg-rose-950/10 border border-rose-900/50 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-rose-500 outline-none resize-none ${X?"opacity-60 cursor-not-allowed":""}`,placeholder:"UN Number, Class, etc..."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase tracking-wider flex items-center",children:[s.jsx(kn,{className:"w-3 h-3 mr-1"})," Valid Upto"]}),s.jsx("input",{type:"date",required:!0,value:U,onChange:D=>S(D.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-indigo-500 outline-none"})]})]})]})}),s.jsxs("div",{className:"pt-4 flex justify-between items-center border-t border-white/10 mt-6",children:[s.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 text-ocean-300 hover:text-white transition-colors",children:"Cancel"}),s.jsxs("div",{className:"flex space-x-3",children:[i===2&&s.jsxs("button",{type:"button",onClick:()=>a(1),className:"px-6 py-3 bg-ocean-800 hover:bg-ocean-700 text-white font-bold rounded-xl shadow-lg flex items-center transition-all",children:[s.jsx(yc,{className:"w-4 h-4 mr-2"})," Back"]}),i===1?s.jsxs("button",{type:"button",onClick:ne,className:"px-8 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg flex items-center transition-all",children:["Next Step ",s.jsx(Hs,{className:"w-4 h-4 ml-2"})]}):s.jsxs("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-lg flex items-center transition-all",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"})," ",r?"Send Inquiry":"Save Inquiry"]})]})]})]})]})})]})},UC=({onBack:e,onCreateNew:t,currentUser:n,onViewProfile:o})=>{const[r,i]=N.useState([]),[a,d]=N.useState([]),[u,f]=N.useState(""),[p,h]=N.useState("LIVE"),[m,y]=N.useState("ME"),[w,E]=N.useState([]),[j,v]=N.useState(!1),g=N.useRef(null),x=te.getSubUsers();N.useEffect(()=>{b();const T=setInterval(()=>{const R=lt.getInquiries();i(R)},6e4);return()=>clearInterval(T)},[]),N.useEffect(()=>{r.length>0&&C()},[r]),N.useEffect(()=>{const T=R=>{if(w.length===0)return;const _=R.target;!_.closest("tr")&&g.current&&!g.current.contains(_)&&E([])};return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[w]);const b=()=>{i(lt.getInquiries())},C=()=>{v(!0),setTimeout(()=>{const T=r.filter(R=>{const _=R.inquiryNumber.toLowerCase().includes(u.toLowerCase())||R.cargoDetail.toLowerCase().includes(u.toLowerCase())||R.pol.toLowerCase().includes(u.toLowerCase())||R.pod.toLowerCase().includes(u.toLowerCase()),P=p==="ALL"||R.status===p;let L=!0;return n.isMainUser!==!1?m==="ME"?L=R.createdBy==="main"||!R.createdBy:m!=="ALL"&&(L=R.createdBy===m):L=R.createdBy===n.email,_&&P&&L});d(T),v(!1)},300)},A=T=>{if(window.confirm("Are you sure you want to suspend this inquiry manually?")){lt.suspendInquiry(T);const R=lt.getInquiries();i(R),d(_=>_.map(P=>P.id===T?{...P,status:"SUSPENDED"}:P))}},I=(T,R)=>{R&&R.stopPropagation(),E(_=>_.includes(T)?_.filter(P=>P!==T):[..._,T])};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-indigo-600/20 rounded-lg text-indigo-400",children:s.jsx(Ke,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"My Inquiries"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col xl:flex-row justify-between gap-4 bg-white/5 p-4 rounded-2xl border border-white/10 shadow-lg",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full",children:[s.jsxs("div",{className:"relative flex-1 w-full max-w-sm",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Inquiries...",value:u,onChange:T=>f(T.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all"})]}),s.jsx("div",{className:"flex items-center space-x-2 bg-ocean-950/50 rounded-lg p-1 border border-ocean-700",children:["ALL","LIVE","EXPIRED","SUSPENDED"].map(T=>s.jsx("button",{onClick:()=>h(T),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${p===T?"bg-indigo-600 text-white":"text-ocean-400 hover:text-white"}`,children:T},T))}),n.isMainUser!==!1&&s.jsxs("select",{className:"bg-ocean-950/50 border border-ocean-700 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none w-full sm:w-auto",value:m,onChange:T=>y(T.target.value),children:[s.jsx("option",{value:"ME",children:"My Data (Main)"}),s.jsx("option",{value:"ALL",children:"All Users"}),x.map(T=>s.jsx("option",{value:T.id,children:T.fullName},T.id))]}),s.jsx("button",{onClick:C,disabled:j,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2 rounded-lg font-bold shadow-lg transition-all flex items-center shadow-emerald-900/20 disabled:opacity-50 disabled:cursor-wait",children:j?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]}),s.jsxs("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-xl font-medium flex items-center shadow-lg transition-all w-full xl:w-auto justify-center whitespace-nowrap",children:[s.jsx($t,{className:"w-4 h-4 mr-2"})," Create Inquiry"]})]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden shadow-xl",ref:g,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Route (POL - POD)"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Load & Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[15%]",children:"Cargo (Qty/Unit)"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Target / Send To"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right w-[15%]",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:a.length>0?a.map(T=>{const R=w.includes(T.id);return s.jsxs(on.Fragment,{children:[s.jsxs("tr",{className:`hover:bg-white/5 transition-colors group ${R?"bg-white/5":""}`,onClick:()=>I(T.id),children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col space-y-1.5",children:[s.jsxs("span",{className:"flex items-center text-white text-sm font-bold truncate",title:T.pol,children:[s.jsx(be,{className:"w-3.5 h-3.5 mr-2 text-emerald-400 shrink-0"})," ",T.pol.split("(")[0]]}),s.jsxs("span",{className:"flex items-center text-white text-sm font-bold truncate",title:T.pod,children:[s.jsx(be,{className:"w-3.5 h-3.5 mr-2 text-rose-400 shrink-0"})," ",T.pod.split("(")[0]]})]})}),s.jsxs("td",{className:"px-6 py-4 align-top",children:[s.jsx("div",{className:"mb-2 text-xs font-medium text-white",children:T.loadType}),s.jsxs("div",{children:[T.status==="LIVE"&&s.jsxs("span",{className:"inline-flex items-center text-emerald-400 text-[10px] font-bold px-2 py-0.5 bg-emerald-900/20 border border-emerald-900/50 rounded-full",children:[s.jsx(we,{className:"w-3 h-3 mr-1"})," LIVE"]}),T.status==="EXPIRED"&&s.jsxs("span",{className:"inline-flex items-center text-ocean-400 text-[10px] font-bold px-2 py-0.5 bg-ocean-800/20 border border-ocean-800/50 rounded-full",children:[s.jsx(Ht,{className:"w-3 h-3 mr-1"})," EXPIRED"]}),T.status==="SUSPENDED"&&s.jsxs("span",{className:"inline-flex items-center text-rose-400 text-[10px] font-bold px-2 py-0.5 bg-rose-900/20 border border-rose-900/50 rounded-full",children:[s.jsx(nh,{className:"w-3 h-3 mr-1"})," SUSPENDED"]})]})]}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xl font-bold text-white",children:T.quantity}),s.jsx("span",{className:"text-xs text-ocean-400 uppercase tracking-wider",children:T.matrix})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:T.inquiryType==="SPECIFIC"?T.targetUserName?s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-white font-medium text-xs",children:T.targetUserName}),s.jsx("span",{className:"text-cyan-400 font-medium text-[11px] mt-0.5",children:T.targetPartyName})]}):s.jsx("div",{className:"text-cyan-400 font-medium text-[11px]",children:T.targetPartyDisplay}):s.jsx("span",{className:"text-xs text-ocean-400 italic",children:T.inquiryGroup==="GLOBAL"?"Broadcast to All Partners":"Broadcast to My Network"})}),s.jsx("td",{className:"px-6 py-4 text-right align-top",children:s.jsxs("div",{className:"flex flex-col items-end gap-2",onClick:_=>_.stopPropagation(),children:[T.status==="LIVE"&&s.jsx("button",{onClick:_=>{_.stopPropagation(),A(T.id)},className:"text-[10px] text-rose-400 hover:text-white border border-rose-900/50 hover:bg-rose-900/50 px-2 py-1 rounded transition-all",children:"Suspend"}),s.jsxs("button",{onClick:_=>I(T.id,_),className:"text-xs flex items-center text-indigo-400 hover:text-white font-medium transition-colors mt-1",children:[R?"See Less":"See More",R?s.jsx(ns,{className:"w-3 h-3 ml-1"}):s.jsx(ot,{className:"w-3 h-3 ml-1"})]})]})})]}),R&&s.jsx("tr",{className:"bg-ocean-900/30 border-b border-white/5 animate-fade-in-up",onClick:_=>_.stopPropagation(),children:s.jsx("td",{colSpan:5,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-xs",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Inquiry Reference"}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx($s,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"}),s.jsx("span",{className:"text-white font-mono font-bold text-sm",children:T.inquiryNumber})]}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pt,{className:"w-3.5 h-3.5 mr-2 text-ocean-500"}),s.jsx("span",{className:"px-1.5 py-0.5 bg-ocean-800 rounded text-[10px] text-ocean-300 border border-ocean-700",children:T.inquiryType})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3.5 h-3.5 mr-2"}),s.jsx("span",{className:"px-1.5 py-0.5 bg-indigo-900/50 rounded text-[10px] text-indigo-300 border border-indigo-800/50",children:T.inquiryGroup})]})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Cargo Description"}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Je,{className:"w-3.5 h-3.5 mr-2 text-indigo-400 shrink-0 mt-0.5"}),s.jsx("p",{className:"text-white text-sm font-medium leading-relaxed",children:T.cargoDetail})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Schedule & Validity"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ht,{className:"w-3.5 h-3.5 mr-2 text-indigo-400 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-ocean-300 text-[10px]",children:"Shipment Schedule"}),s.jsx("span",{className:"text-white font-bold",children:T.shipmentSchedule})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(kn,{className:"w-3.5 h-3.5 mr-2 text-indigo-400 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-ocean-300 text-[10px]",children:"Valid Upto"}),s.jsx("span",{className:"text-white",children:T.validUntil})]})]})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Hazardous Info"}),T.isHazardous?s.jsxs("div",{className:"bg-rose-900/20 border border-rose-900/40 p-2 rounded-lg",children:[s.jsxs("span",{className:"flex items-center text-rose-400 font-bold mb-1",children:[s.jsx(qs,{className:"w-3.5 h-3.5 mr-1"})," YES - HAZARDOUS"]}),s.jsx("p",{className:"text-ocean-200 italic",children:T.hazardousDetail||"No details provided"})]}):s.jsxs("div",{className:"flex items-center text-emerald-400 font-medium py-2",children:[s.jsx(we,{className:"w-3.5 h-3.5 mr-2"})," Non-Hazardous Cargo"]})]})]})})})]},T.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(Ke,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No inquiries found matching criteria. Click GO to refresh."})]})})})})]})})})]})})]})},_f={exp_01:{name:"Rajesh Kumar",designation:"Export Manager",company:"Royal Exports Ltd",email:"rajesh@royalexports.com",mobile:"+91 98700 12345",city:"Mumbai",role:"Shipper / Exporter"},exp_02:{name:"Li Wei",designation:"Logistics Head",company:"Shanghai Trading Co",email:"li.wei@shanghaitrade.cn",mobile:"+86 138 0000 0000",city:"Shanghai",role:"Forwarder / Agent"},main:{name:"Demo User",designation:"Manager",company:"My Company",email:"demo@mycompany.com",mobile:"9999999999",city:"London",role:"Admin"}},FC=()=>{const e=[];let t=new Date;for(;e.length<12;){const n=t.getDate(),o=t.toLocaleString("default",{month:"short"}).toUpperCase(),r=t.getFullYear().toString().slice(-2);let i="";n<=7?i="1ST":n<=14?i="2ND":n<=21?i="3RD":i="LAST";const a=`${i}-WEEK-${o}-${r}`;(e.length===0||e[e.length-1]!==a)&&e.push(a),t.setDate(t.getDate()+7)}return e},kf=({placeholder:e,value:t,onChange:n,iconColor:o,options:r})=>{const[i,a]=N.useState(!1),d=r.filter(u=>u.toLowerCase().includes(t.toLowerCase()));return s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"absolute left-3 top-3 pointer-events-none",children:s.jsx(be,{className:`w-4 h-4 ${o}`})}),s.jsx("input",{type:"text",value:t,onChange:u=>{n(u.target.value),a(!0)},onFocus:()=>a(!0),onBlur:()=>setTimeout(()=>a(!1),200),placeholder:e,className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white placeholder-ocean-500 focus:ring-2 focus:ring-cyan-500 outline-none font-medium"}),i&&d.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-ocean-900 border border-ocean-700 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto custom-scrollbar",children:d.map((u,f)=>s.jsx("div",{onClick:()=>n(u),className:"px-4 py-2 hover:bg-ocean-800 text-ocean-100 cursor-pointer text-sm",children:u},f))})]})},VC=({onBack:e,currentUser:t,onReplyWithOffer:n,onViewProfile:o})=>{const[r,i]=N.useState("GLOBAL"),[a,d]=N.useState(""),[u,f]=N.useState(""),[p,h]=N.useState(""),[m,y]=N.useState(""),[w,E]=N.useState([]),[j,v]=N.useState(!1),[g,x]=N.useState([]),b=N.useRef(null),[C,A]=N.useState([]),[I,T]=N.useState([]),R=FC(),_=te.getSubUsers();N.useEffect(()=>{A(pe.getPorts().map(S=>`${S.name} (${S.shortName})`)),T(pe.getLoadTypes().map(S=>S.loadType))},[]),N.useEffect(()=>{const S=B=>{if(g.length===0)return;const k=B.target;b.current&&!b.current.contains(k)&&x([])};return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[g]);const P=()=>{v(!0);const B=lt.getInquiries().filter(k=>{const H=r==="GLOBAL"?k.inquiryGroup==="GLOBAL":k.inquiryGroup==="NETWORK"||k.inquiryGroup==="NETWORK_PARTY",G=!a||k.pol.toLowerCase().includes(a.toLowerCase()),K=!u||k.pod.toLowerCase().includes(u.toLowerCase()),W=!p||k.loadType===p,he=!m||k.shipmentSchedule===m,ee=k.status==="LIVE";return H&&G&&K&&W&&he&&ee});E(B)},L=(S,B)=>{B.stopPropagation(),x(k=>k.includes(S)?k.filter(H=>H!==S):[...k,S])},O=S=>{if(_f[S])return _f[S];const B=_.find(k=>k.id===S||k.email===S);return B?{name:B.fullName,designation:B.designation,company:t.companyName||"Company",email:B.email,mobile:B.mobile,role:B.role,photoBase64:B.photoBase64}:S===t.email||S==="main"&&t.isMainUser?{name:t.fullName,designation:t.designation,company:t.companyName,email:t.email,mobile:t.mobile,role:t.role,photoBase64:t.photoBase64}:{name:"Unknown User",designation:"Agent",company:"Logistics Partner",role:"Partner"}},M=(S,B)=>{S.stopPropagation();const k=O(B.createdBy);n(B,{name:k.name,company:k.company})},U=(S,B)=>{if(S.stopPropagation(),o){const k=O(B);o({fullName:k.name,companyName:k.company,designation:k.designation,email:k.email,mobile:k.mobile,role:k.role,photoBase64:k.photoBase64,address:k.city})}};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-cyan-600/20 rounded-lg text-cyan-400",children:s.jsx(Mt,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Explore Inquiries"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-ocean-900 to-ocean-800 rounded-2xl p-6 border border-white/10 shadow-2xl relative",children:[s.jsx("div",{className:"absolute top-4 left-0 right-0 text-center",children:s.jsx("h2",{className:"text-white/20 text-4xl font-black uppercase tracking-widest select-none pointer-events-none",children:"Explore Inquiry"})}),s.jsx("div",{className:"flex justify-center mb-6 relative z-10 mt-12",children:s.jsxs("div",{className:"bg-ocean-950 p-1 rounded-xl inline-flex border border-ocean-700",children:[s.jsxs("button",{onClick:()=>i("GLOBAL"),className:`px-6 py-2 rounded-lg text-sm font-bold flex items-center transition-all ${r==="GLOBAL"?"bg-cyan-600 text-white shadow-lg":"text-ocean-400 hover:text-white"}`,children:[s.jsx(Mt,{className:"w-4 h-4 mr-2"})," Global Market"]}),s.jsxs("button",{onClick:()=>i("NETWORK"),className:`px-6 py-2 rounded-lg text-sm font-bold flex items-center transition-all ${r==="NETWORK"?"bg-cyan-600 text-white shadow-lg":"text-ocean-400 hover:text-white"}`,children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"})," My Network"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end relative z-10",children:[s.jsxs("div",{className:"md:col-span-5 grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider pl-1",children:"Origin (POL)"}),s.jsx(kf,{placeholder:"From",value:a,onChange:d,iconColor:"text-emerald-400",options:C})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider pl-1",children:"Destination (POD)"}),s.jsx(kf,{placeholder:"To",value:u,onChange:f,iconColor:"text-rose-400",options:C})]})]}),s.jsxs("div",{className:"md:col-span-3 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider pl-1",children:"Load Type"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ke,{className:"absolute left-3 top-3 w-4 h-4 text-cyan-400 pointer-events-none"}),s.jsxs("select",{value:p,onChange:S=>h(S.target.value),className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-cyan-500 outline-none appearance-none font-medium cursor-pointer",children:[s.jsx("option",{value:"",children:"Any Load Type"}),I.map(S=>s.jsx("option",{value:S,children:S},S))]}),s.jsx(ot,{className:"absolute right-3 top-3.5 w-4 h-4 text-ocean-500 pointer-events-none"})]})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider pl-1",children:"Shipment Schedule"}),s.jsxs("div",{className:"relative",children:[s.jsx(kn,{className:"absolute left-3 top-3 w-4 h-4 text-cyan-400 pointer-events-none"}),s.jsxs("select",{value:m,onChange:S=>y(S.target.value),className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-cyan-500 outline-none font-medium text-sm appearance-none",children:[s.jsx("option",{value:"",children:"Any Schedule"}),R.map((S,B)=>s.jsx("option",{value:S,children:S},B))]}),s.jsx(ot,{className:"absolute right-3 top-3.5 w-4 h-4 text-ocean-500 pointer-events-none"})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("button",{onClick:P,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-3 px-6 rounded-xl shadow-lg transform transition-all hover:scale-[1.02] flex items-center justify-center",children:[s.jsx(le,{className:"w-5 h-5 mr-2"})," Search"]})})]})]}),j&&s.jsxs("div",{className:"animate-fade-in-up",ref:b,children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[s.jsx(Pt,{className:"w-5 h-5 mr-2 text-cyan-400"})," Search Results (",w.length,")"]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden shadow-xl",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Route Info"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[15%]",children:"Load Details"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Schedule"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Posted By"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right w-[15%]",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:w.length>0?w.map(S=>{const B=g.includes(S.id),k=O(S.createdBy);return s.jsxs(on.Fragment,{children:[s.jsxs("tr",{className:`hover:bg-white/5 transition-colors cursor-pointer ${B?"bg-white/5":""}`,onClick:H=>L(S.id,H),children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center text-white font-bold text-sm",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 mr-2 shrink-0"})," ",S.pol.split("(")[0]]}),s.jsx("div",{className:"border-l border-dashed border-ocean-600 h-3 ml-1"}),s.jsxs("div",{className:"flex items-center text-white font-bold text-sm",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500 mr-2 shrink-0"})," ",S.pod.split("(")[0]]})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-white font-bold text-lg",children:[S.quantity," ",s.jsx("span",{className:"text-sm font-medium text-ocean-300",children:S.matrix})]}),s.jsxs("div",{className:"flex items-center mt-1 text-white font-medium text-sm",children:[s.jsx(St,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"})," ",S.loadType]})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex items-center text-ocean-200",children:[s.jsx(kn,{className:"w-4 h-4 mr-2 text-ocean-500 shrink-0"}),s.jsx("span",{className:"font-bold",children:S.shipmentSchedule})]})}),s.jsx("td",{className:"px-6 py-4 align-top",onClick:H=>U(H,S.createdBy),children:s.jsxs("div",{className:"flex flex-col group/user",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ct,{className:"w-3.5 h-3.5 mr-2 text-ocean-400 shrink-0 group-hover/user:text-white"}),s.jsxs("span",{className:"text-white font-bold text-sm group-hover/user:underline decoration-dotted decoration-ocean-500 underline-offset-4",children:[k.name," ",s.jsxs("span",{className:"text-ocean-400 font-normal text-xs group-hover/user:text-ocean-300",children:["(",k.designation,")"]})]})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Je,{className:"w-3.5 h-3.5 mr-2 text-ocean-400 shrink-0"}),s.jsx("span",{className:"text-cyan-400 text-xs font-semibold",children:k.company})]})]})}),s.jsxs("td",{className:"px-6 py-4 text-right align-top",children:[s.jsxs("button",{className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg text-xs font-bold shadow-lg shadow-emerald-900/20 transition-all hover:scale-105 inline-flex items-center",onClick:H=>M(H,S),children:[s.jsx(ki,{className:"w-3 h-3 mr-1.5"})," Send Offer"]}),s.jsx("div",{className:"mt-2 flex justify-end",children:B?s.jsx(ns,{className:"w-4 h-4 text-ocean-500"}):s.jsx(ot,{className:"w-4 h-4 text-ocean-500"})})]})]}),B&&s.jsx("tr",{className:"bg-ocean-900/30 border-b border-white/5 animate-fade-in-up cursor-default",onClick:H=>H.stopPropagation(),children:s.jsx("td",{colSpan:5,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-xs",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Reference"}),s.jsxs("div",{className:"flex items-center text-white font-mono font-bold",children:[s.jsx($s,{className:"w-3.5 h-3.5 mr-2 text-cyan-400"})," ",S.inquiryNumber]}),s.jsxs("div",{className:"mt-2 text-ocean-400",children:["Valid Upto: ",s.jsx("span",{className:"text-white",children:S.validUntil})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Scope"}),S.inquiryType==="GENERAL"?s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-cyan-900/30 text-cyan-400 text-[10px] rounded border border-cyan-900/50 w-fit",children:"Global"}):s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-indigo-900/30 text-indigo-400 text-[10px] rounded border border-indigo-900/50 w-fit",children:"Network"})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Cargo Details"}),s.jsx("div",{className:"flex items-start",children:s.jsx("p",{className:"text-white text-sm",children:S.cargoDetail})})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Hazardous Info"}),S.isHazardous?s.jsxs("div",{className:"bg-rose-900/20 border border-rose-900/40 p-2 rounded-lg",children:[s.jsxs("span",{className:"flex items-center text-rose-400 font-bold mb-1",children:[s.jsx(qs,{className:"w-3.5 h-3.5 mr-1"})," YES - HAZARDOUS"]}),s.jsx("p",{className:"text-ocean-200 italic",children:S.hazardousDetail||"No details provided"})]}):s.jsxs("div",{className:"flex items-center text-emerald-400 font-medium py-2",children:[s.jsx(we,{className:"w-3.5 h-3.5 mr-2"})," Non-Hazardous Cargo"]})]})]})})})]},S.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(le,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No inquiries found matching your criteria."})]})})})})]})})})]})]})})]})},Af={exp_01:{name:"Rajesh Kumar",designation:"Export Manager",company:"Royal Exports Ltd",email:"rajesh@royal.com",mobile:"9876543210",city:"Mumbai",role:"Shipper"},exp_02:{name:"Li Wei",designation:"Logistics Head",company:"Shanghai Trading Co",email:"li@shanghai.cn",mobile:"13988887777",city:"Shanghai",role:"Agent"},main:{name:"Demo User",designation:"Manager",company:"My Company",email:"demo@myco.com",mobile:"555-1234",city:"London",role:"Admin"}},GC=({onBack:e,currentUser:t,onReplyWithOffer:n,onViewProfile:o})=>{const[r,i]=N.useState([]),[a,d]=N.useState([]),[u,f]=N.useState([]),[p,h]=N.useState("LIVE"),[m,y]=N.useState("ME"),[w,E]=N.useState(""),[j,v]=N.useState(!1),g=N.useRef(null),x=te.getSubUsers();N.useEffect(()=>{b()},[]),N.useEffect(()=>{r.length>0&&C()},[r]);const b=()=>{const L=lt.getInquiries().filter(O=>{if(O.inquiryType!=="SPECIFIC")return!1;const M=O.targetPartyName||"",U=O.targetUserName||"",S=t.companyName||"My Company";return M.toLowerCase().includes(S.toLowerCase())||U.toLowerCase().includes(t.fullName.toLowerCase())});i(L)},C=()=>{v(!0),setTimeout(()=>{const P=r.filter(L=>{var S,B;const O=p==="ALL"||L.status===p;let M=!0;if(t.isMainUser!==!1)if(m==="ME")M=((S=L.targetUserName)==null?void 0:S.includes(t.fullName))||!1;else if(m==="ALL")M=!0;else{const k=x.find(H=>H.id===m);k&&(M=((B=L.targetUserName)==null?void 0:B.includes(k.fullName))||!1)}else M=!0;const U=L.inquiryNumber.toLowerCase().includes(w.toLowerCase())||L.pol.toLowerCase().includes(w.toLowerCase())||L.pod.toLowerCase().includes(w.toLowerCase());return O&&M&&U});d(P),v(!1)},300)},A=(P,L)=>{L.stopPropagation(),window.confirm("Are you sure you want to decline this inquiry?")&&(lt.updateStatus(P,"REJECTED"),b())},I=P=>{if(Af[P])return Af[P];const L=x.find(O=>O.id===P||O.email===P);return L?{name:L.fullName,designation:L.designation,company:t.companyName||"Company",email:L.email,mobile:L.mobile,photoBase64:L.photoBase64,role:L.role}:P===t.email||P==="main"&&t.isMainUser?{name:t.fullName,designation:t.designation,company:t.companyName,email:t.email,mobile:t.mobile,photoBase64:t.photoBase64,role:t.role}:{name:"Unknown User",designation:"Agent",company:"Logistics Partner"}},T=(P,L)=>{L.stopPropagation();const O=I(P.createdBy);n(P,{name:O.name,company:O.company})},R=(P,L)=>{if(P.stopPropagation(),o){const O=I(L);o({fullName:O.name,companyName:O.company,designation:O.designation,email:O.email,mobile:O.mobile,role:O.role,photoBase64:O.photoBase64,address:O.city})}};N.useEffect(()=>{const P=L=>{if(u.length===0)return;const O=L.target;g.current&&!g.current.contains(O)&&f([])};return document.addEventListener("click",P),()=>document.removeEventListener("click",P)},[u]);const _=(P,L)=>{L.stopPropagation(),f(O=>O.includes(P)?O.filter(M=>M!==P):[...O,P])};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-indigo-600/20 rounded-lg text-indigo-400",children:s.jsx(Ke,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Received Inquiries"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col xl:flex-row justify-between gap-4 bg-white/5 p-4 rounded-2xl border border-white/10 shadow-lg",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full",children:[s.jsxs("div",{className:"relative flex-1 w-full max-w-sm",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Received Inquiries...",value:w,onChange:P=>E(P.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all"})]}),s.jsx("div",{className:"flex items-center space-x-2 bg-ocean-950/50 rounded-lg p-1 border border-ocean-700 overflow-x-auto",children:["ALL","LIVE","EXPIRED","REJECTED"].map(P=>s.jsx("button",{onClick:()=>h(P),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${p===P?"bg-indigo-600 text-white":"text-ocean-400 hover:text-white"}`,children:P},P))}),t.isMainUser!==!1&&s.jsxs("select",{className:"bg-ocean-950/50 border border-ocean-700 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none w-full sm:w-auto",value:m,onChange:P=>y(P.target.value),children:[s.jsx("option",{value:"ME",children:"Received by Me"}),s.jsx("option",{value:"ALL",children:"All Recipients"}),x.map(P=>s.jsx("option",{value:P.id,children:P.fullName},P.id))]}),s.jsx("button",{onClick:C,disabled:j,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2 rounded-lg font-bold shadow-lg transition-all flex items-center shadow-emerald-900/20 disabled:opacity-50",children:j?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden shadow-xl",ref:g,children:s.jsx("div",{className:"overflow-x-auto",style:{minHeight:"200px"},children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Route Info"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[15%]",children:"Load Details"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Schedule"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Sender"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right w-[20%]",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:a.length>0?a.map(P=>{const L=u.includes(P.id),O=I(P.createdBy);return s.jsxs(on.Fragment,{children:[s.jsxs("tr",{className:`hover:bg-white/5 transition-colors cursor-pointer ${L?"bg-white/5":""}`,onClick:M=>_(P.id,M),children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center text-white font-bold text-sm",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 mr-2 shrink-0"})," ",P.pol.split("(")[0]]}),s.jsx("div",{className:"border-l border-dashed border-ocean-600 h-3 ml-1"}),s.jsxs("div",{className:"flex items-center text-white font-bold text-sm",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500 mr-2 shrink-0"})," ",P.pod.split("(")[0]]})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-white font-bold text-lg",children:[P.quantity," ",s.jsx("span",{className:"text-sm font-medium text-ocean-300",children:P.matrix})]}),s.jsxs("div",{className:"flex items-center mt-1 text-white font-medium text-sm",children:[s.jsx(St,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"})," ",P.loadType]}),P.status==="REJECTED"&&s.jsx("span",{className:"text-[10px] text-rose-400 font-bold mt-1 uppercase border border-rose-900 px-1 rounded bg-rose-900/20 w-fit",children:"Declined"})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex items-center text-ocean-200",children:[s.jsx(kn,{className:"w-4 h-4 mr-2 text-ocean-500 shrink-0"}),s.jsx("span",{className:"font-bold",children:P.shipmentSchedule})]})}),s.jsx("td",{className:"px-6 py-4 align-top",onClick:M=>R(M,P.createdBy),children:s.jsxs("div",{className:"flex flex-col group/user",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ct,{className:"w-3.5 h-3.5 mr-2 text-ocean-400 shrink-0 group-hover/user:text-white"}),s.jsx("span",{className:"text-white font-bold text-sm group-hover/user:underline decoration-dotted decoration-ocean-500 underline-offset-4",children:O.name})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Je,{className:"w-3.5 h-3.5 mr-2 text-ocean-400 shrink-0"}),s.jsx("span",{className:"text-cyan-400 text-xs font-semibold",children:O.company})]})]})}),s.jsxs("td",{className:"px-6 py-4 text-right align-top",children:[P.status==="LIVE"?s.jsxs("div",{className:"flex flex-col space-y-2 items-end",children:[s.jsxs("button",{className:"bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-1.5 rounded-lg text-xs font-bold shadow-lg shadow-emerald-900/20 transition-all hover:scale-105 inline-flex items-center",onClick:M=>T(P,M),children:[s.jsx(ki,{className:"w-3 h-3 mr-1.5"})," Send Offer"]}),s.jsxs("button",{className:"text-rose-400 hover:text-white border border-rose-900/40 hover:bg-rose-900/40 px-3 py-1.5 rounded-lg text-xs font-bold transition-all inline-flex items-center",onClick:M=>A(P.id,M),children:[s.jsx(zs,{className:"w-3 h-3 mr-1.5"})," Decline"]})]}):s.jsx("div",{className:"text-xs text-ocean-500 italic text-right mt-2",children:"No Actions"}),s.jsx("div",{className:"mt-2 flex justify-end",children:L?s.jsx(ns,{className:"w-4 h-4 text-ocean-500"}):s.jsx(ot,{className:"w-4 h-4 text-ocean-500"})})]})]}),L&&s.jsx("tr",{className:"bg-ocean-900/30 border-b border-white/5 animate-fade-in-up cursor-default",onClick:M=>M.stopPropagation(),children:s.jsx("td",{colSpan:5,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-xs",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Reference"}),s.jsxs("div",{className:"flex items-center text-white font-mono font-bold",children:[s.jsx($s,{className:"w-3.5 h-3.5 mr-2 text-cyan-400"})," ",P.inquiryNumber]}),s.jsxs("div",{className:"mt-2 text-ocean-400",children:["Valid Upto: ",s.jsx("span",{className:"text-white",children:P.validUntil})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Scope"}),s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-indigo-900/30 text-indigo-400 text-[10px] rounded border border-indigo-900/50 w-fit",children:"Specific"})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Cargo Details"}),s.jsx("div",{className:"flex items-start",children:s.jsx("p",{className:"text-white text-sm",children:P.cargoDetail})})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Hazardous Info"}),P.isHazardous?s.jsxs("div",{className:"bg-rose-900/20 border border-rose-900/40 p-2 rounded-lg",children:[s.jsxs("span",{className:"flex items-center text-rose-400 font-bold mb-1",children:[s.jsx(qs,{className:"w-3.5 h-3.5 mr-1"})," YES - HAZARDOUS"]}),s.jsx("p",{className:"text-ocean-200 italic",children:P.hazardousDetail||"No details provided"})]}):s.jsxs("div",{className:"flex items-center text-emerald-400 font-medium py-2",children:[s.jsx(we,{className:"w-3.5 h-3.5 mr-2"})," Non-Hazardous Cargo"]})]})]})})})]},P.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(Ke,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No received inquiries found matching criteria."})]})})})})]})})})]})})]})},vr="ocean_bookings",Pf=[{id:"BKG-1001",bookingRef:"PENDING",offerId:"3",offerNumber:"OFR-2024-9003",pol:"Singapore (SGSIN)",pod:"Mundra (INMUN)",loadType:"20 Feet Box",quantity:20,commodity:"Raw Materials",providerUser:"exp_01",clientUser:"main",clientName:"Demo User",shippingLine:"",vesselName:"MAERSK ALABAMA",voyage:"MA-221",status:"PENDING",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),timeline:[{status:"PENDING",date:new Date().toISOString(),updatedBy:"System",remarks:"Offer Accepted"}]},{id:"BKG-1002",bookingRef:"PENDING",offerId:"5",offerNumber:"OFR-2024-9500",pol:"Nhava Sheva (INNSA)",pod:"Dubai (AEDXB)",loadType:"40 Feet HC",quantity:5,commodity:"Garments",providerUser:"main",clientUser:"exp_02",clientName:"Sarah Jenkins (Oceanic)",shippingLine:"",vesselName:"COSCO SHIPPING",voyage:"CS-101",status:"PENDING",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),timeline:[{status:"PENDING",date:new Date().toISOString(),updatedBy:"System",remarks:"Offer Accepted"}]}],In={getBookings:()=>{const e=localStorage.getItem(vr);return e?JSON.parse(e):(localStorage.setItem(vr,JSON.stringify(Pf)),Pf)},getBookingById:e=>In.getBookings().find(t=>t.id===e),createBookingFromOffer:(e,t,n)=>{const o=In.getBookings(),r={id:`BKG-${Date.now().toString().slice(-6)}`,bookingRef:"PENDING",offerId:e.id,offerNumber:e.offerNumber,pol:e.pol,pod:e.pod,loadType:e.loadType,quantity:e.quantity,commodity:e.cargoDetail,vesselName:e.vesselName,voyage:e.voyage,providerUser:e.createdBy,clientUser:t,clientName:n,shippingLine:"",status:"PENDING",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),timeline:[{status:"PENDING",date:new Date().toISOString(),updatedBy:"System",remarks:"Booking generated automatically from Accepted Offer"}]};o.unshift(r),localStorage.setItem(vr,JSON.stringify(o))},updateBooking:(e,t,n)=>{const o=In.getBookings(),r=o.findIndex(i=>i.id===e);if(r>=0){const i=o[r].status,a=t.status,d={...o[r],...t,updatedAt:new Date().toISOString()};if(a&&a!==i){let u;a==="CREATED"&&(u=`Booking Created. Carrier Ref: ${d.bookingRef}`),d.timeline.push({status:a,date:new Date().toISOString(),updatedBy:n,remarks:u})}o[r]=d,localStorage.setItem(vr,JSON.stringify(o))}}},Nr="ocean_offers",wr=()=>{const e=new Date,t=e.toLocaleString("default",{month:"short"}).toUpperCase(),n=e.getFullYear().toString().slice(-2),o=e.getDate();let r="LAST";return o<=7?r="1ST":o<=14?r="2ND":o<=21&&(r="3RD"),`${r}-WEEK-${t}-${n}`},BC=[{id:"1",offerNumber:"OFR-2024-8001",offerType:"GENERAL",offerGroup:"GLOBAL",pol:"Mundra (INMUN)",pod:"Jebel Ali (AEJEA)",transitPort:"Direct",loadType:"20 Feet Box",cargoDetail:"General Cargo",quantity:10,matrix:"Container",freightRate:1200,shipmentSchedule:wr(),isHazardous:!1,charges:[{id:"c1",name:"Documentation Fee",amount:4500,currency:"INR",matrix:"Per Container"},{id:"c2",name:"THC",amount:8e3,currency:"INR",matrix:"Per Container"}],vesselName:"MV OCEAN PRIDE",voyage:"V-001",gateCloseDate:"",validUntil:new Date(Date.now()+864e5*5).toISOString(),status:"LIVE",createdAt:new Date().toISOString(),createdBy:"main"},{id:"2",offerNumber:"OFR-2024-9002",offerType:"GENERAL",offerGroup:"GLOBAL",pol:"Shanghai (CNSHA)",pod:"Rotterdam (NLRTM)",transitPort:"Singapore",loadType:"40 Feet HC",cargoDetail:"Electronics & Gadgets",quantity:50,matrix:"Container",freightRate:3500,shipmentSchedule:wr(),isHazardous:!1,charges:[],vesselName:"COSCO STAR",voyage:"CS-992",gateCloseDate:"",validUntil:new Date(Date.now()+864e5*10).toISOString(),status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_02"},{id:"3",offerNumber:"OFR-2024-9003",offerType:"GENERAL",offerGroup:"NETWORK",pol:"Singapore (SGSIN)",pod:"Mundra (INMUN)",transitPort:"Direct",loadType:"20 Feet Box",cargoDetail:"Raw Materials",quantity:20,matrix:"Container",freightRate:850,shipmentSchedule:wr(),isHazardous:!0,hazardousDetail:"Class 3 Flammable",charges:[],vesselName:"MAERSK ALABAMA",voyage:"MA-221",gateCloseDate:"",validUntil:new Date(Date.now()+864e5*7).toISOString(),status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_01"},{id:"4",offerNumber:"OFR-2024-9900",offerType:"SPECIFIC",offerGroup:"NETWORK_PARTY",targetPartyName:"My Company",targetUserName:"Demo User (Manager)",targetPartyDisplay:"Demo User (Manager) - My Company",pol:"London (GBLON)",pod:"New York (USNYC)",transitPort:"Direct",loadType:"40 Feet Box",cargoDetail:"Luxury Textiles",quantity:5,matrix:"Container",freightRate:4200,shipmentSchedule:wr(),isHazardous:!1,charges:[],vesselName:"CMA CGM MARCO POLO",voyage:"UK-US-005",gateCloseDate:"",validUntil:new Date(Date.now()+864e5*3).toISOString(),status:"LIVE",createdAt:new Date().toISOString(),createdBy:"exp_01"}],qt={getOffers:()=>{const e=localStorage.getItem(Nr);let t=e?JSON.parse(e):BC;const n=new Date;return t=t.map(o=>{const r=new Date(o.validUntil);return o.status==="LIVE"&&r<n?{...o,status:"EXPIRED"}:o}),localStorage.setItem(Nr,JSON.stringify(t)),t},saveOffer:e=>{const t=qt.getOffers(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.unshift(e),localStorage.setItem(Nr,JSON.stringify(t))},updateStatus:(e,t)=>{const n=qt.getOffers(),o=n.find(r=>r.id===e);if(o&&(o.status=t,localStorage.setItem(Nr,JSON.stringify(n)),t==="ACCEPTED")){const r=ke.getCurrentUser();In.createBookingFromOffer(o,(r==null?void 0:r.email)||"unknown",(r==null?void 0:r.fullName)||"Client")}},generateOfferNumber:()=>`OFR-${new Date().getFullYear()}-${Math.floor(1e3+Math.random()*9e3)}`},Rf=[{id:"1",name:"Rahul Verma",designation:"Senior Manager",company:"Global Logistics Pvt Ltd"},{id:"2",name:"Sarah Jenkins",designation:"Director",company:"Oceanic Freight"},{id:"3",name:"David Chen",designation:"Operations Head",company:"Pacific Shipping Co."}],Mf=({label:e,value:t,onChange:n,iconColor:o,disabled:r,options:i})=>{const[a,d]=N.useState(!1),u=i.filter(f=>f.toLowerCase().includes(t.toLowerCase()));return s.jsxs("div",{className:"space-y-1 relative",children:[s.jsxs("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:[e,r&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(be,{className:`absolute left-3 top-2.5 w-3.5 h-3.5 ${o} ${r?"opacity-50":""}`}),s.jsx("input",{type:"text",required:!0,value:t,onChange:f=>{n(f.target.value),d(!0)},onFocus:()=>!r&&d(!0),onBlur:()=>setTimeout(()=>d(!1),200),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl pl-9 pr-8 text-white focus:ring-2 focus:ring-indigo-500 outline-none text-xs h-[38px] placeholder-ocean-500 transition-all ${r?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,placeholder:"Search port...",autoComplete:"off",disabled:r}),!r&&s.jsx(le,{className:"absolute right-3 top-2.5 w-3.5 h-3.5 text-ocean-600 pointer-events-none"})]}),!r&&a&&u.length>0&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 bg-ocean-900 border border-ocean-700 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto custom-scrollbar",children:u.map((f,p)=>s.jsx("div",{className:"px-4 py-2.5 text-xs text-ocean-100 hover:bg-ocean-800 cursor-pointer border-b border-white/5 last:border-0",onMouseDown:h=>{h.preventDefault(),n(f),d(!1)},children:f},p))})]})},OC=({label:e,options:t,value:n,onChange:o,placeholder:r,disabled:i})=>{const[a,d]=N.useState(!1),[u,f]=N.useState("");N.useEffect(()=>{const m=t.find(y=>y.id===n);f(m?m.label:"")},[n,t]);const p=t.filter(m=>m.label.toLowerCase().includes(u.toLowerCase())),h=m=>{o(m.id),f(m.label),d(!1)};return s.jsxs("div",{className:"space-y-1 relative",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:e}),s.jsxs("div",{className:"relative",children:[s.jsx(ct,{className:`absolute left-3 top-2.5 w-3.5 h-3.5 text-ocean-500 ${i?"opacity-50":""}`}),s.jsx("input",{type:"text",value:u,onChange:m=>{f(m.target.value),d(!0),m.target.value===""&&o("")},onFocus:()=>{i||(f(""),d(!0))},onBlur:()=>{setTimeout(()=>{const m=t.find(y=>y.id===n);m&&f(m.label),d(!1)},200)},className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl pl-9 pr-8 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-xs h-[38px] placeholder-ocean-500 transition-all ${i?"opacity-60 cursor-not-allowed":""}`,placeholder:r,autoComplete:"off",disabled:i}),s.jsx(ot,{className:"absolute right-3 top-2.5 w-3.5 h-3.5 text-ocean-600 pointer-events-none"})]}),!i&&a&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 bg-ocean-900 border border-ocean-700 rounded-xl shadow-2xl z-50 max-h-60 overflow-y-auto custom-scrollbar p-1",children:p.length>0?p.map(m=>s.jsxs("div",{onMouseDown:y=>{y.preventDefault(),h(m)},className:`flex items-center px-3 py-2 cursor-pointer rounded-lg hover:bg-white/5 transition-colors ${n===m.id?"bg-emerald-900/20 text-emerald-400":"text-ocean-300"}`,children:[s.jsx(Je,{className:"w-3 h-3 mr-2 opacity-50 shrink-0"})," ",s.jsx("span",{className:"text-xs truncate",children:m.label})]},m.id)):s.jsx("div",{className:"px-3 py-2 text-xs text-ocean-500 text-center italic",children:"No parties found"})})]})},qC=()=>{const e=[];let t=new Date;for(;e.length<12;){const n=t.getDate(),o=t.toLocaleString("default",{month:"short"}).toUpperCase(),r=t.getFullYear().toString().slice(-2);let i="";n<=7?i="1ST":n<=14?i="2ND":n<=21?i="3RD":i="LAST";const a=`${i}-WEEK-${o}-${r}`;(e.length===0||e[e.length-1]!==a)&&e.push(a),t.setDate(t.getDate()+7)}return e},HC=({initialData:e,isReviseMode:t=!1,isResponseMode:n=!1,onBack:o,onSaveSuccess:r,currentUser:i})=>{const[a,d]=N.useState(1),[u,f]=N.useState("GENERAL"),[p,h]=N.useState("GLOBAL"),[m,y]=N.useState(""),[w,E]=N.useState(""),[j,v]=N.useState(""),[g,x]=N.useState("Direct"),[b,C]=N.useState("20 Feet Box"),[A,I]=N.useState(""),[T,R]=N.useState(1),[_,P]=N.useState("Container"),[L,O]=N.useState(0),[M,U]=N.useState(""),[S,B]=N.useState(!1),[k,H]=N.useState(""),[G,K]=N.useState("MASTER"),[W,he]=N.useState(""),[ee,Be]=N.useState([]),[ne,Me]=N.useState({name:"",amount:0,currency:"USD",matrix:"Per Container"}),[X,D]=N.useState("To Be Declared Later"),[Q,ce]=N.useState(""),[Ce,De]=N.useState(""),[V,Y]=N.useState(""),[re,Le]=N.useState([]),[pt,rs]=N.useState([]),[Ko,Uh]=N.useState([]),[Fh,Vh]=N.useState([]),_c=An.getParties(),kc=te.getChargeHeads(),Gh=qC();N.useEffect(()=>{Le(pe.getPorts().map(F=>`${F.name} (${F.shortName})`)),rs(pe.getLoadTypes().map(F=>F.loadType)),Uh(pe.getMatrices().map(F=>F.name)),Vh(pe.getCurrencies().map(F=>F.currency))},[]),N.useEffect(()=>{e&&(f(e.offerType),h(e.offerGroup),y(e.targetPartyId||""),E(e.pol),v(e.pod),x(e.transitPort||"Direct"),C(e.loadType),I(e.cargoDetail),R(e.quantity),P(e.matrix),O(e.freightRate||0),U(e.shipmentSchedule),B(e.isHazardous),H(e.hazardousDetail||""),Be(e.charges||[]),D(e.vesselName||"To Be Declared Later"),ce(e.voyage||""),De(e.gateCloseDate||""),Y(e.validUntil||""))},[e]),N.useEffect(()=>{e||(h(u==="GENERAL"?"GLOBAL":"NETWORK_PARTY"),y(""))},[u,e]);const Bh=()=>{if(!ne.name||!ne.amount)return;if(ee.length>=5){alert("Maximum 5 charges allowed in Manual mode.");return}const F={id:Date.now().toString(),name:ne.name,amount:Number(ne.amount),currency:ne.currency,matrix:ne.matrix};Be([...ee,F]),Me({name:"",amount:0,currency:"USD",matrix:"Per Container"})},Oh=F=>{he(F);const mt=kc.find(Di=>Di.id===F);mt&&Be(mt.items)},qh=F=>{Be(ee.filter(mt=>mt.id!==F))},Ac=ee.filter(F=>F.currency==="USD").reduce((F,mt)=>F+mt.amount,0),Pc=ee.filter(F=>F.currency==="INR").reduce((F,mt)=>F+mt.amount,0),Hh=F=>!(F===1&&(u==="SPECIFIC"&&!m||!w||!j)||F===2&&(!A||T<1||!L||L<=0||!M||S&&!k)||F===3&&ee.length===0||F===4&&(!X||!V)),$h=()=>{Hh(a)?d(F=>F+1):alert("Please fill all required fields correctly.")},zh=F=>{F.preventDefault();const mt=new Date().toISOString().split("T")[0],Di=qt.getOffers().filter(is=>is.createdBy===(i.email||"main")&&is.createdAt.startsWith(mt)).length,Rc=Fe.getPermission(i.plan).maxDailyTransactions;if(!t&&Di>=Rc){alert(`Daily limit of ${Rc} offers reached for your ${i.plan} plan.`);return}try{const is=i.isMainUser!==!1?"main":i.email||"main";let Un=(e==null?void 0:e.targetPartyName)||"",Fn=(e==null?void 0:e.targetUserName)||"";if(u==="SPECIFIC"&&m&&(!Un||!t)){if(p==="INTERNAL_PARTY"){const zt=_c.find(Li=>Li.id===m);zt&&(Un=zt.companyName,Fn=`${zt.contactPerson} (${zt.designation})`)}else if(p==="NETWORK_PARTY"){const zt=Rf.find(Li=>Li.id===m);zt&&(Un=zt.company,Fn=`${zt.name} (${zt.designation})`)}}n&&(e!=null&&e.targetPartyDisplay)&&(Un||(Un=e.targetPartyName||"Unknown"),Fn||(Fn=e.targetUserName||"Unknown"));const Wh={id:t&&e?e.id:Date.now().toString(),offerNumber:t&&e?e.offerNumber:qt.generateOfferNumber(),offerType:u,offerGroup:p,targetPartyId:u==="SPECIFIC"&&m?m:void 0,targetPartyName:Un,targetUserName:Fn,targetPartyDisplay:Fn?`${Fn} - ${Un}`:e==null?void 0:e.targetPartyDisplay,pol:w,pod:j,transitPort:g,loadType:b,cargoDetail:A,quantity:T,matrix:_,freightRate:L,shipmentSchedule:M,isHazardous:S,hazardousDetail:k,charges:[...ee],vesselName:X,voyage:Q,gateCloseDate:Ce,validUntil:V,status:"LIVE",createdAt:t&&e?e.createdAt:new Date().toISOString(),createdBy:t&&e?e.createdBy:is};qt.saveOffer(Wh),r()}catch(is){console.error("Error saving offer:",is),alert("Failed to save offer. Please try again.")}},Jh=p==="NETWORK_PARTY"?Rf.map(F=>({id:F.id,label:`${F.name} - ${F.company}`})):_c.map(F=>({id:F.id,label:`${F.contactPerson} - ${F.companyName}`})),de=t||n;return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-emerald-600/20 rounded-lg text-emerald-400",children:s.jsx(ii,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:t?`Revise Offer: ${e==null?void 0:e.offerNumber}`:n?"Send Offer Response":"Create New Offer"})]}),s.jsx("button",{onClick:o,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar flex justify-center",children:s.jsxs("div",{className:"w-full max-w-4xl bg-ocean-900/40 border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-2 px-1",children:[1,2,3,4].map(F=>s.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider ${a>=F?"text-emerald-400":"text-ocean-600"}`,children:["Step ",F]},F))}),s.jsx("div",{className:"w-full h-2 bg-ocean-950 rounded-full overflow-hidden flex",children:[1,2,3,4].map(F=>s.jsx("div",{className:`h-full transition-all duration-300 ${a>=F?"bg-emerald-500":"bg-transparent"} flex-1 border-r border-ocean-900 last:border-0`},F))})]}),s.jsxs("form",{onSubmit:zh,className:"space-y-8",children:[a===1&&s.jsxs("div",{className:"animate-fade-in-up bg-black/20 p-5 rounded-xl border border-white/5 space-y-4",children:[s.jsxs("h3",{className:"text-white font-bold flex items-center border-b border-white/10 pb-2",children:[s.jsx(Ke,{className:"w-4 h-4 mr-2 text-emerald-400"})," Offer Scope & Route ",de&&s.jsxs("span",{className:"ml-2 text-xs text-rose-400 font-normal italic flex items-center",children:[s.jsx(Ee,{className:"w-3 h-3 mr-1"})," (Locked)"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Offer Type"}),s.jsxs("div",{className:"flex bg-ocean-950 rounded-lg p-1 border border-ocean-700 h-[38px]",children:[s.jsx("button",{type:"button",disabled:de,onClick:()=>f("GENERAL"),className:`flex-1 text-xs font-medium rounded-md transition-all ${u==="GENERAL"?"bg-emerald-600 text-white shadow":"text-ocean-400 hover:text-white"} ${de?"opacity-50 cursor-not-allowed":""}`,children:"General"}),s.jsx("button",{type:"button",disabled:de,onClick:()=>f("SPECIFIC"),className:`flex-1 text-xs font-medium rounded-md transition-all ${u==="SPECIFIC"?"bg-emerald-600 text-white shadow":"text-ocean-400 hover:text-white"} ${de?"opacity-50 cursor-not-allowed":""}`,children:"Specific"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Offer Group"}),s.jsx("select",{disabled:de,value:p,onChange:F=>h(F.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 text-white focus:ring-2 focus:ring-emerald-500 outline-none h-[38px] text-xs ${de?"opacity-60 cursor-not-allowed":""}`,children:u==="GENERAL"?s.jsxs(s.Fragment,{children:[" ",s.jsx("option",{value:"GLOBAL",children:"Global"})," ",s.jsx("option",{value:"NETWORK",children:"My Network"})," "]}):s.jsxs(s.Fragment,{children:[" ",s.jsx("option",{value:"NETWORK_PARTY",children:"Network Party"})," ",s.jsx("option",{value:"INTERNAL_PARTY",children:"Internal Party"})," "]})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Send To"}),n?s.jsxs("div",{className:"w-full bg-ocean-900/30 border border-ocean-700 rounded-xl px-4 py-2.5 text-white flex items-center text-xs h-[38px] cursor-not-allowed",children:[s.jsx(we,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"}),s.jsx("span",{className:"font-semibold",children:(e==null?void 0:e.targetPartyDisplay)||"Inquiry Creator"}),s.jsx("span",{className:"ml-auto text-ocean-500 text-[10px] italic",children:"Target Locked"})]}):u==="GENERAL"?s.jsxs("div",{className:`w-full bg-ocean-800/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-ocean-300 italic flex items-center text-xs h-[38px] ${t?"opacity-60":""}`,children:[s.jsx(we,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"}),p==="GLOBAL"?"Broadcast to All Global Partners":"Broadcast to All My Network Connections"]}):s.jsx(OC,{label:p==="NETWORK_PARTY"?"Select Network Party":"Select Internal Party",options:Jh,value:m,onChange:y,placeholder:"Type to search party...",disabled:t})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(Mf,{label:"POL",value:w,onChange:E,iconColor:"text-emerald-500",disabled:de,options:re}),s.jsx(Mf,{label:"POD",value:j,onChange:v,iconColor:"text-rose-500",disabled:de,options:re}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Transit Port"}),s.jsx("input",{disabled:t,type:"text",value:g,onChange:F=>x(F.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-xs h-[38px] ${t?"opacity-60 cursor-not-allowed":""}`})]})]})]}),a===2&&s.jsxs("div",{className:"animate-fade-in-up bg-black/20 p-5 rounded-xl border border-white/5 space-y-6",children:[s.jsxs("h3",{className:"text-white font-bold flex items-center border-b border-white/10 pb-2",children:[s.jsx(St,{className:"w-4 h-4 mr-2 text-emerald-400"})," Cargo & Rate Details ",n&&s.jsxs("span",{className:"ml-2 text-xs text-rose-400 font-normal italic flex items-center",children:[s.jsx(Ee,{className:"w-3 h-3 mr-1"})," (Cargo details matched to inquiry)"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:["Load Type ",de&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsx("select",{disabled:de,value:b,onChange:F=>C(F.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm ${de?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,children:pt.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:["Quantity ",de&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsx("input",{type:"number",min:"1",required:!0,disabled:de,value:T,onChange:F=>R(parseInt(F.target.value)),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm ${de?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:["Matrix ",de&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsx("select",{disabled:de,value:_,onChange:F=>P(F.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm ${de?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,children:Ko.map(F=>s.jsx("option",{value:F,children:F},F))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider flex items-center justify-between",children:["Cargo Description ",de&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500"})]}),s.jsx("textarea",{disabled:de,required:!0,rows:1,value:A,onChange:F=>I(F.target.value),className:`w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm resize-none ${de?"opacity-60 cursor-not-allowed bg-ocean-900/30":""}`,placeholder:"Description..."})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Freight Rate (USD)"}),s.jsx("input",{type:"number",min:"1",required:!0,value:L||"",onChange:F=>O(parseFloat(F.target.value)),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm",placeholder:"Amount in USD"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Shipment Schedule"}),s.jsxs("select",{required:!0,value:M,onChange:F=>U(F.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm",children:[s.jsx("option",{value:"",disabled:!0,children:"Select Schedule"}),Gh.map((F,mt)=>s.jsx("option",{value:F,children:F},mt))]})]})]}),s.jsxs("div",{className:"border-t border-white/5 pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[s.jsxs("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider flex items-center",children:["Hazardous ? ",de&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-500 ml-2"})]}),s.jsxs("div",{className:`flex items-center space-x-4 ${de?"opacity-60 pointer-events-none":""}`,children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:!S,onChange:()=>B(!1),className:"text-emerald-500"})," ",s.jsx("span",{className:"text-sm text-white",children:"No"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",checked:S,onChange:()=>B(!0),className:"text-emerald-500"})," ",s.jsx("span",{className:"text-sm text-white",children:"Yes"})]})]})]}),S&&s.jsx("textarea",{disabled:de,required:!0,rows:2,value:k,onChange:F=>H(F.target.value),className:`w-full bg-rose-950/10 border border-rose-900/50 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-rose-500 outline-none resize-none text-sm ${de?"opacity-60 cursor-not-allowed":""}`,placeholder:"Hazardous details..."})]})]}),a===3&&s.jsxs("div",{className:"animate-fade-in-up bg-black/20 p-5 rounded-xl border border-white/5 space-y-6",children:[s.jsxs("h3",{className:"text-white font-bold flex items-center border-b border-white/10 pb-2",children:[s.jsx(ii,{className:"w-4 h-4 mr-2 text-emerald-400"})," Additional Charges"]}),s.jsxs("div",{className:"flex bg-ocean-950 rounded-lg p-1 border border-ocean-700 w-fit",children:[s.jsx("button",{type:"button",onClick:()=>K("MASTER"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${G==="MASTER"?"bg-emerald-600 text-white shadow":"text-ocean-400 hover:text-white"}`,children:"Select from Master"}),s.jsx("button",{type:"button",onClick:()=>K("MANUAL"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${G==="MANUAL"?"bg-emerald-600 text-white shadow":"text-ocean-400 hover:text-white"}`,children:"Manual Entry"})]}),G==="MASTER"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Select Charge Head"}),s.jsxs("select",{value:W,onChange:F=>Oh(F.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm",children:[s.jsx("option",{value:"",disabled:!0,children:"-- Select Pre-defined Charges --"}),kc.map(F=>s.jsx("option",{value:F.id,children:F.headName},F.id))]})]}):s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end bg-white/5 p-3 rounded-xl border border-white/5",children:[s.jsxs("div",{className:"col-span-4",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-400 uppercase",children:"Name"}),s.jsx("input",{type:"text",value:ne.name,onChange:F=>Me({...ne,name:F.target.value}),className:"w-full bg-ocean-950 border border-ocean-700 rounded-lg px-2 py-1.5 text-sm text-white"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-400 uppercase",children:"Amount"}),s.jsx("input",{type:"number",value:ne.amount||"",onChange:F=>Me({...ne,amount:parseFloat(F.target.value)}),className:"w-full bg-ocean-950 border border-ocean-700 rounded-lg px-2 py-1.5 text-sm text-white"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-400 uppercase",children:"Currency"}),s.jsx("select",{value:ne.currency,onChange:F=>Me({...ne,currency:F.target.value}),className:"w-full bg-ocean-950 border border-ocean-700 rounded-lg px-2 py-1.5 text-sm text-white",children:Fh.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-400 uppercase",children:"Matrix"}),s.jsx("select",{value:ne.matrix,onChange:F=>Me({...ne,matrix:F.target.value}),className:"w-full bg-ocean-950 border border-ocean-700 rounded-lg px-2 py-1.5 text-sm text-white",children:Ko.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsx("div",{className:"col-span-1",children:s.jsx("button",{type:"button",onClick:Bh,className:"bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg",children:s.jsx($t,{className:"w-4 h-4"})})})]}),ee.length>0&&s.jsx("div",{className:"bg-ocean-950/50 rounded-xl overflow-hidden border border-white/10",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-white/5 text-xs text-ocean-300 uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:"Charge"}),s.jsx("th",{className:"px-4 py-2",children:"Amount"}),s.jsx("th",{className:"px-4 py-2",children:"Matrix"}),s.jsx("th",{className:"px-4 py-2 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:ee.map(F=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 text-white",children:F.name}),s.jsxs("td",{className:"px-4 py-2 font-mono text-emerald-400",children:[F.amount," ",F.currency]}),s.jsx("td",{className:"px-4 py-2 text-ocean-400 text-xs",children:F.matrix}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsx("button",{type:"button",onClick:()=>qh(F.id),className:"text-rose-400 hover:text-white",children:s.jsx(Vs,{className:"w-3.5 h-3.5"})})})]},F.id))}),s.jsx("tfoot",{className:"bg-white/5 border-t border-white/10",children:s.jsx("tr",{children:s.jsxs("td",{colSpan:4,className:"px-4 py-2 text-right",children:[s.jsx("span",{className:"text-xs text-ocean-400 mr-4",children:"Total Payables:"}),Ac>0&&s.jsxs("span",{className:"text-emerald-400 font-bold mr-4",children:[Ac," USD"]}),Pc>0&&s.jsxs("span",{className:"text-emerald-400 font-bold",children:[Pc," INR"]})]})})})]})})]}),a===4&&s.jsxs("div",{className:"animate-fade-in-up bg-black/20 p-5 rounded-xl border border-white/5 space-y-6",children:[s.jsxs("h3",{className:"text-white font-bold flex items-center border-b border-white/10 pb-2",children:[s.jsx(Dn,{className:"w-4 h-4 mr-2 text-emerald-400"})," Vessel & Validity"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Vessel Name"}),s.jsx("input",{type:"text",required:!0,value:X,onChange:F=>D(F.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Voyage (Optional)"}),s.jsx("input",{type:"text",value:Q,onChange:F=>ce(F.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm",placeholder:"Optional"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Gate Close Date (Optional)"}),s.jsx("input",{type:"date",value:Ce,onChange:F=>De(F.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider",children:"Valid Upto (Date & Time)"}),s.jsx("input",{type:"datetime-local",required:!0,value:V,onChange:F=>Y(F.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-xl px-4 py-2.5 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm"})]})]})]}),s.jsxs("div",{className:"pt-4 flex justify-between items-center border-t border-white/10 mt-6",children:[s.jsx("button",{type:"button",onClick:o,className:"px-6 py-3 text-ocean-300 hover:text-white transition-colors",children:"Cancel"}),s.jsxs("div",{className:"flex space-x-3",children:[a>1&&s.jsxs("button",{type:"button",onClick:()=>d(F=>F-1),className:"px-6 py-3 bg-ocean-800 hover:bg-ocean-700 text-white font-bold rounded-xl shadow-lg flex items-center transition-all",children:[s.jsx(yc,{className:"w-4 h-4 mr-2"})," Back"]}),a<4?s.jsxs("button",{type:"button",onClick:$h,className:"px-8 py-3 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-xl shadow-lg flex items-center transition-all",children:["Next Step ",s.jsx(Hs,{className:"w-4 h-4 ml-2"})]}):s.jsxs("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold rounded-xl shadow-lg flex items-center transition-all",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"})," ",t?"Update & Live":n?"Send Response":"Publish Offer"]})]})]})]})]})})]})},$C=({onBack:e,onCreateNew:t,onRevise:n,currentUser:o,onViewProfile:r})=>{const[i,a]=N.useState([]),[d,u]=N.useState([]),[f,p]=N.useState(""),[h,m]=N.useState("LIVE"),[y,w]=N.useState("ME"),[E,j]=N.useState([]),[v,g]=N.useState(null),[x,b]=N.useState(!1),C=N.useRef(null),A=te.getSubUsers();N.useEffect(()=>{I()},[]),N.useEffect(()=>{i.length>0&&T()},[i]),N.useEffect(()=>{const M=U=>{const S=U.target;v&&!S.closest(".action-menu-container")&&g(null),E.length>0&&!S.closest("tr")&&C.current&&!C.current.contains(S)&&j([])};return document.addEventListener("click",M),()=>document.removeEventListener("click",M)},[v,E]);const I=()=>{a(qt.getOffers())},T=()=>{b(!0),setTimeout(()=>{const M=i.filter(U=>{const S=U.offerNumber.toLowerCase().includes(f.toLowerCase())||U.pol.toLowerCase().includes(f.toLowerCase())||U.pod.toLowerCase().includes(f.toLowerCase()),B=h==="ALL"||U.status===h;let k=!0;return o.isMainUser!==!1?y==="ME"?k=U.createdBy==="main"||!U.createdBy:y!=="ALL"&&(k=U.createdBy===y):k=U.createdBy===o.email,S&&B&&k});u(M),b(!1)},300)},R=(M,U)=>{qt.updateStatus(M,U),g(null),I()},_=M=>{g(null),n(M)},P=(M,U)=>{U&&U.stopPropagation(),j(S=>S.includes(M)?S.filter(B=>B!==M):[...S,M])},L=(M,U)=>{U.stopPropagation(),g(S=>S===M?null:M)},O=M=>{const U=M.charges.filter(k=>k.currency==="USD").reduce((k,H)=>k+H.amount,0),S=M.charges.filter(k=>k.currency==="INR").reduce((k,H)=>k+H.amount,0),B=[];return U>0&&B.push(`$${U}`),S>0&&B.push(`${S}`),B.length>0?B.join(" + "):"None"};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-emerald-600/20 rounded-lg text-emerald-400",children:s.jsx(Pt,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"My Offers"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col xl:flex-row justify-between gap-4 bg-white/5 p-4 rounded-2xl border border-white/10 shadow-lg",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full",children:[s.jsxs("div",{className:"relative flex-1 w-full max-w-sm",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Offers...",value:f,onChange:M=>p(M.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2 text-white text-sm focus:ring-2 focus:ring-emerald-500 outline-none"})]}),s.jsx("div",{className:"flex items-center space-x-2 bg-ocean-950/50 rounded-lg p-1 border border-ocean-700 overflow-x-auto",children:["ALL","LIVE","EXPIRED","SUSPENDED","ACCEPTED","REJECTED"].map(M=>s.jsx("button",{onClick:()=>m(M),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${h===M?"bg-emerald-600 text-white":"text-ocean-400 hover:text-white"}`,children:M},M))}),o.isMainUser!==!1&&s.jsxs("select",{className:"bg-ocean-950/50 border border-ocean-700 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-emerald-500 outline-none w-full sm:w-auto",value:y,onChange:M=>w(M.target.value),children:[s.jsx("option",{value:"ME",children:"My Data (Main)"}),s.jsx("option",{value:"ALL",children:"All Users"}),A.map(M=>s.jsx("option",{value:M.id,children:M.fullName},M.id))]}),s.jsx("button",{onClick:T,disabled:x,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2 rounded-lg font-bold shadow-lg flex items-center shadow-emerald-900/20 disabled:opacity-50",children:x?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]}),s.jsxs("button",{onClick:t,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-xl font-medium flex items-center shadow-lg w-full xl:w-auto justify-center whitespace-nowrap",children:[s.jsx($t,{className:"w-4 h-4 mr-2"})," Create Offer"]})]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden shadow-xl",ref:C,children:s.jsx("div",{className:"overflow-x-auto",style:{minHeight:"200px"},children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Route (POL - POD)"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[15%]",children:"Freight Rate (USD)"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Load & Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Target / Send To"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right w-[15%]",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:d.length>0?d.map(M=>{const U=E.includes(M.id),S=O(M),B=M.status==="LIVE";return s.jsxs(on.Fragment,{children:[s.jsxs("tr",{className:`hover:bg-white/5 transition-colors group cursor-pointer ${U?"bg-white/5":""}`,onClick:()=>P(M.id),children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("span",{className:"flex items-center text-white text-sm font-bold",children:[s.jsx(be,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"})," ",M.pol.split("(")[0]]}),s.jsxs("span",{className:"flex items-center text-white text-sm font-bold",children:[s.jsx(be,{className:"w-3.5 h-3.5 mr-2 text-rose-400"})," ",M.pod.split("(")[0]]}),s.jsxs("span",{className:"text-[10px] text-ocean-400 pl-6",children:["Via ",M.transitPort]})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("span",{className:"text-lg font-bold text-emerald-400",children:["$",M.freightRate]})}),s.jsxs("td",{className:"px-6 py-4 align-top",children:[s.jsxs("div",{className:"text-xs font-medium text-white mb-2",children:[M.quantity," x ",M.loadType]}),s.jsx("span",{className:`inline-flex items-center text-[10px] font-bold px-2 py-0.5 rounded-full border
                                        ${M.status==="LIVE"?"text-emerald-400 bg-emerald-900/20 border-emerald-900/50":M.status==="ACCEPTED"?"text-blue-400 bg-blue-900/20 border-blue-900/50":M.status==="SUSPENDED"?"text-amber-400 bg-amber-900/20 border-amber-900/50":"text-rose-400 bg-rose-900/20 border-rose-900/50"}
                                     `,children:M.status})]}),s.jsx("td",{className:"px-6 py-4 align-top",children:M.offerType==="SPECIFIC"?M.targetUserName?s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-white font-medium text-xs",children:M.targetUserName}),s.jsx("span",{className:"text-cyan-400 font-medium text-[11px] mt-0.5",children:M.targetPartyName})]}):s.jsx("div",{className:"text-cyan-400 font-medium text-[11px]",children:M.targetPartyDisplay}):s.jsx("span",{className:"text-xs text-ocean-400 italic",children:M.offerGroup==="GLOBAL"?"Broadcast to All Partners":"Broadcast to My Network"})}),s.jsx("td",{className:"px-6 py-4 text-right align-top relative",children:s.jsxs("div",{className:"flex flex-col items-end gap-2 action-menu-container",onClick:k=>k.stopPropagation(),children:[B?s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:k=>L(M.id,k),className:"px-2 py-1 bg-ocean-800 hover:bg-ocean-700 text-ocean-200 rounded border border-ocean-600 flex items-center text-xs font-medium transition-colors",children:["Action ",s.jsx(th,{className:"w-3 h-3 ml-1"})]}),v===M.id&&s.jsxs("div",{className:"absolute right-0 top-full mt-1 w-32 bg-ocean-900 border border-ocean-700 rounded-xl shadow-xl z-50 overflow-hidden animate-fade-in-up",children:[s.jsxs("button",{onClick:k=>{k.stopPropagation(),_(M)},className:"w-full text-left px-3 py-2 text-xs text-cyan-400 hover:bg-white/10 flex items-center",children:[s.jsx(Fs,{className:"w-3 h-3 mr-2"})," Revise"]}),s.jsxs("button",{onClick:k=>{k.stopPropagation(),R(M.id,"SUSPENDED")},className:"w-full text-left px-3 py-2 text-xs text-amber-400 hover:bg-white/10 flex items-center",children:[s.jsx(nh,{className:"w-3 h-3 mr-2"})," Suspend"]}),s.jsxs("button",{onClick:k=>{k.stopPropagation(),R(M.id,"ACCEPTED")},className:"w-full text-left px-3 py-2 text-xs text-blue-400 hover:bg-white/10 flex items-center",children:[s.jsx(oh,{className:"w-3 h-3 mr-2"})," Accepted"]}),s.jsxs("button",{onClick:k=>{k.stopPropagation(),R(M.id,"REJECTED")},className:"w-full text-left px-3 py-2 text-xs text-rose-400 hover:bg-white/10 flex items-center",children:[s.jsx(Vg,{className:"w-3 h-3 mr-2"})," Rejected"]})]})]}):s.jsx("span",{className:"text-[10px] text-ocean-500 italic",children:"No Actions"}),s.jsxs("button",{onClick:k=>P(M.id,k),className:"text-xs flex items-center text-indigo-400 hover:text-white mt-1",children:[U?"See Less":"See More"," ",U?s.jsx(ns,{className:"w-3 h-3 ml-1"}):s.jsx(ot,{className:"w-3 h-3 ml-1"})]})]})})]}),U&&s.jsx("tr",{className:"bg-ocean-900/30 border-b border-white/5 animate-fade-in-up",onClick:k=>k.stopPropagation(),children:s.jsx("td",{colSpan:5,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-xs",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Vessel & Schedule"}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dn,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"})," ",s.jsx("span",{className:"text-white font-bold",children:M.vesselName})]}),s.jsxs("div",{className:"pl-5 text-ocean-400",children:["Voyage: ",M.voyage||"-"]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ht,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"})," ",s.jsxs("span",{className:"text-white",children:["Schedule: ",M.shipmentSchedule||"-"]})]})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Reference & Cargo"}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx($s,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"})," ",s.jsx("span",{className:"text-white font-mono font-bold",children:M.offerNumber})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Je,{className:"w-3.5 h-3.5 mr-2 text-indigo-400 mt-0.5"})," ",s.jsx("p",{className:"text-white",children:M.cargoDetail})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Charges Breakdown"}),s.jsxs("div",{className:"bg-black/20 rounded-lg p-3 border border-white/5",children:[M.charges.length>0?M.charges.map((k,H)=>s.jsxs("div",{className:"flex justify-between text-ocean-200 border-b border-white/5 last:border-0 py-1",children:[s.jsx("span",{children:k.name}),s.jsxs("span",{className:"font-mono text-emerald-400",children:[k.amount," ",k.currency]})]},H)):s.jsx("div",{className:"text-ocean-500 italic",children:"No additional charges"}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-white/10 flex justify-between items-center",children:[s.jsx("span",{className:"text-ocean-400 font-bold",children:"Total Additional Charges:"}),s.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:S})]})]})]})]})})})]},M.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-ocean-400",children:"No offers found matching criteria. Click GO to refresh."})})})]})})})]})})]})},Df={exp_01:{name:"Rajesh Kumar",designation:"Export Manager",company:"Royal Exports Ltd",email:"rajesh@royal.com",mobile:"+91 999 888 7777",city:"Mumbai",role:"Shipper"},exp_02:{name:"Li Wei",designation:"Logistics Head",company:"Shanghai Trading Co",email:"li.wei@trading.cn",mobile:"+86 139 0000 1111",city:"Shanghai",role:"Forwarder"},main:{name:"Demo User",designation:"Manager",company:"My Company",email:"demo@ocean.com",mobile:"+1 555 0199",city:"London",role:"Admin"}},zC=()=>{const e=[];let t=new Date;for(;e.length<12;){const n=t.getDate(),o=t.toLocaleString("default",{month:"short"}).toUpperCase(),r=t.getFullYear().toString().slice(-2);let i="";n<=7?i="1ST":n<=14?i="2ND":n<=21?i="3RD":i="LAST";const a=`${i}-WEEK-${o}-${r}`;(e.length===0||e[e.length-1]!==a)&&e.push(a),t.setDate(t.getDate()+7)}return e},Lf=({placeholder:e,value:t,onChange:n,iconColor:o,options:r})=>{const[i,a]=N.useState(!1),d=r.filter(u=>u.toLowerCase().includes(t.toLowerCase()));return s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"absolute left-3 top-3 pointer-events-none",children:s.jsx(be,{className:`w-4 h-4 ${o}`})}),s.jsx("input",{type:"text",value:t,onChange:u=>{n(u.target.value),a(!0)},onFocus:()=>a(!0),onBlur:()=>setTimeout(()=>a(!1),200),placeholder:e,className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white placeholder-ocean-500 focus:ring-2 focus:ring-cyan-500 outline-none font-medium"}),i&&d.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-ocean-900 border border-ocean-700 rounded-xl shadow-2xl z-50 max-h-48 overflow-y-auto custom-scrollbar",children:d.map((u,f)=>s.jsx("div",{onClick:()=>n(u),className:"px-4 py-2 hover:bg-ocean-800 text-ocean-100 cursor-pointer text-sm",children:u},f))})]})},JC=({onBack:e,currentUser:t,onReplyWithInquiry:n,onViewProfile:o})=>{const[r,i]=N.useState("GLOBAL"),[a,d]=N.useState(""),[u,f]=N.useState(""),[p,h]=N.useState(""),[m,y]=N.useState(""),[w,E]=N.useState([]),[j,v]=N.useState(!1),[g,x]=N.useState([]),b=N.useRef(null),[C,A]=N.useState([]),[I,T]=N.useState([]),R=zC(),_=te.getSubUsers();N.useEffect(()=>{A(pe.getPorts().map(S=>`${S.name} (${S.shortName})`)),T(pe.getLoadTypes().map(S=>S.loadType))},[]),N.useEffect(()=>{const S=B=>{if(g.length===0)return;const k=B.target;b.current&&!b.current.contains(k)&&x([])};return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[g]);const P=()=>{v(!0);const B=qt.getOffers().filter(k=>{if(k.offerType!=="GENERAL")return!1;const H=r==="GLOBAL"?k.offerGroup==="GLOBAL":k.offerGroup==="NETWORK"||k.offerGroup==="NETWORK_PARTY",G=!a||k.pol.toLowerCase().includes(a.toLowerCase()),K=!u||k.pod.toLowerCase().includes(u.toLowerCase()),W=!p||k.loadType===p,he=!m||k.shipmentSchedule===m,ee=k.status==="LIVE";return H&&G&&K&&W&&he&&ee});E(B)},L=(S,B)=>{B.stopPropagation(),x(k=>k.includes(S)?k.filter(H=>H!==S):[...k,S])},O=S=>{if(Df[S])return Df[S];const B=_.find(k=>k.id===S||k.email===S);return B?{name:B.fullName,designation:B.designation,company:t.companyName||"Company",email:B.email,mobile:B.mobile,photoBase64:B.photoBase64,role:B.role}:S===t.email||S==="main"&&t.isMainUser?{name:t.fullName,designation:t.designation,company:t.companyName,email:t.email,mobile:t.mobile,photoBase64:t.photoBase64,role:t.role}:{name:"Unknown User",designation:"Agent",company:"Logistics Partner"}},M=(S,B)=>{S.stopPropagation();const k=O(B.createdBy);n(B,{name:k.name,company:k.company})},U=(S,B)=>{if(S.stopPropagation(),o){const k=O(B);o({fullName:k.name,companyName:k.company,designation:k.designation,email:k.email,mobile:k.mobile,role:k.role,photoBase64:k.photoBase64,address:k.city})}};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-emerald-600/20 rounded-lg text-emerald-400",children:s.jsx(Pt,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Explore Offers"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-ocean-900 to-ocean-800 rounded-2xl p-6 border border-white/10 shadow-2xl relative",children:[s.jsx("div",{className:"absolute top-4 left-0 right-0 text-center",children:s.jsx("h2",{className:"text-white/20 text-4xl font-black uppercase tracking-widest select-none pointer-events-none",children:"Find Offers"})}),s.jsx("div",{className:"flex justify-center mb-6 relative z-10 mt-12",children:s.jsxs("div",{className:"bg-ocean-950 p-1 rounded-xl inline-flex border border-ocean-700",children:[s.jsxs("button",{onClick:()=>i("GLOBAL"),className:`px-6 py-2 rounded-lg text-sm font-bold flex items-center transition-all ${r==="GLOBAL"?"bg-emerald-600 text-white shadow-lg":"text-ocean-400 hover:text-white"}`,children:[s.jsx(Mt,{className:"w-4 h-4 mr-2"})," Global Market"]}),s.jsxs("button",{onClick:()=>i("NETWORK"),className:`px-6 py-2 rounded-lg text-sm font-bold flex items-center transition-all ${r==="NETWORK"?"bg-emerald-600 text-white shadow-lg":"text-ocean-400 hover:text-white"}`,children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"})," My Network"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end relative z-10",children:[s.jsxs("div",{className:"md:col-span-5 grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider pl-1",children:"Origin (POL)"}),s.jsx(Lf,{placeholder:"From",value:a,onChange:d,iconColor:"text-emerald-400",options:C})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider pl-1",children:"Destination (POD)"}),s.jsx(Lf,{placeholder:"To",value:u,onChange:f,iconColor:"text-rose-400",options:C})]})]}),s.jsxs("div",{className:"md:col-span-3 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider pl-1",children:"Load Type"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ke,{className:"absolute left-3 top-3 w-4 h-4 text-emerald-400 pointer-events-none"}),s.jsxs("select",{value:p,onChange:S=>h(S.target.value),className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500 outline-none appearance-none font-medium cursor-pointer",children:[s.jsx("option",{value:"",children:"Any Load Type"}),I.map(S=>s.jsx("option",{value:S,children:S},S))]}),s.jsx(ot,{className:"absolute right-3 top-3.5 w-4 h-4 text-ocean-500 pointer-events-none"})]})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-ocean-300 uppercase tracking-wider pl-1",children:"Shipment Schedule"}),s.jsxs("div",{className:"relative",children:[s.jsx(kn,{className:"absolute left-3 top-3 w-4 h-4 text-emerald-400 pointer-events-none"}),s.jsxs("select",{value:m,onChange:S=>y(S.target.value),className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500 outline-none font-medium text-sm appearance-none",children:[s.jsx("option",{value:"",children:"Any Schedule"}),R.map((S,B)=>s.jsx("option",{value:S,children:S},B))]}),s.jsx(ot,{className:"absolute right-3 top-3.5 w-4 h-4 text-ocean-500 pointer-events-none"})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("button",{onClick:P,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold py-3 px-6 rounded-xl shadow-lg transform transition-all hover:scale-[1.02] flex items-center justify-center",children:[s.jsx(le,{className:"w-5 h-5 mr-2"})," Search"]})})]})]}),j&&s.jsxs("div",{className:"animate-fade-in-up",ref:b,children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[s.jsx(Pt,{className:"w-5 h-5 mr-2 text-emerald-400"})," Search Results (",w.length,")"]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden shadow-xl",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Route Info"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[15%]",children:"Rate (USD)"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Load Details"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Posted By"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right w-[15%]",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:w.length>0?w.map(S=>{const B=g.includes(S.id),k=O(S.createdBy);return s.jsxs(on.Fragment,{children:[s.jsxs("tr",{className:`hover:bg-white/5 transition-colors cursor-pointer ${B?"bg-white/5":""}`,onClick:H=>L(S.id,H),children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center text-white font-bold text-sm",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 mr-2 shrink-0"})," ",S.pol.split("(")[0]]}),s.jsx("div",{className:"border-l border-dashed border-ocean-600 h-3 ml-1"}),s.jsxs("div",{className:"flex items-center text-white font-bold text-sm",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500 mr-2 shrink-0"})," ",S.pod.split("(")[0]]})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("span",{className:"text-lg font-bold text-emerald-400",children:["$",S.freightRate]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-white font-bold",children:[S.quantity," ",s.jsx("span",{className:"text-xs text-ocean-300",children:S.matrix})]}),s.jsxs("div",{className:"flex items-center mt-1 text-white font-medium text-xs",children:[s.jsx(St,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"})," ",S.loadType]})]})}),s.jsx("td",{className:"px-6 py-4 align-top",onClick:H=>U(H,S.createdBy),children:s.jsxs("div",{className:"flex flex-col group/user",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ct,{className:"w-3.5 h-3.5 mr-2 text-ocean-400 shrink-0 group-hover/user:text-white"}),s.jsxs("span",{className:"text-white font-bold text-sm group-hover/user:underline decoration-dotted decoration-ocean-500 underline-offset-4",children:[k.name," ",s.jsxs("span",{className:"text-ocean-400 font-normal text-xs group-hover/user:text-ocean-300",children:["(",k.designation,")"]})]})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Je,{className:"w-3.5 h-3.5 mr-2 text-ocean-400 shrink-0"}),s.jsx("span",{className:"text-cyan-400 text-xs font-semibold",children:k.company})]})]})}),s.jsxs("td",{className:"px-6 py-4 text-right align-top",children:[s.jsxs("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg text-xs font-bold shadow-lg shadow-indigo-900/20 transition-all hover:scale-105 inline-flex items-center",onClick:H=>M(H,S),children:[s.jsx(ki,{className:"w-3 h-3 mr-1.5"})," Send Inquiry"]}),s.jsx("div",{className:"mt-2 flex justify-end",children:B?s.jsx(ns,{className:"w-4 h-4 text-ocean-500"}):s.jsx(ot,{className:"w-4 h-4 text-ocean-500"})})]})]}),B&&s.jsx("tr",{className:"bg-ocean-900/30 border-b border-white/5 animate-fade-in-up cursor-default",onClick:H=>H.stopPropagation(),children:s.jsx("td",{colSpan:5,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-xs",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Vessel & Schedule"}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dn,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"})," ",s.jsx("span",{className:"text-white font-bold",children:S.vesselName})]}),s.jsxs("div",{className:"pl-5 text-ocean-400",children:["Voyage: ",S.voyage||"-"]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ht,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"})," ",s.jsxs("span",{className:"text-white",children:["Schedule: ",S.shipmentSchedule||"-"]})]})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Reference"}),s.jsxs("div",{className:"flex items-center text-white font-mono font-bold",children:[s.jsx($s,{className:"w-3.5 h-3.5 mr-2 text-cyan-400"})," ",S.offerNumber]}),s.jsxs("div",{className:"mt-2 text-ocean-400",children:["Valid Upto: ",s.jsx("span",{className:"text-white",children:new Date(S.validUntil).toLocaleDateString()})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Cargo Details"}),s.jsx("div",{className:"flex items-start",children:s.jsx("p",{className:"text-white text-sm",children:S.cargoDetail})}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-1",children:"Hazardous Info"}),S.isHazardous?s.jsxs("span",{className:"text-rose-400 flex items-center font-bold",children:[s.jsx(qs,{className:"w-3 h-3 mr-1"})," ",S.hazardousDetail]}):s.jsxs("span",{className:"text-emerald-500 flex items-center",children:[s.jsx(we,{className:"w-3 h-3 mr-1"})," Safe"]})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Charges Breakdown"}),s.jsx("div",{className:"bg-black/20 rounded-lg p-3 border border-white/5",children:S.charges.length>0?S.charges.map((H,G)=>s.jsxs("div",{className:"flex justify-between text-ocean-200 border-b border-white/5 last:border-0 py-1",children:[s.jsx("span",{children:H.name}),s.jsxs("span",{className:"font-mono text-emerald-400",children:[H.amount," ",H.currency]})]},G)):s.jsx("div",{className:"text-ocean-500 italic",children:"No additional charges"})})]})]})})})]},S.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(Pt,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No offers found matching your criteria."})]})})})})]})})})]})]})})]})},Uf={exp_01:{name:"Rajesh Kumar",designation:"Export Manager",company:"Royal Exports Ltd",email:"rajesh@royal.com",mobile:"9876543210",city:"Mumbai",role:"Shipper"},exp_02:{name:"Li Wei",designation:"Logistics Head",company:"Shanghai Trading Co",email:"li@shanghai.cn",mobile:"13988887777",city:"Shanghai",role:"Agent"},main:{name:"Demo User",designation:"Manager",company:"My Company",email:"demo@myco.com",mobile:"555-1234",city:"London",role:"Admin"}},WC=({onBack:e,currentUser:t,onViewProfile:n})=>{const[o,r]=N.useState([]),[i,a]=N.useState([]),[d,u]=N.useState([]),[f,p]=N.useState("LIVE"),[h,m]=N.useState("ME"),[y,w]=N.useState(""),[E,j]=N.useState(!1),v=N.useRef(null),g=te.getSubUsers();N.useEffect(()=>{x()},[]),N.useEffect(()=>{o.length>0&&b()},[o]),N.useEffect(()=>{const _=P=>{if(d.length===0)return;const L=P.target;v.current&&!v.current.contains(L)&&u([])};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[d]);const x=()=>{const P=qt.getOffers().filter(L=>{if(L.offerType!=="SPECIFIC")return!1;const O=L.targetPartyName||"",M=L.targetUserName||"",U=t.companyName||"My Company";return O.toLowerCase().includes(U.toLowerCase())||M.toLowerCase().includes(t.fullName.toLowerCase())});r(P)},b=()=>{j(!0),setTimeout(()=>{const _=o.filter(P=>{var U;const L=f==="ALL"||P.status===f;let O=!0;if(t.isMainUser!==!1)if(h==="ME")O=!0;else if(h==="ALL")O=!0;else{const S=g.find(B=>B.id===h);S&&(O=((U=P.targetUserName)==null?void 0:U.includes(S.fullName))||!1)}const M=P.offerNumber.toLowerCase().includes(y.toLowerCase())||P.pol.toLowerCase().includes(y.toLowerCase())||P.pod.toLowerCase().includes(y.toLowerCase());return L&&O&&M});a(_),j(!1)},300)},C=(_,P,L)=>{L.stopPropagation(),window.confirm(`Are you sure you want to ${P} this offer?`)&&(qt.updateStatus(_,P),x())},A=_=>{if(Uf[_])return Uf[_];const P=g.find(L=>L.id===_||L.email===_);return P?{name:P.fullName,designation:P.designation,company:t.companyName||"Company",email:P.email,mobile:P.mobile,photoBase64:P.photoBase64,role:P.role}:_===t.email||_==="main"&&t.isMainUser?{name:t.fullName,designation:t.designation,company:t.companyName,email:t.email,mobile:t.mobile,photoBase64:t.photoBase64,role:t.role}:{name:"Unknown Sender",designation:"-",company:"External Partner"}},I=(_,P)=>{P.stopPropagation(),u(L=>L.includes(_)?L.filter(O=>O!==_):[...L,_])},T=(_,P)=>{if(_.stopPropagation(),n){const L=A(P);n({fullName:L.name,companyName:L.company,designation:L.designation,email:L.email,mobile:L.mobile,role:L.role,photoBase64:L.photoBase64,address:L.city})}},R=_=>{const P=_.charges.filter(M=>M.currency==="USD").reduce((M,U)=>M+U.amount,0),L=_.charges.filter(M=>M.currency==="INR").reduce((M,U)=>M+U.amount,0),O=[];return P>0&&O.push(`$${P}`),L>0&&O.push(`${L}`),O.length>0?O.join(" + "):"None"};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-emerald-600/20 rounded-lg text-emerald-400",children:s.jsx(Pt,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Received Offers"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col xl:flex-row justify-between gap-4 bg-white/5 p-4 rounded-2xl border border-white/10 shadow-lg",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full",children:[s.jsxs("div",{className:"relative flex-1 w-full max-w-sm",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Received Offers...",value:y,onChange:_=>w(_.target.value),className:"w-full bg-ocean-950/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2 text-white text-sm focus:ring-2 focus:ring-emerald-500 outline-none transition-all"})]}),s.jsx("div",{className:"flex items-center space-x-2 bg-ocean-950/50 rounded-lg p-1 border border-ocean-700 overflow-x-auto",children:["ALL","LIVE","ACCEPTED","REJECTED"].map(_=>s.jsx("button",{onClick:()=>p(_),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors whitespace-nowrap ${f===_?"bg-emerald-600 text-white":"text-ocean-400 hover:text-white"}`,children:_},_))}),t.isMainUser!==!1&&s.jsxs("select",{className:"bg-ocean-950/50 border border-ocean-700 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-emerald-500 outline-none w-full sm:w-auto",value:h,onChange:_=>m(_.target.value),children:[s.jsx("option",{value:"ME",children:"Received by Me"}),s.jsx("option",{value:"ALL",children:"All Recipients"}),g.map(_=>s.jsx("option",{value:_.id,children:_.fullName},_.id))]}),s.jsx("button",{onClick:b,disabled:E,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2 rounded-lg font-bold shadow-lg transition-all flex items-center shadow-emerald-900/20 disabled:opacity-50",children:E?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden shadow-xl",ref:v,children:s.jsx("div",{className:"overflow-x-auto",style:{minHeight:"200px"},children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Route (POL - POD)"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[15%]",children:"Rate (USD)"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Load Details"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[25%]",children:"Sender / Posted By"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right w-[15%]",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:i.length>0?i.map(_=>{const P=d.includes(_.id),L=A(_.createdBy),O=R(_);return s.jsxs(on.Fragment,{children:[s.jsxs("tr",{className:`hover:bg-white/5 transition-colors cursor-pointer ${P?"bg-white/5":""}`,onClick:M=>I(_.id,M),children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center text-white font-bold text-sm",children:[s.jsx(be,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"})," ",_.pol.split("(")[0]]}),s.jsx("div",{className:"border-l border-dashed border-ocean-600 h-3 ml-1.5"}),s.jsxs("div",{className:"flex items-center text-white font-bold text-sm",children:[s.jsx(be,{className:"w-3.5 h-3.5 mr-2 text-rose-400"})," ",_.pod.split("(")[0]]})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("span",{className:"text-lg font-bold text-emerald-400",children:["$",_.freightRate]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-white font-bold",children:[_.quantity," ",s.jsx("span",{className:"text-xs text-ocean-300",children:_.matrix})]}),s.jsxs("div",{className:"flex items-center mt-1 text-white font-medium text-xs",children:[s.jsx(St,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"})," ",_.loadType]}),_.status!=="LIVE"&&s.jsx("span",{className:`inline-flex items-center text-[10px] font-bold px-2 py-0.5 rounded-full border mt-2 w-fit
                                              ${_.status==="ACCEPTED"?"text-blue-400 bg-blue-900/20 border-blue-900/50":"text-rose-400 bg-rose-900/20 border-rose-900/50"}
                                           `,children:_.status})]})}),s.jsx("td",{className:"px-6 py-4 align-top",onClick:M=>T(M,_.createdBy),children:s.jsxs("div",{className:"flex flex-col group/user",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ct,{className:"w-3.5 h-3.5 mr-2 text-ocean-400 shrink-0 group-hover/user:text-white"}),s.jsx("span",{className:"text-white font-bold text-sm group-hover/user:underline decoration-dotted decoration-ocean-500 underline-offset-4",children:L.name})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Je,{className:"w-3.5 h-3.5 mr-2 text-ocean-400 shrink-0"}),s.jsx("span",{className:"text-cyan-400 text-xs font-semibold",children:L.company})]})]})}),s.jsxs("td",{className:"px-6 py-4 text-right align-top",children:[_.status==="LIVE"?s.jsxs("div",{className:"flex flex-col space-y-2 items-end",children:[s.jsxs("button",{className:"bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-1.5 rounded-lg text-xs font-bold shadow-lg shadow-emerald-900/20 transition-all hover:scale-105 inline-flex items-center",onClick:M=>C(_.id,"ACCEPTED",M),children:[s.jsx(oh,{className:"w-3 h-3 mr-1.5"})," Accept"]}),s.jsxs("button",{className:"text-rose-400 hover:text-white border border-rose-900/40 hover:bg-rose-900/40 px-3 py-1.5 rounded-lg text-xs font-bold transition-all inline-flex items-center",onClick:M=>C(_.id,"REJECTED",M),children:[s.jsx(zs,{className:"w-3 h-3 mr-1.5"})," Reject"]})]}):s.jsx("div",{className:"text-xs text-ocean-500 italic text-right mt-2",children:"No Actions"}),s.jsx("div",{className:"mt-2 flex justify-end",children:P?s.jsx(ns,{className:"w-4 h-4 text-ocean-500"}):s.jsx(ot,{className:"w-4 h-4 text-ocean-500"})})]})]}),P&&s.jsx("tr",{className:"bg-ocean-900/30 border-b border-white/5 animate-fade-in-up cursor-default",onClick:M=>M.stopPropagation(),children:s.jsx("td",{colSpan:5,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-xs",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Vessel & Schedule"}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dn,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"})," ",s.jsx("span",{className:"text-white font-bold",children:_.vesselName})]}),s.jsxs("div",{className:"pl-5 text-ocean-400",children:["Voyage: ",_.voyage||"-"]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ht,{className:"w-3.5 h-3.5 mr-2 text-emerald-400"})," ",s.jsxs("span",{className:"text-white",children:["Schedule: ",_.shipmentSchedule||"-"]})]})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Reference"}),s.jsxs("div",{className:"flex items-center text-white font-mono font-bold",children:[s.jsx($s,{className:"w-3.5 h-3.5 mr-2 text-cyan-400"})," ",_.offerNumber]}),s.jsxs("div",{className:"mt-2 text-ocean-400",children:["Valid Upto: ",s.jsx("span",{className:"text-white",children:new Date(_.validUntil).toLocaleDateString()})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Cargo Details"}),s.jsx("div",{className:"flex items-start",children:s.jsx("p",{className:"text-white text-sm",children:_.cargoDetail})}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-1",children:"Hazardous Info"}),_.isHazardous?s.jsxs("span",{className:"text-rose-400 flex items-center font-bold",children:[s.jsx(qs,{className:"w-3 h-3 mr-1"})," ",_.hazardousDetail]}):s.jsxs("span",{className:"text-emerald-500 flex items-center",children:[s.jsx(we,{className:"w-3 h-3 mr-1"})," Safe"]})]})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-2",children:"Charges Breakdown"}),s.jsxs("div",{className:"bg-black/20 rounded-lg p-3 border border-white/5",children:[_.charges.length>0?_.charges.map((M,U)=>s.jsxs("div",{className:"flex justify-between text-ocean-200 border-b border-white/5 last:border-0 py-1",children:[s.jsx("span",{children:M.name}),s.jsxs("span",{className:"font-mono text-emerald-400",children:[M.amount," ",M.currency]})]},U)):s.jsx("div",{className:"text-ocean-500 italic",children:"No additional charges"}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-white/10 flex justify-between items-center",children:[s.jsx("span",{className:"text-ocean-400 font-bold",children:"Total Additional:"}),s.jsx("span",{className:"text-emerald-400 font-bold text-sm",children:O})]})]})]})]})})})]},_.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-ocean-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(Pt,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No received offers found matching criteria."})]})})})})]})})})]})})]})},YC=({user:e,onClose:t})=>{const n=e.photoBase64||e.photoUrl,o=e.companyName||e.company||"Unknown Company",r=e.address||e.city||"Location not specified";return s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:t,children:s.jsxs("div",{className:"relative w-full max-w-md bg-ocean-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden flex flex-col transform transition-all scale-100",onClick:i=>i.stopPropagation(),children:[s.jsxs("div",{className:"h-28 bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-3 right-3 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full transition-colors z-10",children:s.jsx(Dt,{className:"w-5 h-5"})}),s.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"})]}),s.jsxs("div",{className:"px-8 pb-8 relative bg-ocean-900",children:[s.jsx("div",{className:"absolute -top-12 left-8",children:s.jsx("div",{className:"w-24 h-24 rounded-full border-[4px] border-ocean-900 bg-ocean-800 flex items-center justify-center overflow-hidden shadow-lg group",children:n?s.jsx("img",{src:n,className:"w-full h-full object-cover",alt:e.fullName}):s.jsx(ct,{className:"w-12 h-12 text-ocean-400 group-hover:text-white transition-colors"})})}),s.jsx("div",{className:"mt-14 mb-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:e.fullName||"Unknown User"}),s.jsxs("div",{className:"flex items-center text-ocean-300 mt-1 font-medium",children:[s.jsx(Je,{className:"w-4 h-4 mr-1.5 text-cyan-400"}),s.jsx("span",{children:e.designation||"Designation N/A"})]})]}),e.role&&s.jsx("span",{className:"px-3 py-1 bg-ocean-800 border border-ocean-700 rounded-full text-[10px] text-cyan-400 font-bold uppercase tracking-wider shadow-sm",children:e.role})]})}),s.jsxs("div",{className:"bg-white/5 rounded-xl border border-white/5 p-5 space-y-5 shadow-inner",children:[s.jsxs("div",{className:"flex items-center space-x-4 pb-4 border-b border-white/5",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-ocean-800 flex items-center justify-center border border-white/5 shadow-sm",children:e.logoBase64?s.jsx("img",{src:e.logoBase64,className:"w-8 h-8 object-contain"}):s.jsx(qo,{className:"w-6 h-6 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-ocean-400 uppercase font-bold tracking-wider",children:"Company"}),s.jsx("p",{className:"text-white font-bold text-lg leading-tight",children:o})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-ocean-200 group",children:[s.jsx("div",{className:"w-8 flex justify-center",children:s.jsx(ss,{className:"w-4 h-4 text-ocean-500 group-hover:text-cyan-400 transition-colors"})}),s.jsx("span",{className:"font-medium",children:e.email||"Email not visible"})]}),s.jsxs("div",{className:"flex items-center text-sm text-ocean-200 group",children:[s.jsx("div",{className:"w-8 flex justify-center",children:s.jsx(_i,{className:"w-4 h-4 text-ocean-500 group-hover:text-cyan-400 transition-colors"})}),s.jsx("span",{className:"font-medium",children:e.mobile||"Mobile not visible"})]}),s.jsxs("div",{className:"flex items-start text-sm text-ocean-200 group",children:[s.jsx("div",{className:"w-8 flex justify-center mt-0.5",children:s.jsx(be,{className:"w-4 h-4 text-ocean-500 group-hover:text-cyan-400 transition-colors"})}),s.jsx("span",{className:"leading-snug",children:r})]})]})]}),e.onboardingAnalysis&&s.jsxs("div",{className:"mt-4 p-3 bg-indigo-900/20 border border-indigo-500/20 rounded-lg",children:[s.jsx("p",{className:"text-[10px] text-indigo-300 font-bold uppercase mb-1",children:"AI Profile Insight"}),s.jsxs("p",{className:"text-xs text-indigo-100 line-clamp-2",children:["User is highly active in ",r," region focusing on bulk shipments."]})]})]})]})})},Dh=({userEmail:e,onSuccess:t,onLogout:n,onCancel:o})=>{const[r,i]=N.useState({FREE:0,OFFICE:1999,CORPORATE:9999});N.useEffect(()=>{i(Fe.getPlanPricing())},[]);const a=f=>{window.confirm(`You are about to be redirected to the payment gateway for the ${f} plan (${r[f]}).

Click OK to simulate successful payment.`)&&(ke.updateSubscription(e,f,365),alert("Payment Successful! Subscription Activated."),t())},d=({title:f,price:p,features:h,color:m,popular:y,subText:w})=>s.jsxs("div",{className:`relative bg-white/5 border ${y?"border-emerald-500":"border-white/10"} rounded-2xl p-8 flex flex-col hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-2`,children:[y&&s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-emerald-500 text-white px-4 py-1 rounded-full text-xs font-bold tracking-wider shadow-lg",children:"MOST POPULAR"}),s.jsx("h3",{className:`text-xl font-bold ${m} mb-2`,children:f}),s.jsxs("div",{className:"mb-1",children:[s.jsxs("span",{className:"text-4xl font-bold text-white",children:["",p]}),s.jsx("span",{className:"text-ocean-400",children:"/year"})]}),s.jsx("div",{className:"text-xs text-ocean-400 mb-6",children:w}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-bold text-ocean-500 uppercase mb-3 tracking-wider",children:"Features"}),s.jsx("ul",{className:"space-y-3 mb-8",children:h.map((E,j)=>s.jsxs("li",{className:"flex items-start text-ocean-200 text-sm",children:[s.jsx(Xm,{className:"w-4 h-4 text-emerald-400 mr-2 shrink-0 mt-0.5"})," ",E]},j))})]}),s.jsx("button",{onClick:()=>a(f==="Free Trial"?"FREE":f==="Office Plan"?"OFFICE":"CORPORATE"),className:`w-full py-3 rounded-xl font-bold text-white transition-all shadow-lg ${y?"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500":"bg-ocean-700 hover:bg-ocean-600"}`,children:p===0?"Current Plan":"Subscribe Now"})]}),u=["Auto Emailing & Notifications","WhatsApp Integration","Global Network Access"];return s.jsxs("div",{className:"min-h-screen bg-ocean-950 flex flex-col items-center justify-center p-6 relative overflow-hidden custom-scrollbar",children:[s.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-blue-600/20 rounded-full blur-[150px] pointer-events-none"}),o&&s.jsx("button",{onClick:o,className:"absolute top-6 right-6 p-2 text-ocean-400 hover:text-white bg-white/5 hover:bg-white/10 rounded-full transition-colors z-50",children:s.jsx(Dt,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center max-w-2xl mb-12 relative z-10 animate-fade-in-up",children:[s.jsx(Nc,{className:"w-16 h-16 text-emerald-400 mx-auto mb-4"}),s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Choose Your Plan"}),s.jsx("p",{className:"text-ocean-200 text-lg",children:"Unlock the full power of Seafrex. Scale your logistics operations with our premium features."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full relative z-10 animate-fade-in-up",children:[s.jsx(d,{title:"Free Trial",price:r.FREE,color:"text-ocean-300",subText:"For starters",features:["5 Offers per day","5 Inquiries per day","Create 1 Sub-User","Unlimited Explore Market",...u]}),s.jsx(d,{title:"Office Plan",price:r.OFFICE,color:"text-emerald-400",popular:!0,subText:"For growing teams",features:["Unlimited Offers & Inquiries","Create 5 Sub-Users","Unlimited Explore Market",...u]}),s.jsx(d,{title:"Corporate",price:r.CORPORATE,color:"text-indigo-400",subText:"For large organizations",features:["Unlimited Offers & Inquiries","Create 25 Sub-Users","Unlimited Explore Market",...u]})]}),n&&s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("button",{onClick:n,className:"text-ocean-400 hover:text-white flex items-center mx-auto transition-colors",children:["Log out and return to home ",s.jsx(Hs,{className:"w-4 h-4 ml-2"})]})})]})},ao=["PENDING","CREATED","DO_ISSUED","CUSTOM_CLEARANCE","CARGO_LOAD","GATE_IN","GATE_CLOSE","VESSEL_SAILED","LOAD_DISCHARGED"],KC=({booking:e,onClose:t,onSaveSuccess:n,currentUserEmail:o})=>{const[r,i]=N.useState(1),[a,d]=N.useState([]),[u,f]=N.useState(e.shippingLine||""),[p,h]=N.useState(""),[m,y]=N.useState(e.bookingRef==="PENDING"?"":e.bookingRef),w=ao.indexOf(e.status),E=ao[w+1],j=w===ao.length-1;N.useEffect(()=>{d(te.getShippingLines())},[]);const v=()=>{const x=p||u;if(!m.trim()){alert("Carrier Booking Reference is required to create a booking.");return}if(!x){alert("Shipping Line is required to create a booking.");return}In.updateBooking(e.id,{shippingLine:x,bookingRef:m,status:"CREATED"},o),n()},g=()=>{E&&(In.updateBooking(e.id,{status:E},o),n())};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"w-full max-w-4xl bg-ocean-900 border border-white/20 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"h-16 bg-gradient-to-r from-ocean-800 to-ocean-900 border-b border-white/10 flex items-center justify-between px-6 shrink-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg text-blue-400",children:s.jsx(ji,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold text-white",children:"Process Booking"}),s.jsxs("div",{className:"flex items-center text-xs mt-0.5",children:[s.jsx("span",{className:"text-ocean-400 font-mono mr-2",children:e.id}),s.jsx("span",{className:"bg-ocean-800 text-ocean-200 px-1.5 rounded text-[10px] uppercase",children:e.status.replace(/_/g," ")})]})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-ocean-300 hover:text-white transition-colors",children:s.jsx(Dt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-6 py-4 bg-ocean-950/50 border-b border-white/5 flex items-center gap-4 shrink-0",children:[s.jsx("button",{onClick:()=>i(1),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase transition-all border ${r===1?"bg-blue-600 border-blue-500 text-white":"bg-transparent border-ocean-700 text-ocean-500 hover:text-white"}`,children:"1. Review Detail"}),s.jsx("button",{onClick:()=>i(2),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase transition-all border ${r===2?"bg-blue-600 border-blue-500 text-white":"bg-transparent border-ocean-700 text-ocean-500 hover:text-white"}`,children:"2. Carrier Info"}),s.jsx("button",{onClick:()=>i(3),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase transition-all border ${r===3?"bg-blue-600 border-blue-500 text-white":"bg-transparent border-ocean-700 text-ocean-500 hover:text-white"}`,children:"3. Workflow"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar bg-ocean-900/50",children:[r===1&&s.jsx("div",{className:"space-y-6 animate-fade-in-up",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-black/20 rounded-xl p-5 border border-white/5",children:[s.jsxs("h3",{className:"text-ocean-300 font-bold uppercase text-xs mb-4 flex items-center",children:[s.jsx(St,{className:"w-3 h-3 mr-1"})," Cargo Details"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-1",children:[s.jsx("span",{className:"text-ocean-400 text-xs",children:"Offer Ref"}),s.jsx("span",{className:"text-white text-sm font-mono",children:e.offerNumber})]}),s.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-1",children:[s.jsx("span",{className:"text-ocean-400 text-xs",children:"Commodity"}),s.jsx("span",{className:"text-white text-sm",children:e.commodity})]}),s.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-1",children:[s.jsx("span",{className:"text-ocean-400 text-xs",children:"Load"}),s.jsxs("span",{className:"text-white text-sm font-bold",children:[e.quantity," x ",e.loadType]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-ocean-400 text-xs",children:"Client"}),s.jsx("span",{className:"text-cyan-400 text-sm font-bold",children:e.clientName})]})]})]}),s.jsxs("div",{className:"bg-black/20 rounded-xl p-5 border border-white/5",children:[s.jsxs("h3",{className:"text-ocean-300 font-bold uppercase text-xs mb-4 flex items-center",children:[s.jsx(be,{className:"w-3 h-3 mr-1"})," Route & Schedule"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{className:"text-emerald-400 font-bold",children:e.pol.split("(")[0]}),s.jsx("div",{className:"text-xs text-ocean-500",children:"to"}),s.jsx("div",{className:"text-rose-400 font-bold",children:e.pod.split("(")[0]})]}),s.jsxs("div",{className:"bg-ocean-950/50 p-3 rounded-lg border border-white/5 flex items-center",children:[s.jsx(Ke,{className:"w-8 h-8 text-ocean-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-ocean-400",children:"Vessel / Voyage"}),s.jsxs("div",{className:"text-white font-bold text-sm",children:[e.vesselName," ",s.jsxs("span",{className:"font-normal text-ocean-300",children:["(",e.voyage,")"]})]})]})]})]})]})]})}),r===2&&s.jsx("div",{className:"space-y-6 animate-fade-in-up",children:s.jsxs("div",{className:"bg-black/20 rounded-xl p-6 border border-white/5",children:[s.jsxs("h3",{className:"text-white font-bold mb-6 flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 mr-2 text-blue-400"})," Carrier Information"]}),e.status!=="PENDING"?s.jsxs("div",{className:"p-4 bg-emerald-900/20 border border-emerald-900/50 rounded-xl mb-4",children:[s.jsxs("div",{className:"flex items-center text-emerald-400 font-bold text-sm mb-2",children:[s.jsx(we,{className:"w-4 h-4 mr-2"})," Booking Created"]}),s.jsxs("p",{className:"text-xs text-ocean-300",children:["Ref: ",e.bookingRef]}),s.jsxs("p",{className:"text-xs text-ocean-300",children:["Line: ",e.shippingLine]}),s.jsx("p",{className:"text-[10px] text-ocean-500 mt-2 italic",children:"To modify details, please contact admin support."})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase",children:["Carrier Booking Ref ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsx("input",{type:"text",value:m,onChange:x=>y(x.target.value),className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-blue-500 outline-none placeholder-ocean-600 font-mono",placeholder:"e.g. MAEU123456789"}),s.jsxs("p",{className:"text-[10px] text-ocean-500 flex items-center",children:[s.jsx(Qm,{className:"w-3 h-3 mr-1"})," Required to create booking."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-ocean-300 uppercase",children:["Shipping Line ",s.jsx("span",{className:"text-rose-500",children:"*"})]}),s.jsxs("select",{value:u,onChange:x=>{f(x.target.value),x.target.value!=="OTHER"&&h("")},className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"",disabled:!0,children:"-- Select Carrier --"}),a.map(x=>s.jsxs("option",{value:x.lineName,children:[x.lineName," (",x.unitName,")"]},x.id)),s.jsx("option",{value:"OTHER",children:"Other / Manual Entry"})]})]})]}),e.status==="PENDING"&&u==="OTHER"&&s.jsxs("div",{className:"space-y-2 mt-4 animate-fade-in",children:[s.jsx("label",{className:"text-xs font-bold text-ocean-300 uppercase",children:"Enter Shipping Line Name"}),s.jsx("input",{type:"text",value:p,onChange:x=>h(x.target.value),className:"w-full bg-ocean-950 border border-ocean-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Carrier Name"})]}),e.status==="PENDING"&&s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsxs("button",{onClick:v,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded-xl font-bold shadow-lg flex items-center transition-all",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"})," Save & Create Booking"]})})]})}),r===3&&s.jsx("div",{className:"space-y-6 animate-fade-in-up",children:s.jsxs("div",{className:"bg-black/20 rounded-xl p-6 border border-white/5",children:[s.jsxs("h3",{className:"text-white font-bold mb-6 flex items-center",children:[s.jsx(we,{className:"w-4 h-4 mr-2 text-emerald-400"})," Shipment Workflow"]}),s.jsx("div",{className:"relative flex flex-col space-y-0",children:ao.map((x,b)=>{const C=b<w,A=b===w,I=b===w+1;return s.jsxs("div",{className:"flex items-start relative pb-6 last:pb-0",children:[b!==ao.length-1&&s.jsx("div",{className:`absolute left-[15px] top-[30px] bottom-0 w-0.5 ${C?"bg-emerald-600":"bg-ocean-800"}`}),s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 z-10 
                                                ${C?"bg-emerald-600 text-white":A?"bg-blue-600 text-white ring-4 ring-blue-900":I?"bg-ocean-800 text-ocean-400 border border-ocean-600":"bg-ocean-900 text-ocean-600 border border-ocean-800"}
                                            `,children:C?s.jsx(we,{className:"w-5 h-5"}):b+1}),s.jsxs("div",{className:"ml-4 pt-1",children:[s.jsx("div",{className:`text-sm font-bold uppercase ${C?"text-emerald-400":A?"text-blue-400":"text-ocean-500"}`,children:x.replace(/_/g," ")}),A&&s.jsx("div",{className:"text-[10px] text-ocean-300 mt-1",children:"Current Stage"}),!C&&!A&&!I&&s.jsx(Ee,{className:"w-3 h-3 text-ocean-600 mt-1"})]}),I&&s.jsx("div",{className:"ml-auto",children:s.jsxs("button",{onClick:g,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-xs font-bold shadow-lg flex items-center transition-all animate-pulse",children:["Mark as ",x.replace(/_/g," ")," ",s.jsx(Hs,{className:"w-3 h-3 ml-2"})]})})]},x)})}),j&&s.jsxs("div",{className:"mt-6 p-4 bg-emerald-900/20 border border-emerald-900/50 rounded-xl text-center text-emerald-400 font-bold",children:[s.jsx(we,{className:"w-6 h-6 mx-auto mb-2"}),"Shipment process completed."]})]})})]}),s.jsx("div",{className:"p-6 border-t border-white/10 flex justify-between bg-ocean-900",children:s.jsx("button",{onClick:t,className:"px-6 py-2 text-ocean-300 hover:text-white transition-colors font-medium",children:"Close"})})]})})},QC=({onBack:e,currentUser:t})=>{const[n,o]=N.useState([]),[r,i]=N.useState([]),[a,d]=N.useState(""),[u,f]=N.useState("ALL"),[p,h]=N.useState(null),[m,y]=N.useState(null),[w,E]=N.useState(!1);N.useEffect(()=>{j()},[]),N.useEffect(()=>{n.length>0&&v()},[n]);const j=()=>{const A=In.getBookings().filter(I=>I.clientUser===(t.email||"main")||I.providerUser===(t.email||"main")||t.isMainUser&&(I.clientUser==="main"||I.providerUser==="main"));o(A)},v=()=>{E(!0),setTimeout(()=>{const C=n.filter(A=>{const I=(A.bookingRef||"").toLowerCase().includes(a.toLowerCase())||(A.pol||"").toLowerCase().includes(a.toLowerCase())||(A.pod||"").toLowerCase().includes(a.toLowerCase());let T=!0;return u==="PENDING"&&(T=A.status==="PENDING"),u==="ACTIVE"&&(T=!["PENDING","LOAD_DISCHARGED"].includes(A.status)),u==="COMPLETED"&&(T=A.status==="LOAD_DISCHARGED"),I&&T});i(C),E(!1)},300)},g=C=>{h(C)},x=C=>{y(C)},b=()=>{h(null),j()};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up relative",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg text-blue-400",children:s.jsx(ji,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Bookings & Shipments"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 bg-white/5 p-4 rounded-2xl border border-white/10 shadow-lg",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Booking ID, Route...",value:a,onChange:C=>d(C.target.value),className:"w-full bg-ocean-900/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2 text-white text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),s.jsx("div",{className:"flex items-center space-x-2 bg-ocean-950/50 rounded-lg p-1 border border-ocean-700",children:["ALL","PENDING","ACTIVE","COMPLETED"].map(C=>s.jsx("button",{onClick:()=>f(C),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${u===C?"bg-blue-600 text-white":"text-ocean-400 hover:text-white"}`,children:C},C))}),s.jsx("button",{onClick:v,disabled:w,className:"bg-blue-600 hover:bg-blue-500 text-white px-5 py-2 rounded-lg font-bold shadow-lg flex items-center disabled:opacity-50",children:w?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden shadow-xl",children:s.jsx("div",{className:"overflow-x-auto",style:{minHeight:"200px"},children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Booking Ref"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Route"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Cargo"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Partner"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:r.length>0?r.map(C=>{const A=C.providerUser===(t.email||"main"),I=C.status==="PENDING"?"bg-amber-900/30 text-amber-400":C.status==="LOAD_DISCHARGED"?"bg-emerald-900/30 text-emerald-400":"bg-blue-900/30 text-blue-400";return s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-mono font-bold text-white",children:C.bookingRef}),C.shippingLine&&s.jsx("div",{className:"text-xs text-ocean-400 mt-1",children:C.shippingLine}),s.jsxs("div",{className:"text-[10px] text-ocean-600 mt-0.5",children:["ID: ",C.id]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("span",{className:"flex items-center text-white text-xs font-bold",children:[s.jsx(be,{className:"w-3 h-3 mr-1 text-emerald-400"})," ",C.pol.split("(")[0]]}),s.jsxs("span",{className:"flex items-center text-white text-xs font-bold",children:[s.jsx(be,{className:"w-3 h-3 mr-1 text-rose-400"})," ",C.pod.split("(")[0]]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium text-white",children:C.commodity}),s.jsxs("div",{className:"text-xs text-ocean-400 mt-1",children:[s.jsx(St,{className:"w-3 h-3 inline mr-1"}),C.quantity," x ",C.loadType]})]}),s.jsx("td",{className:"px-6 py-4",children:A?s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-ocean-400 block",children:"Client:"}),s.jsx("span",{className:"text-white font-bold",children:C.clientName})]}):s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-ocean-400 block",children:"Provider:"}),s.jsx("span",{className:"text-cyan-400 font-bold",children:"Service Provider"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider ${I}`,children:C.status.replace(/_/g," ")})}),s.jsx("td",{className:"px-6 py-4 text-right",children:A?s.jsxs("button",{onClick:()=>g(C),className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded-lg text-xs font-bold transition-all shadow-lg flex items-center ml-auto",children:[s.jsx(Fs,{className:"w-3 h-3 mr-1.5"})," Process"]}):s.jsxs("button",{onClick:()=>x(C),className:"bg-ocean-800 hover:bg-ocean-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold transition-all border border-ocean-600 flex items-center ml-auto",children:[s.jsx(ua,{className:"w-3 h-3 mr-1.5"})," Track Status"]})})]},C.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-ocean-400",children:"No bookings found."})})})]})})})]})}),p&&s.jsx(KC,{booking:p,onClose:()=>h(null),onSaveSuccess:b,currentUserEmail:t.email||"main"}),m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"w-full max-w-lg bg-ocean-900 border border-white/20 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[s.jsxs("div",{className:"h-14 bg-white/5 border-b border-white/10 flex items-center justify-between px-6",children:[s.jsxs("h3",{className:"font-bold text-white flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 mr-2 text-cyan-400"})," Shipment Tracking"]}),s.jsx("button",{onClick:()=>y(null),className:"text-ocean-400 hover:text-white",children:s.jsx(ua,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[s.jsxs("div",{className:"mb-6 bg-black/20 p-4 rounded-xl border border-white/5",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-ocean-500 uppercase font-bold",children:"Booking Ref"}),s.jsx("p",{className:"text-xl text-white font-mono font-bold",children:m.bookingRef})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-ocean-500 uppercase font-bold",children:"Line"}),s.jsx("p",{className:"text-white",children:m.shippingLine||"-"})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-emerald-400 font-bold",children:m.pol.split("(")[0]}),s.jsx("div",{className:"h-0.5 bg-ocean-700 flex-1 mx-3 relative",children:s.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-ocean-900 px-2 text-[10px] text-ocean-400",children:["VIA ",m.vesselName]})}),s.jsx("span",{className:"text-rose-400 font-bold",children:m.pod.split("(")[0]})]})]}),s.jsx("div",{className:"space-y-6 relative before:absolute before:inset-0 before:ml-2.5 before:-translate-x-px before:h-full before:w-0.5 before:bg-gradient-to-b before:from-ocean-800 before:via-ocean-700 before:to-transparent pl-8",children:m.timeline.slice().reverse().map((C,A)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:`absolute -left-8 top-1 w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 z-10 bg-ocean-950 ${A===0?"border-blue-500 text-blue-500 shadow-lg shadow-blue-900/50":"border-ocean-600 text-ocean-600"}`,children:s.jsx("div",{className:`w-2 h-2 rounded-full ${A===0?"bg-current":"bg-transparent"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-bold ${A===0?"text-white":"text-ocean-300"}`,children:C.status.replace(/_/g," ")}),s.jsx("p",{className:"text-xs text-ocean-500 font-mono mt-0.5",children:new Date(C.date).toLocaleString()}),C.remarks&&s.jsxs("p",{className:"text-xs text-ocean-400 mt-1 italic",children:['"',C.remarks,'"']})]})]},A))})]})]})})]})},XC=({onBack:e,currentUser:t})=>{const[n,o]=N.useState([]),[r,i]=N.useState([]),[a,d]=N.useState(""),[u,f]=N.useState("ALL"),[p,h]=N.useState([]),[m,y]=N.useState(null),[w,E]=N.useState(!1),j=N.useRef(null);N.useEffect(()=>{v()},[]),N.useEffect(()=>{n.length>0&&g()},[n]),N.useEffect(()=>{const I=T=>{const R=T.target;m&&!R.closest(".action-menu-container")&&y(null)};return document.addEventListener("click",I),()=>document.removeEventListener("click",I)},[m]);const v=()=>{const T=In.getBookings().filter(R=>R.clientUser===(t.email||"main")||R.providerUser===(t.email||"main")||t.isMainUser&&(R.clientUser==="main"||R.providerUser==="main"));o(T)},g=()=>{E(!0),setTimeout(()=>{const I=n.filter(T=>{const R=(T.bookingRef||"").toLowerCase().includes(a.toLowerCase()),_=(T.pol||"").toLowerCase().includes(a.toLowerCase()),P=(T.pod||"").toLowerCase().includes(a.toLowerCase()),L=(T.offerNumber||"").toLowerCase().includes(a.toLowerCase()),O=R||_||P||L;let M=!0;return u==="PENDING"&&(M=T.status==="PENDING"),u==="ACTIVE"&&(M=!["PENDING","LOAD_DISCHARGED"].includes(T.status)),u==="COMPLETED"&&(M=T.status==="LOAD_DISCHARGED"),O&&M});i(I),E(!1)},300)},x=(I,T)=>{T&&T.stopPropagation(),h(R=>R.includes(I)?R.filter(_=>_!==I):[...R,I])},b=(I,T)=>{T.stopPropagation(),y(R=>R===I?null:I)},C=I=>{y(null),alert(`Printing Booking Report for Ref: ${I.bookingRef}...`)},A=I=>{y(null),alert(`Emailing status report for Ref: ${I.bookingRef} to client.`)};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up relative",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-indigo-600/20 rounded-lg text-indigo-400",children:s.jsx(Ag,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Booking Report"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 bg-white/5 p-4 rounded-2xl border border-white/10 shadow-lg",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(le,{className:"absolute left-3 top-2.5 h-4 w-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:"Search Ref, Route, Offer...",value:a,onChange:I=>d(I.target.value),className:"w-full bg-ocean-900/50 border border-ocean-700 rounded-lg pl-10 pr-4 py-2 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all"})]}),s.jsx("div",{className:"flex items-center space-x-2 bg-ocean-950/50 rounded-lg p-1 border border-ocean-700",children:["ALL","PENDING","ACTIVE","COMPLETED"].map(I=>s.jsx("button",{onClick:()=>f(I),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${u===I?"bg-indigo-600 text-white":"text-ocean-400 hover:text-white"}`,children:I},I))}),s.jsx("button",{onClick:g,disabled:w,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-5 py-2 rounded-lg font-bold shadow-lg flex items-center disabled:opacity-50",children:w?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden shadow-xl",ref:j,children:s.jsx("div",{className:"overflow-x-auto",style:{minHeight:"200px"},children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Booking Ref / Date"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Route"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[20%]",children:"Carrier & Vessel"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[15%]",children:"Cargo Details"}),s.jsx("th",{className:"px-6 py-4 font-semibold w-[15%]",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right w-[10%]",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:r.length>0?r.map(I=>{const T=p.includes(I.id),R=I.status==="PENDING"?"bg-amber-900/30 text-amber-400":I.status==="LOAD_DISCHARGED"?"bg-emerald-900/30 text-emerald-400":"bg-blue-900/30 text-blue-400";return s.jsxs(on.Fragment,{children:[s.jsxs("tr",{className:`hover:bg-white/5 transition-colors cursor-pointer ${T?"bg-white/5":""}`,onClick:_=>x(I.id,_),children:[s.jsxs("td",{className:"px-6 py-4 align-top",children:[s.jsx("div",{className:"font-mono font-bold text-white text-sm",children:I.bookingRef!=="PENDING"?I.bookingRef:"PENDING"}),s.jsxs("div",{className:"text-[10px] text-ocean-400 mt-1 flex items-center",children:[s.jsx(kn,{className:"w-3 h-3 mr-1"})," ",new Date(I.createdAt).toLocaleDateString()]}),s.jsx("div",{className:"text-[10px] text-ocean-600 mt-0.5 font-mono",children:I.id})]}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("span",{className:"flex items-center text-white text-xs font-bold",children:[s.jsx(be,{className:"w-3 h-3 mr-1 text-emerald-400"})," ",I.pol.split("(")[0]]}),s.jsxs("span",{className:"flex items-center text-white text-xs font-bold",children:[s.jsx(be,{className:"w-3 h-3 mr-1 text-rose-400"})," ",I.pod.split("(")[0]]})]})}),s.jsxs("td",{className:"px-6 py-4 align-top",children:[s.jsx("div",{className:"font-medium text-white text-xs",children:I.shippingLine||"-"}),s.jsxs("div",{className:"text-[10px] text-ocean-400 mt-1 flex items-center",children:[s.jsx(Dn,{className:"w-3 h-3 mr-1"})," ",I.vesselName]}),s.jsxs("div",{className:"text-[10px] text-ocean-500",children:["Voy: ",I.voyage]})]}),s.jsxs("td",{className:"px-6 py-4 align-top",children:[s.jsx("div",{className:"font-medium text-white",children:I.commodity}),s.jsxs("div",{className:"text-xs text-ocean-400 mt-1",children:[s.jsx(St,{className:"w-3 h-3 inline mr-1"}),I.quantity," x ",I.loadType]})]}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider ${R}`,children:I.status.replace(/_/g," ")})}),s.jsx("td",{className:"px-6 py-4 text-right align-top relative",children:s.jsxs("div",{className:"flex flex-col items-end gap-2 action-menu-container",onClick:_=>_.stopPropagation(),children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:_=>b(I.id,_),className:"px-2 py-1 bg-ocean-800 hover:bg-ocean-700 text-ocean-200 rounded border border-ocean-600 flex items-center text-xs font-medium transition-colors",children:["Action ",s.jsx(th,{className:"w-3 h-3 ml-1"})]}),m===I.id&&s.jsxs("div",{className:"absolute right-0 top-full mt-1 w-36 bg-ocean-900 border border-ocean-700 rounded-xl shadow-xl z-50 overflow-hidden animate-fade-in-up",children:[s.jsxs("button",{onClick:_=>{_.stopPropagation(),x(I.id,_),y(null)},className:"w-full text-left px-3 py-2 text-xs text-cyan-400 hover:bg-white/10 flex items-center",children:[s.jsx(ua,{className:"w-3 h-3 mr-2"})," View Details"]}),s.jsxs("button",{onClick:_=>{_.stopPropagation(),C(I)},className:"w-full text-left px-3 py-2 text-xs text-ocean-300 hover:bg-white/10 flex items-center",children:[s.jsx(Lg,{className:"w-3 h-3 mr-2"})," Print Report"]}),s.jsxs("button",{onClick:_=>{_.stopPropagation(),A(I)},className:"w-full text-left px-3 py-2 text-xs text-ocean-300 hover:bg-white/10 flex items-center",children:[s.jsx(ss,{className:"w-3 h-3 mr-2"})," Email Status"]})]})]}),s.jsxs("button",{onClick:_=>x(I.id,_),className:"text-xs flex items-center text-indigo-400 hover:text-white mt-1",children:[T?"Collapse":"Expand"," ",T?s.jsx(ns,{className:"w-3 h-3 ml-1"}):s.jsx(ot,{className:"w-3 h-3 ml-1"})]})]})})]}),T&&s.jsx("tr",{className:"bg-ocean-900/30 border-b border-white/5 animate-fade-in-up",onClick:_=>_.stopPropagation(),children:s.jsx("td",{colSpan:6,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-xs",children:[s.jsxs("div",{className:"col-span-1 border-r border-white/5 pr-4",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-3",children:"Partner Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-ocean-400",children:"Offer Reference:"}),s.jsx("span",{className:"text-white font-mono",children:I.offerNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-ocean-400",children:"Client:"}),s.jsx("span",{className:"text-white",children:I.clientName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-ocean-400",children:"Provider:"}),s.jsx("span",{className:"text-white",children:I.providerUser})]})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-ocean-500 font-bold uppercase mb-3",children:"Recent Status History"}),s.jsx("div",{className:"space-y-3 relative before:absolute before:inset-0 before:ml-1.5 before:-translate-x-px before:h-full before:w-0.5 before:bg-gradient-to-b before:from-emerald-500/50 before:to-transparent pl-4",children:I.timeline.slice().reverse().slice(0,3).map((_,P)=>s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute -left-4 top-1 w-3 h-3 rounded-full border border-ocean-950 ${P===0?"bg-emerald-500":"bg-ocean-700"}`}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("span",{className:`font-bold ${P===0?"text-white":"text-ocean-400"}`,children:_.status.replace(/_/g," ")}),_.remarks&&s.jsx("p",{className:"text-ocean-500 italic mt-0.5",children:_.remarks})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-ocean-400",children:new Date(_.date).toLocaleDateString()}),s.jsx("div",{className:"text-ocean-600 text-[10px]",children:new Date(_.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]},P))})]})]})})})]},I.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-ocean-400",children:"No bookings found matching criteria."})})})]})})})]})})]})},Gn=[{id:"dashboard",label:"Dashboard",icon:St},{id:"network",label:"Network",icon:Mt,subItems:[{id:"network-pending",label:"Pending Request"},{id:"network-my",label:"My Network"},{id:"network-send",label:"Send Request"}]},{id:"internal",label:"Internal Party",icon:Wn,subItems:[{id:"internal-list",label:"Party List"},{id:"internal-create",label:"Create Party"}]},{id:"inquiries",label:"Inquiries",icon:le,subItems:[{id:"inquiries-create",label:"Create"},{id:"inquiries-explore",label:"Explore"},{id:"inquiries-my",label:"My Inquiries"},{id:"inquiries-received",label:"Received"}]},{id:"offers",label:"Offers",icon:Pt,subItems:[{id:"offers-create",label:"Create"},{id:"offers-explore",label:"Explore"},{id:"offers-my",label:"My Offers"},{id:"offers-received",label:"Received"}]},{id:"booking",label:"Booking",icon:ji,subItems:[{id:"booking-pending",label:"Pending"},{id:"booking-report",label:"Booking Report"}]},{id:"ecrm",label:"ECRM",icon:At,subItems:[{id:"ecrm-create",label:"Create Ticket"},{id:"ecrm-list",label:"Ticket List"}]},{id:"masters",label:"Masters",icon:da,subItems:[{id:"masters-charges",label:"Charges"},{id:"masters-branch",label:"Branch"},{id:"masters-subuser",label:"Sub-User"},{id:"masters-shipping-lines",label:"Shipping Lines"}]}],ZC=[{label:"Pending Inquiries",value:12,color:"text-amber-400",bg:"bg-amber-400/10",border:"border-amber-400/20",icon:le},{label:"Received Offers",value:5,color:"text-emerald-400",bg:"bg-emerald-400/10",border:"border-emerald-400/20",icon:Pt},{label:"Pending Tickets",value:3,color:"text-rose-400",bg:"bg-rose-400/10",border:"border-rose-400/20",icon:At},{label:"Draft Bookings",value:2,color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-400/20",icon:ji}],eE=[{id:"INQ-2024-001",module:"Inquiry",subject:"20ft Container to Shanghai",date:"2024-05-10",status:"Pending"},{id:"TKT-9921",module:"ECRM",subject:"Login issue for sub-user",date:"2024-05-11",status:"Urgent"},{id:"OFR-8821",module:"Offers",subject:"Special Rate: Mumbai to Dubai",date:"2024-05-12",status:"Review"},{id:"BKG-1102",module:"Booking",subject:"Pending confirmation from carrier",date:"2024-05-12",status:"Draft"},{id:"INQ-2024-005",module:"Inquiry",subject:"LCL Cargo to Rotterdam",date:"2024-05-13",status:"New"}],tE=({user:e,onLogout:t})=>{var Be,ne,Me,X,D,Q,ce,Ce,De;const[n,o]=N.useState("dashboard"),[r,i]=N.useState(null),[a,d]=N.useState([]),[u,f]=N.useState(!1),[p,h]=N.useState(!1),[m,y]=N.useState(!1),[w,E]=N.useState(null),[j,v]=N.useState(null),[g,x]=N.useState(null),[b,C]=N.useState(null),[A,I]=N.useState(null),[T,R]=N.useState(null),_=V=>{d(Y=>Y.includes(V)?[]:[V])},P=(V,Y)=>{o(V),i(Y),y(!1),V!=="internal"&&E(null),(V!=="ecrm"||Y==="ecrm-create")&&v(null),(V!=="offers"||Y==="offers-create")&&(Y==="offers-create"&&g&&x(null),(V!=="offers"||Y!=="offers-create")&&C(null)),(V!=="inquiries"||Y!=="inquiries-create")&&I(null),V==="internal"&&Y==="internal-create"&&E(null),window.innerWidth<768&&f(!1)},L=V=>{if(V.subItems&&V.subItems.length>0){_(V.id);return}o(V.id),i(null),y(!1),E(null),v(null),x(null),C(null),I(null),window.innerWidth<768&&f(!1)},O=V=>{E(V),i("internal-create")},M=V=>{v(V),i("ecrm-update")},U=V=>{x(V),C(null),i("offers-create")},S=(V,Y)=>{const re={offerType:"SPECIFIC",offerGroup:"NETWORK_PARTY",targetPartyId:V.createdBy,targetPartyName:(Y==null?void 0:Y.company)||"Unknown Company",targetUserName:(Y==null?void 0:Y.name)||"Unknown User",targetPartyDisplay:Y?`${Y.name} - ${Y.company}`:V.createdBy,pol:V.pol,pod:V.pod,loadType:V.loadType,quantity:V.quantity,matrix:V.matrix,cargoDetail:V.cargoDetail,isHazardous:V.isHazardous,hazardousDetail:V.hazardousDetail,id:"",offerNumber:"",freightRate:0,shipmentSchedule:V.shipmentSchedule,charges:[],vesselName:"",voyage:"",gateCloseDate:"",validUntil:"",transitPort:"Direct",status:"LIVE"};C(re),x(null),o("offers"),i("offers-create")},B=(V,Y)=>{const re={inquiryType:"SPECIFIC",inquiryGroup:"NETWORK_PARTY",targetPartyId:V.createdBy,targetPartyName:(Y==null?void 0:Y.company)||"Unknown Company",targetUserName:(Y==null?void 0:Y.name)||"Unknown User",targetPartyDisplay:Y?`${Y.name} - ${Y.company}`:V.createdBy,pol:V.pol,pod:V.pod,loadType:V.loadType,quantity:V.quantity,matrix:V.matrix,cargoDetail:V.cargoDetail,isHazardous:V.isHazardous,hazardousDetail:V.hazardousDetail,shipmentSchedule:V.shipmentSchedule,id:"",inquiryNumber:"",status:"LIVE",validUntil:""};I(re),o("inquiries"),i("inquiries-create")},k=V=>{R(V)},H=()=>{y(!1),window.location.reload()},G=(V,Y)=>{if(Y){if(e.role===Yt.LINER_OPERATOR){if(V==="inquiries")return Y.filter(re=>!["inquiries-create","inquiries-my"].includes(re.id));if(V==="offers")return Y.filter(re=>!["offers-explore","offers-received"].includes(re.id));if(V==="masters")return Y.filter(re=>re.id!=="masters-shipping-lines")}if(e.role===Yt.SHIPPER_EXPORTER){if(V==="inquiries")return Y.filter(re=>!["inquiries-explore","inquiries-received"].includes(re.id));if(V==="offers")return Y.filter(re=>!["offers-create","offers-my"].includes(re.id));if(V==="masters")return Y.filter(re=>re.id!=="masters-charges"&&re.id!=="masters-shipping-lines")}return e.role===Yt.FORWARDER_AGENT?Y:V==="masters"?Y.filter(re=>re.id!=="masters-shipping-lines"):Y}},K=V=>new Date(V).toLocaleDateString("en-GB"),he=(()=>{if(e.plan!=="FREE")return null;const V=new Date(e.expiryDate),Y=new Date,re=Math.abs(V.getTime()-Y.getTime());return Math.ceil(re/(1e3*60*60*24))})(),ee=()=>s.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 bg-ocean-900 border-b border-white/10 z-50 flex items-center justify-between px-4 md:px-6 shadow-md",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>f(!u),className:"md:hidden p-2 text-ocean-200 hover:text-white",children:u?s.jsx(Dt,{}):s.jsx(eh,{})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-ocean-800 rounded-lg border border-white/10",children:s.jsx(Dn,{className:"w-6 h-6 text-cyan-400"})}),s.jsxs("span",{className:"text-xl font-bold tracking-wide text-white",children:["SEAFREX ",s.jsx("span",{className:"text-ocean-400 font-light",children:"PORTAL"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"hidden sm:flex items-center px-3 py-1 bg-ocean-800/50 rounded-full border border-ocean-700/50",children:[s.jsx(Co,{className:"w-3.5 h-3.5 mr-2 text-amber-400"}),s.jsx("span",{className:"text-xs text-ocean-200 font-medium mr-1",children:e.plan||"Free"}),s.jsxs("span",{className:"text-[10px] text-ocean-500",children:["Exp: ",K(e.expiryDate)]})]}),he!==null&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:`hidden md:flex items-center px-3 py-1 rounded-full text-xs font-bold border ${he<7?"bg-rose-900/40 text-rose-300 border-rose-800":"bg-ocean-800/40 text-ocean-300 border-ocean-700"}`,children:[s.jsx(Ht,{className:"w-3 h-3 mr-2"}),he," Days Left"]}),s.jsxs("button",{onClick:()=>y(!0),className:"px-3 py-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white text-xs font-bold rounded-full shadow-lg transition-all flex items-center",children:[s.jsx(Gg,{className:"w-3 h-3 mr-1"})," Upgrade"]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!p),className:"flex items-center space-x-3 focus:outline-none group p-2 rounded-lg hover:bg-white/5 transition-colors",children:[s.jsxs("div",{className:"text-right hidden sm:block",children:[s.jsx("p",{className:"text-sm font-semibold text-white group-hover:text-ocean-100",children:e.fullName}),s.jsx("p",{className:"text-xs text-ocean-400 group-hover:text-ocean-300",children:e.companyName})]}),s.jsx("div",{className:"w-9 h-9 rounded-full bg-ocean-700 border border-ocean-500 flex items-center justify-center overflow-hidden ring-2 ring-transparent group-hover:ring-ocean-500/50 transition-all",children:e.photoBase64?s.jsx("img",{src:e.photoBase64,alt:"User",className:"w-full h-full object-cover"}):s.jsx(ct,{className:"w-5 h-5 text-ocean-200"})}),s.jsx(ot,{className:`w-4 h-4 text-ocean-400 transition-transform ${p?"rotate-180":""}`})]}),p&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-2xl py-2 z-50 border border-gray-100 animate-fade-in-up",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 sm:hidden",children:[s.jsx("p",{className:"text-sm font-bold text-gray-900",children:e.fullName}),s.jsx("p",{className:"text-xs text-gray-500",children:e.companyName})]}),s.jsxs("button",{onClick:()=>{o("profile"),h(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-ocean-50 hover:text-ocean-600 flex items-center",children:[s.jsx(ct,{className:"w-4 h-4 mr-2"})," View Profile"]}),s.jsxs("button",{onClick:()=>{y(!0),h(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-ocean-50 hover:text-ocean-600 flex items-center",children:[s.jsx(Co,{className:"w-4 h-4 mr-2 text-amber-500"})," Subscription"]}),s.jsx("div",{className:"border-t border-gray-100 my-1"}),s.jsxs("button",{onClick:t,className:"w-full text-left px-4 py-2 text-sm text-rose-600 hover:bg-rose-50 flex items-center",children:[s.jsx(pa,{className:"w-4 h-4 mr-2"})," Logout"]})]})]})]})]})]});return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950 text-white overflow-hidden font-sans",children:[s.jsx(ee,{}),s.jsxs("div",{className:"flex flex-1 pt-16 overflow-hidden",children:[s.jsx("aside",{className:`fixed inset-y-0 left-0 top-16 bottom-0 z-40 w-64 bg-ocean-900/95 backdrop-blur-xl border-r border-white/10 transition-transform duration-300 ease-in-out ${u?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 flex flex-col shadow-2xl`,children:s.jsx("div",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-1 custom-scrollbar",children:Gn.map(V=>{const Y=V.icon,re=a.includes(V.id),Le=n===V.id,pt=G(V.id,V.subItems);return s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>L(V),className:`w-full flex items-center justify-between px-3 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${Le&&!pt?"bg-ocean-600 text-white shadow-lg shadow-ocean-900/50":"text-ocean-200 hover:bg-ocean-800 hover:text-white"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Y,{className:"w-5 h-5"}),s.jsx("span",{children:V.label})]}),pt&&pt.length>0&&s.jsx(ot,{className:`w-4 h-4 transition-transform ${re?"rotate-180":""}`})]}),pt&&pt.length>0&&re&&s.jsx("div",{className:"mt-1 ml-4 border-l border-white/10 space-y-1",children:pt.map(rs=>s.jsx("button",{onClick:Ko=>{Ko.stopPropagation(),P(V.id,rs.id)},className:`w-full flex items-center pl-6 pr-3 py-2 text-xs rounded-r-lg transition-colors ${r===rs.id?"bg-ocean-800/50 text-ocean-200 border-l-2 border-ocean-400":"text-ocean-400 hover:text-white hover:bg-white/5"}`,children:rs.label},rs.id))})]},V.id)})})}),s.jsx("main",{className:"flex-1 flex flex-col h-full relative overflow-hidden bg-gradient-to-br from-ocean-950 to-black",children:m?s.jsx(Dh,{userEmail:e.email,onSuccess:H,onCancel:()=>y(!1)}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-12 bg-white/5 backdrop-blur-sm border-b border-white/10 flex items-center justify-between px-6 shrink-0",children:s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"text-ocean-400 font-medium",children:((Be=Gn.find(V=>V.id===n))==null?void 0:Be.label)||"Dashboard"}),r&&s.jsxs(s.Fragment,{children:[s.jsx(Jd,{className:"w-4 h-4 mx-2 text-ocean-600"}),s.jsx("span",{className:"text-white",children:r==="ecrm-update"?"Update Ticket":r==="offers-create"&&g?"Revise Offer":r==="offers-create"&&b?"Reply with Offer":r==="inquiries-create"&&A?"Send Inquiry from Offer":((X=(Me=(ne=Gn.find(V=>V.id===n))==null?void 0:ne.subItems)==null?void 0:Me.find(V=>V.id===r))==null?void 0:X.label)||r})]})]})}),n==="network"?r==="network-my"?s.jsx(wC,{onBack:()=>o("dashboard"),onSendRequest:()=>i("network-send"),currentUser:e,onViewProfile:k}):s.jsx(CC,{onBack:()=>o("dashboard")}):n==="internal"?r==="internal-create"?s.jsx(TC,{initialData:w,onBack:()=>{i("internal-list"),E(null)},onSaveSuccess:()=>{i("internal-list"),E(null)}}):s.jsx(EC,{onBack:()=>o("dashboard"),onEdit:O,onCreateNew:()=>{E(null),i("internal-create")},currentUser:e,onViewProfile:k}):n==="ecrm"?r==="ecrm-create"?s.jsx(_C,{onBack:()=>i("ecrm-list"),onSaveSuccess:()=>i("ecrm-list"),currentUser:e}):r==="ecrm-update"&&j?s.jsx(Mh,{ticketId:j,onBack:()=>{i("ecrm-list"),v(null)},onUpdateSuccess:()=>{i("ecrm-list"),v(null)},currentUser:e}):s.jsx(jC,{onBack:()=>o("dashboard"),onCreateNew:()=>i("ecrm-create"),onSelectTicket:M,currentUser:e,onViewProfile:k}):n==="masters"?r==="masters-branch"?s.jsx(kC,{onBack:()=>o("dashboard"),currentUser:e}):r==="masters-subuser"?s.jsx(AC,{onBack:()=>o("dashboard"),currentUser:e,onViewProfile:k}):r==="masters-charges"?s.jsx(PC,{onBack:()=>o("dashboard"),currentUser:e}):r==="masters-shipping-lines"?s.jsx(RC,{onBack:()=>o("dashboard"),currentUser:e}):null:n==="inquiries"?r==="inquiries-create"?s.jsx(LC,{onBack:()=>{i("inquiries-my"),I(null)},onSaveSuccess:()=>{i("inquiries-my"),I(null)},currentUser:e,initialData:A,isResponseMode:!!A}):r==="inquiries-explore"?s.jsx(VC,{onBack:()=>o("dashboard"),currentUser:e,onReplyWithOffer:S,onViewProfile:k}):r==="inquiries-received"?s.jsx(GC,{onBack:()=>o("dashboard"),currentUser:e,onReplyWithOffer:S,onViewProfile:k}):s.jsx(UC,{onBack:()=>o("dashboard"),onCreateNew:()=>i("inquiries-create"),currentUser:e,onViewProfile:k}):n==="offers"?r==="offers-create"?s.jsx(HC,{onBack:()=>{i("offers-my"),x(null),C(null)},onSaveSuccess:()=>{i("offers-my"),x(null),C(null)},currentUser:e,initialData:g||b,isReviseMode:!!g,isResponseMode:!!b}):r==="offers-explore"?s.jsx(JC,{onBack:()=>o("dashboard"),currentUser:e,onReplyWithInquiry:B,onViewProfile:k}):r==="offers-received"?s.jsx(WC,{onBack:()=>o("dashboard"),currentUser:e,onViewProfile:k}):s.jsx($C,{onBack:()=>o("dashboard"),onCreateNew:()=>{x(null),C(null),i("offers-create")},onRevise:U,currentUser:e,onViewProfile:k}):n==="booking"?r==="booking-report"?s.jsx(XC,{onBack:()=>o("dashboard"),currentUser:e}):s.jsx(QC,{onBack:()=>o("dashboard"),currentUser:e}):n==="profile"?s.jsx("div",{className:"flex-1 overflow-y-auto p-8 flex justify-center",children:s.jsxs("div",{className:"w-full max-w-2xl bg-white/5 border border-white/10 rounded-2xl p-8 shadow-xl",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-ocean-800 border-4 border-ocean-600 overflow-hidden mb-4",children:e.photoBase64?s.jsx("img",{src:e.photoBase64,className:"w-full h-full object-cover"}):s.jsx(ct,{className:"w-12 h-12 m-auto mt-4 text-ocean-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:e.fullName}),s.jsxs("p",{className:"text-ocean-300",children:[e.designation," at ",e.companyName]}),s.jsx("span",{className:"mt-2 px-3 py-1 bg-ocean-600 rounded-full text-xs font-semibold",children:e.role})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-ocean-900/50 rounded-lg border border-white/5",children:[s.jsx("label",{className:"text-xs text-ocean-400 uppercase font-bold",children:"Contact Email"}),s.jsx("p",{className:"text-white",children:e.email})]}),s.jsxs("div",{className:"p-4 bg-ocean-900/50 rounded-lg border border-white/5",children:[s.jsx("label",{className:"text-xs text-ocean-400 uppercase font-bold",children:"Mobile"}),s.jsx("p",{className:"text-white",children:e.mobile})]}),s.jsxs("div",{className:"p-4 bg-ocean-900/50 rounded-lg border border-white/5",children:[s.jsx("label",{className:"text-xs text-ocean-400 uppercase font-bold",children:"Address"}),s.jsx("p",{className:"text-white",children:e.address})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-ocean-900/50 to-emerald-900/20 rounded-lg border border-emerald-500/20 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-emerald-400 uppercase font-bold",children:"Subscription"}),s.jsxs("p",{className:"text-white font-bold",children:[e.plan||"Free"," Plan ",s.jsxs("span",{className:"text-xs font-normal text-ocean-400",children:["(Expires: ",K(e.expiryDate),")"]})]})]}),s.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-xs font-bold shadow-lg",children:"Subscribe / Upgrade"})]})]})]})}):n==="dashboard"?s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:s.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[ZC.map((V,Y)=>s.jsxs("div",{className:`bg-ocean-900/40 border ${V.border} rounded-xl p-5 flex flex-col justify-between hover:bg-ocean-900/60 transition-colors`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:`text-sm font-medium ${V.color}`,children:V.label}),s.jsx("div",{className:`p-2 rounded-lg ${V.bg}`,children:s.jsx(V.icon,{className:`w-4 h-4 ${V.color}`})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-3xl font-bold text-white",children:V.value}),s.jsx("span",{className:"text-xs text-ocean-400 ml-2",children:"Updates"})]})]},Y)),e.role!==Yt.SHIPPER_EXPORTER&&s.jsxs("div",{onClick:()=>{o("inquiries"),i("inquiries-explore")},className:"bg-gradient-to-br from-cyan-900/50 to-blue-900/50 border border-cyan-500/30 rounded-xl p-5 flex flex-col justify-between hover:shadow-lg hover:shadow-cyan-900/20 transition-all cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-sm font-bold text-cyan-300",children:"Explore Market"}),s.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20 group-hover:bg-cyan-500/30 transition-colors",children:s.jsx(Mt,{className:"w-4 h-4 text-cyan-400"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-lg font-bold text-white group-hover:text-cyan-200 transition-colors",children:"Find Inquiries"}),s.jsx("p",{className:"text-xs text-cyan-400/70 mt-1",children:"Search global & network loads"})]})]}),e.role!==Yt.LINER_OPERATOR&&s.jsxs("div",{onClick:()=>{o("offers"),i("offers-explore")},className:"bg-gradient-to-br from-emerald-900/50 to-teal-900/50 border border-emerald-500/30 rounded-xl p-5 flex flex-col justify-between hover:shadow-lg hover:shadow-emerald-900/20 transition-all cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-sm font-bold text-emerald-300",children:"Explore Market"}),s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20 group-hover:bg-emerald-500/30 transition-colors",children:s.jsx(Pt,{className:"w-4 h-4 text-emerald-400"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-lg font-bold text-white group-hover:text-emerald-200 transition-colors",children:"Find Offers"}),s.jsx("p",{className:"text-xs text-emerald-400/70 mt-1",children:"Search competitive freight rates"})]})]})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center",children:[s.jsx(Qm,{className:"w-5 h-5 mr-2 text-ocean-400"})," Pending Items Overview"]}),s.jsx("button",{className:"text-xs text-ocean-300 hover:text-white transition-colors",children:"View All"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Reference ID"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Module"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Subject"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Date"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-ocean-100",children:eE.map((V,Y)=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 font-mono text-xs text-ocean-400",children:V.id}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-ocean-800 text-ocean-200",children:V.module})}),s.jsx("td",{className:"px-6 py-4 font-medium text-white",children:V.subject}),s.jsx("td",{className:"px-6 py-4 text-ocean-400",children:V.date}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"text-amber-400 flex items-center text-xs",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 mr-2"}),V.status]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{className:"text-ocean-400 hover:text-white",children:s.jsx(Jd,{className:"w-4 h-4"})})})]},Y))})]})})]})]})}):s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center p-8 border-2 border-dashed border-white/10 rounded-2xl bg-white/5",children:[s.jsx("div",{className:"w-20 h-20 bg-ocean-800/50 rounded-full flex items-center justify-center mb-6",children:((D=Gn.find(V=>V.id===n))==null?void 0:D.icon)&&on.createElement(Gn.find(V=>V.id===n).icon,{className:"w-10 h-10 text-ocean-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r?(Ce=(ce=(Q=Gn.find(V=>V.id===n))==null?void 0:Q.subItems)==null?void 0:ce.find(V=>V.id===r))==null?void 0:Ce.label:(De=Gn.find(V=>V.id===n))==null?void 0:De.label}),s.jsxs("p",{className:"text-ocean-300 max-w-md",children:["This module is currently under development. You will be able to manage your ",n," here."]}),s.jsxs("button",{className:"mt-8 px-6 py-3 bg-ocean-600 hover:bg-ocean-500 text-white rounded-lg font-medium transition-colors flex items-center",children:[s.jsx(Dg,{className:"w-5 h-5 mr-2"})," Create New Record"]})]})})]})})]}),T&&s.jsx(YC,{user:T,onClose:()=>R(null)})]})},nE=({onBack:e})=>{const[t,n]=N.useState("PORT"),[o,r]=N.useState(""),[i,a]=N.useState([]),[d,u]=N.useState([]),[f,p]=N.useState([]),[h,m]=N.useState([]),[y,w]=N.useState(!1),[E,j]=N.useState(null),[v,g]=N.useState(""),[x,b]=N.useState(""),[C,A]=N.useState(""),[I,T]=N.useState("");N.useEffect(()=>{R()},[]);const R=()=>{a(pe.getPorts()),u(pe.getLoadTypes()),p(pe.getCurrencies()),m(pe.getMatrices())},_=(U,S)=>{w(!0),j(U.id),S==="PORT"?(g(U.name),b(U.shortName),A(U.fullName),T(U.country)):S==="LOAD"?(g(U.loadType),b(U.detail)):S==="CURRENCY"?(g(U.currency),b(U.country)):S==="MATRIX"&&g(U.name)},P=(U,S)=>{window.confirm("Delete this record?")&&(S==="PORT"&&pe.deletePort(U),S==="LOAD"&&pe.deleteLoadType(U),S==="CURRENCY"&&pe.deleteCurrency(U),S==="MATRIX"&&pe.deleteMatrix(U),R())},L=U=>{U.preventDefault();const S=E||Date.now().toString();t==="PORT"?pe.savePort({id:S,name:v,shortName:x,fullName:C,country:I}):t==="LOAD"?pe.saveLoadType({id:S,loadType:v,detail:x}):t==="CURRENCY"?pe.saveCurrency({id:S,currency:v,country:x}):t==="MATRIX"&&pe.saveMatrix({id:S,name:v}),R(),O()},O=()=>{w(!1),j(null),g(""),b(""),A(""),T("")},M=()=>{const U=o.toLowerCase();return t==="PORT"?i.filter(S=>S.name.toLowerCase().includes(U)||S.shortName.toLowerCase().includes(U)):t==="LOAD"?d.filter(S=>S.loadType.toLowerCase().includes(U)):t==="CURRENCY"?f.filter(S=>S.currency.toLowerCase().includes(U)):t==="MATRIX"?h.filter(S=>S.name.toLowerCase().includes(U)):[]};return s.jsxs("div",{className:"flex flex-col h-full w-full bg-ocean-950/80 overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"shrink-0 h-14 flex items-center justify-between px-6 bg-white/5 border-b border-white/10 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-slate-700/50 rounded-lg text-slate-300",children:s.jsx(sh,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-lg text-white",children:"Admin Masters"})]}),s.jsx("button",{onClick:e,className:"p-2 text-ocean-300 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:s.jsx(Se,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"PORT",label:"Port Master",icon:Mt},{id:"LOAD",label:"Load Type",icon:St},{id:"CURRENCY",label:"Currency",icon:ii},{id:"MATRIX",label:"Matrix",icon:Zm}].map(U=>{const S=U.icon;return s.jsxs("button",{onClick:()=>{n(U.id),O()},className:`px-4 py-2 rounded-xl text-sm font-bold flex items-center transition-all ${t===U.id?"bg-cyan-600 text-white shadow-lg":"bg-ocean-900/50 text-ocean-400 hover:text-white"}`,children:[s.jsx(S,{className:"w-4 h-4 mr-2"})," ",U.label]},U.id)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-ocean-900/40 border border-white/10 rounded-xl overflow-hidden flex flex-col h-[600px]",children:[s.jsxs("div",{className:"p-4 border-b border-white/10 bg-white/5 flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(le,{className:"absolute left-3 top-2.5 w-4 h-4 text-ocean-400"}),s.jsx("input",{type:"text",placeholder:`Search ${t}...`,value:o,onChange:U=>r(U.target.value),className:"w-full bg-ocean-950 border border-ocean-700 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:ring-1 focus:ring-cyan-500 outline-none"})]}),s.jsxs("div",{className:"text-xs text-ocean-400 font-mono",children:["Count: ",M().length]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-0",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-white/5 text-xs uppercase text-ocean-300 sticky top-0 backdrop-blur-md",children:s.jsxs("tr",{children:[t==="PORT"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-4 py-3",children:"Name (Code)"}),s.jsx("th",{className:"px-4 py-3",children:"Full Name"}),s.jsx("th",{className:"px-4 py-3",children:"Country"})]}),t==="LOAD"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-4 py-3",children:"Load Type"}),s.jsx("th",{className:"px-4 py-3",children:"Details"})]}),t==="CURRENCY"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-4 py-3",children:"Currency"}),s.jsx("th",{className:"px-4 py-3",children:"Country"})]}),t==="MATRIX"&&s.jsx("th",{className:"px-4 py-3",children:"Matrix Name"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:M().map(U=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[t==="PORT"&&s.jsxs(s.Fragment,{children:[s.jsxs("td",{className:"px-4 py-2 text-white font-medium",children:[U.name," ",s.jsxs("span",{className:"text-ocean-400 font-mono text-xs",children:["(",U.shortName,")"]})]}),s.jsx("td",{className:"px-4 py-2 text-ocean-300 text-xs",children:U.fullName}),s.jsx("td",{className:"px-4 py-2 text-ocean-300 text-xs",children:U.country})]}),t==="LOAD"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-2 text-white font-medium",children:U.loadType}),s.jsx("td",{className:"px-4 py-2 text-ocean-400 text-xs",children:U.detail||"-"})]}),t==="CURRENCY"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-4 py-2 text-white font-bold",children:U.currency}),s.jsx("td",{className:"px-4 py-2 text-ocean-300",children:U.country})]}),t==="MATRIX"&&s.jsx("td",{className:"px-4 py-2 text-white font-medium",children:U.name}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>_(U,t),className:"p-1.5 text-cyan-400 hover:bg-cyan-900/30 rounded",children:s.jsx(Fs,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>P(U.id,t),className:"p-1.5 text-rose-400 hover:bg-rose-900/30 rounded",children:s.jsx(Vs,{className:"w-3.5 h-3.5"})})]})})]},U.id))})]})})]}),s.jsxs("div",{className:"lg:col-span-1 bg-ocean-900/40 border border-white/10 rounded-xl p-6 h-fit shadow-lg",children:[s.jsxs("h3",{className:"text-white font-bold mb-6 flex items-center",children:[y?s.jsx(Fs,{className:"w-4 h-4 mr-2 text-yellow-400"}):s.jsx($t,{className:"w-4 h-4 mr-2 text-emerald-400"}),y?"Edit Record":"Add New Record"]}),s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[t==="PORT"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Port Name"}),s.jsx("input",{required:!0,className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:v,onChange:U=>g(U.target.value),placeholder:"e.g. Mundra"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Short Name (Code)"}),s.jsx("input",{required:!0,className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:x,onChange:U=>b(U.target.value),placeholder:"e.g. INMUN"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Full Name"}),s.jsx("input",{required:!0,className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:C,onChange:U=>A(U.target.value),placeholder:"e.g. Adani Port"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Country"}),s.jsx("input",{required:!0,className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:I,onChange:U=>T(U.target.value),placeholder:"e.g. India"})]})]}),t==="LOAD"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Load Type"}),s.jsx("input",{required:!0,className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:v,onChange:U=>g(U.target.value),placeholder:"e.g. 20 Feet Box"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Detail (Optional)"}),s.jsx("input",{className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:x,onChange:U=>b(U.target.value),placeholder:"Optional detail"})]})]}),t==="CURRENCY"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Currency Code"}),s.jsx("input",{required:!0,className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:v,onChange:U=>g(U.target.value),placeholder:"e.g. USD"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Country"}),s.jsx("input",{required:!0,className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:x,onChange:U=>b(U.target.value),placeholder:"e.g. USA"})]})]}),t==="MATRIX"&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-ocean-400 uppercase font-bold",children:"Matrix Unit"}),s.jsx("input",{required:!0,className:"w-full bg-ocean-950 border border-ocean-700 rounded p-2 text-white text-sm",value:v,onChange:U=>g(U.target.value),placeholder:"e.g. Container"})]})}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[y&&s.jsx("button",{type:"button",onClick:O,className:"flex-1 py-2 bg-ocean-800 text-ocean-300 rounded hover:bg-ocean-700 font-medium",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded font-bold shadow-lg hover:from-emerald-500 hover:to-teal-500",children:y?"Update":"Add Record"})]})]})]})]})]})})]})},sE={email:"admin",fullName:"Super Admin",role:"Admin",plan:"CORPORATE"},oE=({onLogout:e})=>{const[t,n]=N.useState("DASHBOARD"),[o,r]=N.useState([]),[i,a]=N.useState(""),[d,u]=N.useState(Fe.getGlobalSettings()),[f,p]=N.useState(!1),[h,m]=N.useState([]),[y,w]=N.useState([]),[E,j]=N.useState(null),[v,g]=N.useState(""),[x,b]=N.useState("PENDING"),[C,A]=N.useState(!1),[I,T]=N.useState({}),[R,_]=N.useState("");N.useEffect(()=>{P()},[]),N.useEffect(()=>{t==="ECRM"&&L()},[t]);const P=()=>{r(Fe.getAllUsers()),u(Fe.getGlobalSettings());const D=Fe.getAdminTickets();m(D),T(Fe.getPlanPricing())},L=()=>{A(!0),setTimeout(()=>{const D=h.filter(Q=>{const ce=W(Q.createdBy||""),Ce=Q.ticketNumber.toLowerCase().includes(v.toLowerCase())||Q.subject.toLowerCase().includes(v.toLowerCase())||ce.toLowerCase().includes(v.toLowerCase())||(Q.createdBy||"").toLowerCase().includes(v.toLowerCase()),De=x==="ALL"||Q.status===x;return Ce&&De});w(D),A(!1)},300)},O=D=>{const Q={...d,defaultTrialDays:D};Fe.updateGlobalSettings(Q),u(Q),alert("Global settings updated. New users will receive "+D+" trial days.")},M=(D,Q)=>{const ce=Q==="ACTIVE"?"SUSPENDED":"ACTIVE";window.confirm(`Are you sure you want to change status to ${ce}?`)&&(ke.updateUserStatus(D,ce),P())},U=D=>{ke.updateSubscription(D,"FREE",30),P(),alert("Trial extended by 30 days.")},S=D=>{window.confirm("This will expire the user's subscription immediately. Continue?")&&(Fe.forceExpireUser(D),P())},B=()=>{if(R.length<4){alert("Password too short");return}Fe.changeAdminPassword(R),alert("Admin Password Updated Successfully"),_("")},k=(D,Q)=>{T(ce=>({...ce,[D]:Q}))},H=()=>{Fe.updatePlanPricing(I),alert("Plan Pricing Updated.")},G=D=>{j(D)},K=()=>{j(null);const D=Fe.getAdminTickets();m(D),w(Q=>Q.map(ce=>D.find(De=>De.id===ce.id)||ce))},W=D=>{const Q=o.find(ce=>ce.email===D);return Q?`${Q.fullName} - ${Q.companyName}`:D},he=o.filter(D=>D.fullName.toLowerCase().includes(i.toLowerCase())||D.companyName.toLowerCase().includes(i.toLowerCase())||D.email.toLowerCase().includes(i.toLowerCase())),ee=h.filter(D=>D.status==="PENDING").length,Be=D=>new Date(D).toLocaleDateString("en-GB"),ne=({label:D,value:Q,icon:ce,color:Ce})=>s.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-6 rounded-xl flex items-center space-x-4 shadow-lg",children:[s.jsx("div",{className:`p-3 rounded-full ${Ce} bg-opacity-20`,children:s.jsx(ce,{className:`w-6 h-6 ${Ce.replace("bg-","text-")}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-sm",children:D}),s.jsx("p",{className:"text-2xl font-bold text-white",children:Q})]})]}),Me=()=>[10,40,30,70,50,90],X=()=>[40,80,60,100];return s.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col md:flex-row",children:[s.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 border-r border-slate-800 transition-transform duration-300 ${f?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0`,children:[s.jsxs("div",{className:"h-16 flex items-center px-6 border-b border-slate-800",children:[s.jsx(Nc,{className:"w-6 h-6 text-emerald-500 mr-3"}),s.jsx("span",{className:"text-xl font-bold text-white",children:"Admin Panel"}),s.jsx("button",{className:"md:hidden ml-auto text-slate-400",onClick:()=>p(!1),children:s.jsx(Dt,{})})]}),s.jsxs("nav",{className:"p-4 space-y-2",children:[s.jsxs("button",{onClick:()=>{n("DASHBOARD"),j(null)},className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${t==="DASHBOARD"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[s.jsx(Mg,{className:"w-5 h-5 mr-3"})," Dashboard"]}),s.jsxs("button",{onClick:()=>{n("USERS"),j(null)},className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${t==="USERS"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[s.jsx(Wn,{className:"w-5 h-5 mr-3"})," User Management"]}),s.jsxs("button",{onClick:()=>{n("MASTERS"),j(null)},className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${t==="MASTERS"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[s.jsx(da,{className:"w-5 h-5 mr-3"})," Master Data"]}),s.jsxs("button",{onClick:()=>{n("ECRM"),j(null)},className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${t==="ECRM"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[s.jsx(At,{className:"w-5 h-5 mr-3"})," ECRM Panel",ee>0&&s.jsx("span",{className:"ml-auto bg-rose-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:ee})]}),s.jsxs("button",{onClick:()=>{n("PLANS"),j(null)},className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${t==="PLANS"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[s.jsx(Co,{className:"w-5 h-5 mr-3"})," User Plans"]}),s.jsxs("button",{onClick:()=>{n("SETTINGS"),j(null)},className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${t==="SETTINGS"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[s.jsx(sh,{className:"w-5 h-5 mr-3"})," Settings"]})]}),s.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-slate-800",children:s.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center px-4 py-2 text-rose-400 hover:bg-rose-900/20 rounded-lg transition-colors",children:[s.jsx(pa,{className:"w-5 h-5 mr-2"})," Logout"]})})]}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[s.jsxs("div",{className:"md:hidden h-14 bg-slate-900 border-b border-slate-800 flex items-center px-4",children:[s.jsx("button",{onClick:()=>p(!0),className:"text-slate-300",children:s.jsx(eh,{})}),s.jsx("span",{className:"ml-4 font-bold",children:"Seafrex Admin"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar bg-slate-950 relative",children:t==="ECRM"&&E?s.jsxs("div",{className:"h-full flex flex-col animate-fade-in-up",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsxs("button",{onClick:()=>j(null),className:"text-slate-400 hover:text-white flex items-center mr-4",children:[s.jsx(yc,{className:"w-5 h-5 mr-1"})," Back to List"]}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Manage Ticket"})]}),s.jsx("div",{className:"flex-1 overflow-hidden bg-slate-900/50 border border-slate-800 rounded-xl",children:s.jsx(Mh,{ticketId:E,onBack:()=>j(null),onUpdateSuccess:K,currentUser:sE,isAdminView:!0})})]}):t==="ECRM"?s.jsxs("div",{className:"space-y-6 animate-fade-in-up h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 shrink-0",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(At,{className:"w-6 h-6 mr-3 text-rose-400"}),"ECRM Support Panel"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(le,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Search ID, Subject, User...",className:"bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-sm focus:outline-none focus:border-rose-500 text-white w-full sm:w-56",value:v,onChange:D=>g(D.target.value)})]}),s.jsx("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:["ALL","PENDING","RESOLVED"].map(D=>s.jsx("button",{onClick:()=>b(D),className:`px-3 py-1.5 rounded text-xs font-bold transition-colors ${x===D?"bg-rose-600 text-white":"text-slate-400 hover:text-white"}`,children:D},D))}),s.jsx("button",{onClick:L,disabled:C,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center shadow-lg disabled:opacity-50",children:C?s.jsx(Ct,{className:"w-4 h-4 animate-spin"}):"GO"})]})]}),s.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-lg flex-1",children:s.jsx("div",{className:"overflow-y-auto h-full custom-scrollbar",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-slate-800 text-xs uppercase text-slate-400 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Ticket Info"}),s.jsx("th",{className:"px-6 py-4",children:"Sender (User Details)"}),s.jsx("th",{className:"px-6 py-4",children:"Subject"}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-800 text-sm",children:y.length>0?y.map(D=>s.jsxs("tr",{className:"hover:bg-slate-800/50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-mono text-slate-300 font-bold",children:D.ticketNumber}),s.jsx("div",{className:"text-xs text-slate-500 mt-1",children:Be(D.date)})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium text-white",children:W(D.createdBy||"")}),s.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:[D.partyType,"  ",D.createdBy]})]}),s.jsx("td",{className:"px-6 py-4 text-slate-300 font-medium",children:D.subject}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${D.status==="PENDING"?"bg-amber-900/30 text-amber-400":"bg-emerald-900/30 text-emerald-400"}`,children:D.status})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{onClick:()=>G(D.id),className:"bg-rose-600 hover:bg-rose-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-colors shadow-lg shadow-rose-900/20",children:"Response / Action"})})]},D.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(le,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No tickets match criteria. Click GO to refresh."})]})})})})]})})})]}):s.jsxs(s.Fragment,{children:[t==="DASHBOARD"&&s.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[s.jsx(ne,{label:"Pending Tickets",value:ee,icon:At,color:"bg-rose-500"}),s.jsx(ne,{label:"Total Users",value:o.length,icon:Wn,color:"bg-blue-500"}),s.jsx(ne,{label:"Active Free Plan",value:o.filter(D=>D.plan==="FREE"&&D.subscriptionStatus==="ACTIVE").length,icon:we,color:"bg-emerald-500"}),s.jsx(ne,{label:"Active Office Plan",value:o.filter(D=>D.plan==="OFFICE"&&D.subscriptionStatus==="ACTIVE").length,icon:we,color:"bg-blue-600"}),s.jsx(ne,{label:"Active Corporate",value:o.filter(D=>D.plan==="CORPORATE"&&D.subscriptionStatus==="ACTIVE").length,icon:Co,color:"bg-amber-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-xl shadow-lg",children:[s.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center",children:[s.jsx(zd,{className:"w-4 h-4 mr-2 text-emerald-400"})," Monthly Onboarding Trend"]}),s.jsx("div",{className:"h-48 flex items-end justify-between gap-2 px-4 border-b border-slate-700 pb-2",children:Me().map((D,Q)=>s.jsx("div",{className:"w-full bg-emerald-500/50 hover:bg-emerald-500 rounded-t-sm relative group",style:{height:`${D}%`},children:s.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[D," Users"]})},Q))}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2 px-4",children:[s.jsx("span",{children:"Jan"}),s.jsx("span",{children:"Feb"}),s.jsx("span",{children:"Mar"}),s.jsx("span",{children:"Apr"}),s.jsx("span",{children:"May"}),s.jsx("span",{children:"Jun"})]})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-xl shadow-lg",children:[s.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center",children:[s.jsx(zd,{className:"w-4 h-4 mr-2 text-blue-400"})," Quarterly Growth"]}),s.jsx("div",{className:"h-48 flex items-end justify-between gap-4 px-8 border-b border-slate-700 pb-2",children:X().map((D,Q)=>s.jsx("div",{className:"w-full bg-blue-500/50 hover:bg-blue-500 rounded-t-md relative group",style:{height:`${D}%`},children:s.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[D," Users"]})},Q))}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2 px-8",children:[s.jsx("span",{children:"Q1"}),s.jsx("span",{children:"Q2"}),s.jsx("span",{children:"Q3"}),s.jsx("span",{children:"Q4"})]})]})]})]}),t==="USERS"&&s.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Management"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Search users...",className:"bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-sm focus:outline-none focus:border-emerald-500 text-white w-64",value:i,onChange:D=>a(D.target.value)})]})]}),s.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-lg",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-slate-800 text-xs uppercase text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"User Details"}),s.jsx("th",{className:"px-6 py-4",children:"Company"}),s.jsx("th",{className:"px-6 py-4",children:"Plan & Expiry"}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-800 text-sm",children:he.map(D=>s.jsxs("tr",{className:"hover:bg-slate-800/50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-bold text-white",children:D.fullName}),s.jsx("div",{className:"text-slate-500 text-xs",children:D.email}),s.jsx("div",{className:"text-slate-500 text-xs",children:D.mobile})]}),s.jsx("td",{className:"px-6 py-4 text-slate-300",children:D.companyName}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${D.plan==="CORPORATE"?"bg-amber-900/30 text-amber-400":D.plan==="OFFICE"?"bg-blue-900/30 text-blue-400":"bg-slate-700 text-slate-300"}`,children:D.plan}),s.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${D.subscriptionStatus==="ACTIVE"?"bg-emerald-900/30 text-emerald-400":"bg-rose-900/30 text-rose-400"}`,children:D.subscriptionStatus})]}),s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Exp: ",Be(D.expiryDate)]})]}),s.jsx("td",{className:"px-6 py-4",children:D.status==="ACTIVE"?s.jsxs("span",{className:"text-emerald-500 flex items-center text-xs font-bold",children:[s.jsx(we,{className:"w-3 h-3 mr-1"})," Active"]}):s.jsxs("span",{className:"text-rose-500 flex items-center text-xs font-bold",children:[s.jsx(zs,{className:"w-3 h-3 mr-1"})," Suspended"]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>M(D.email,D.status||"ACTIVE"),className:"text-slate-400 hover:text-white p-1",title:"Toggle Status",children:s.jsx(_g,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>U(D.email),className:"text-emerald-400 hover:text-emerald-300 p-1",title:"Extend +30 Days",children:s.jsx(kn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>S(D.email),className:"text-rose-400 hover:text-rose-300 p-1",title:"Force Expire",children:s.jsx(pa,{className:"w-4 h-4"})})]})})]},D.email))})]})})]}),t==="MASTERS"&&s.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800 h-full flex flex-col",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4 shrink-0",children:"Master Data Management"}),s.jsx("div",{className:"flex-1 overflow-hidden rounded-lg bg-slate-950/50 p-2 border border-slate-800",children:s.jsx(nE,{onBack:()=>{}})})]}),t==="PLANS"&&s.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"User Plan Configuration"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Object.entries(Km).map(([D,Q])=>s.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:D==="FREE"?s.jsx(Wn,{className:"w-20 h-20"}):D==="OFFICE"?s.jsx(da,{className:"w-20 h-20"}):s.jsx(Co,{className:"w-20 h-20"})}),s.jsxs("h3",{className:"text-lg font-bold text-emerald-400 mb-4",children:[D," Plan"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold block mb-1",children:"Yearly Price ()"}),s.jsx("input",{type:"number",className:"w-full bg-slate-900 border border-slate-600 rounded px-2 py-1 text-white",value:I[D],onChange:ce=>k(D,parseInt(ce.target.value)),disabled:D==="FREE"})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300 pt-4 border-t border-slate-700",children:[s.jsxs("li",{className:"flex justify-between border-b border-slate-700 pb-2",children:[s.jsx("span",{children:"Max Sub-Users"}),s.jsx("span",{className:"font-bold text-white",children:Q.maxSubUsers})]}),s.jsxs("li",{className:"flex justify-between border-b border-slate-700 pb-2",children:[s.jsx("span",{children:"Daily Transactions"}),s.jsx("span",{className:"font-bold text-white",children:Q.maxDailyTransactions>1e3?"Unlimited":Q.maxDailyTransactions})]}),s.jsxs("li",{className:"flex justify-between border-b border-slate-700 pb-2",children:[s.jsx("span",{children:"Explore Market"}),s.jsx("span",{className:"font-bold text-white",children:"Unlimited"})]}),s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Basic Features"}),s.jsx("span",{className:"font-bold text-emerald-400",children:"Included"})]})]})]},D))}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:H,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded-lg font-bold shadow-lg flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"})," Save Pricing Changes"]})})]}),t==="SETTINGS"&&s.jsxs("div",{className:"max-w-2xl mx-auto animate-fade-in-up space-y-8",children:[s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-8",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Global Configuration"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Default Free Trial Duration (Days)"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"number",min:"1",className:"bg-slate-950 border border-slate-700 text-white rounded-lg px-4 py-3 w-32 focus:ring-2 focus:ring-emerald-500 outline-none",value:d.defaultTrialDays,onChange:D=>u({...d,defaultTrialDays:parseInt(D.target.value)})}),s.jsxs("button",{onClick:()=>O(d.defaultTrialDays),className:"bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-3 rounded-lg font-bold flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"})," Save Setting"]})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"This setting applies to all new user registrations."})]})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(Ee,{className:"w-5 h-5 mr-2 text-rose-400"})," Admin Security"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Change Admin Password"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"password",placeholder:"New Password",className:"bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-rose-500 outline-none",value:R,onChange:D=>_(D.target.value)}),s.jsxs("button",{onClick:B,className:"bg-rose-600 hover:bg-rose-500 text-white px-6 py-3 rounded-lg font-bold flex items-center whitespace-nowrap",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"})," Update Password"]})]})]})]})]})]})})]})]})},rE=()=>{const[e,t]=N.useState("LOGIN_EMAIL"),[n,o]=N.useState(null),[r,i]=N.useState("");N.useEffect(()=>{const w=ke.getCurrentUser();w&&(new Date(w.expiryDate)<new Date?(i(w.email),t("SUBSCRIPTION_EXPIRED")):(o(w),t("DASHBOARD")))},[]);const a=w=>{const E=ke.loginUser(w);E?(o(E),t("DASHBOARD")):(alert("User record missing locally. Please sign up."),i(w),t("SIGNUP"))},d=w=>{i(w),t("SIGNUP")},u=w=>{o(w),t("DASHBOARD")},f=()=>{t("ADMIN_PANEL")},p=()=>{ke.logout(),o(null),i(""),t("LOGIN_EMAIL")},h=()=>{t("LOGIN_EMAIL"),i("")},m=w=>{i(w),t("SUBSCRIPTION_EXPIRED")},y=()=>{const w=ke.getUser(r);w&&(ke.loginUser(w),o(w),t("DASHBOARD"))};return s.jsxs("div",{className:`min-h-screen ${e==="ADMIN_PANEL"?"bg-slate-950":"bg-ocean-950 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-ocean-800 via-ocean-950 to-black"} text-white flex items-center justify-center relative overflow-hidden`,children:[e!=="DASHBOARD"&&e!=="ADMIN_PANEL"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-600/20 rounded-full blur-[120px] pointer-events-none"}),s.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-cyan-600/10 rounded-full blur-[120px] pointer-events-none"})]}),e==="DASHBOARD"&&n?s.jsx("div",{className:"w-full h-screen z-10",children:s.jsx(tE,{user:n,onLogout:p})}):e==="ADMIN_PANEL"?s.jsx("div",{className:"w-full h-screen z-10",children:s.jsx(oE,{onLogout:p})}):e==="SUBSCRIPTION_EXPIRED"?s.jsx("div",{className:"w-full h-screen z-10 overflow-y-auto",children:s.jsx(Dh,{userEmail:r,onSuccess:y,onLogout:p})}):s.jsx("main",{className:"relative z-10 w-full flex justify-center p-4",children:e==="LOGIN_EMAIL"||e==="LOGIN_OTP"||e==="LOGIN_PASS"?s.jsx(Bg,{onLoginSuccess:a,onUserNotFound:d,onAdminLogin:f,onSubscriptionExpired:m}):e==="SIGNUP"?s.jsx(vC,{initialEmail:r,onSignupSuccess:u,onCancel:h}):s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-ocean-500 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"mt-4 text-ocean-300",children:"Loading Seafrex Portal..."})]})}),(e==="LOGIN_EMAIL"||e==="LOGIN_OTP"||e==="LOGIN_PASS"||e==="SIGNUP")&&s.jsxs("footer",{className:"absolute bottom-4 w-full text-center text-xs text-ocean-600/50",children:[" ",new Date().getFullYear()," Seafrex.in. Secure Logistics Portal."]})]})},Lh=document.getElementById("root");if(!Lh)throw new Error("Could not find root element to mount to");const iE=hl.createRoot(Lh);iE.render(s.jsx(on.StrictMode,{children:s.jsx(rE,{})}));
